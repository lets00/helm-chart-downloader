---
# Source: teslamate/templates/common.yaml
apiVersion: v1
kind: Service
metadata:
  name: my-release
  labels:
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: my-release
    app.kubernetes.io/service: my-release
    app.kubernetes.io/version: 1.29.1
    helm.sh/chart: teslamate-1.0.22
spec:
  type: ClusterIP
  ports:
    - port: 4000
      targetPort: 4000
      protocol: TCP
      name: http
  selector:
    app.kubernetes.io/component: main
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/name: my-release
---
# Source: teslamate/templates/common.yaml
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-release
  labels:
    app.kubernetes.io/component: main
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: my-release
    app.kubernetes.io/version: 1.29.1
    helm.sh/chart: teslamate-1.0.22
spec:
  revisionHistoryLimit: 3
  replicas: 1
  strategy:
    type: Recreate
  selector:
    matchLabels:
      app.kubernetes.io/component: main
      app.kubernetes.io/name: my-release
      app.kubernetes.io/instance: my-release
  template:
    metadata:
      labels: 
        app.kubernetes.io/component: main
        app.kubernetes.io/instance: my-release
        app.kubernetes.io/name: my-release
    spec: 
      enableServiceLinks: false
      serviceAccountName: default
      automountServiceAccountToken: true
      hostIPC: false
      hostNetwork: false
      hostPID: false
      dnsPolicy: ClusterFirst
      containers: 
        - image: teslamate/teslamate:1.29.1
          imagePullPolicy: IfNotPresent
          name: main
