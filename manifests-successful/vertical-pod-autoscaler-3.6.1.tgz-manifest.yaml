---
# Source: vertical-pod-autoscaler/templates/admission-controller/serviceaccount.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: my-release-vertical-pod-autoscaler-admission-controller
  labels:
    helm.sh/chart: vertical-pod-autoscaler-3.6.1
    app.kubernetes.io/name: vertical-pod-autoscaler
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "0.9.2"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/component: admission-controller
---
# Source: vertical-pod-autoscaler/templates/recommender/serviceaccount.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: my-release-vertical-pod-autoscaler-recommender
  labels:
    helm.sh/chart: vertical-pod-autoscaler-3.6.1
    app.kubernetes.io/name: vertical-pod-autoscaler
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "0.9.2"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/component: recommender
---
# Source: vertical-pod-autoscaler/templates/updater/serviceaccount.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: my-release-vertical-pod-autoscaler-updater
  labels:
    helm.sh/chart: vertical-pod-autoscaler-3.6.1
    app.kubernetes.io/name: vertical-pod-autoscaler
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "0.9.2"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/component: updater
---
# Source: vertical-pod-autoscaler/templates/admission-controller/tls-secret.yaml
#
apiVersion: v1
kind: Secret
metadata:
  name: my-release-vertical-pod-autoscaler-admission-controller-tls
  labels:
    helm.sh/chart: vertical-pod-autoscaler-3.6.1
    app.kubernetes.io/name: vertical-pod-autoscaler
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "0.9.2"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/component: admission-controller
type: Opaque
data:
  ca.crt: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURjRENDQWxpZ0F3SUJBZ0lSQU5pZktVSm04OUw1aTlaM21CZVZRc013RFFZSktvWklodmNOQVFFTEJRQXcKUWpGQU1ENEdBMVVFQXhNM2JYa3RjbVZzWldGelpTMTJaWEowYVdOaGJDMXdiMlF0WVhWMGIzTmpZV3hsY2kxaApaRzFwYzNOcGIyNHRZMjl1ZEhKdmJHeGxjakFlRncweU5EQTJNakF4TkRVNU1ETmFGdzB5TlRBMk1qQXhORFU1Ck1ETmFNRUl4UURBK0JnTlZCQU1UTjIxNUxYSmxiR1ZoYzJVdGRtVnlkR2xqWVd3dGNHOWtMV0YxZEc5elkyRnMKWlhJdFlXUnRhWE56YVc5dUxXTnZiblJ5YjJ4c1pYSXdnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBdwpnZ0VLQW9JQkFRRG9ycUdrd2pFT0tlekltWjdoTm1ob1E5ejlBbnlybzBQZktEU2loZUxNcTNzRXJ1RWxzOUgzClcvWFQ1eGlETE5ZK09NZVJ1Q3haM1p6QjMwbnl5dzZNeFk3VnEybHI5cFlYSjNSay80RVFBb091MERjQkVaTVoKcHlMT2pmdEtEdXA2alZiaFVLSTVlQUl0N2dtYWlDVG1LdzVkRzlydmVzNXlISzVNcmRWV21yWFBYOElPdjVFdgp4dytybjZrWE1VbHo1Z0N4bnZ2V1htNFlicW9SeVB5SW9RNCsza0JVOEtZZU92aG1HcFA3THcrUHlkV0RIMzlUCkxHeGlTU0RoeC9RSUJBZ3JPNjJiTjZMd21IdVlOWGl5djJPbGQ3TWpxbkpBVzk1ZjQ0dW1KazZJM3BNOUhCWEYKL0RXUTVVTldrMnBhVEt5eFIrRzBFclFaK08xZU5rRWJBZ01CQUFHallUQmZNQTRHQTFVZER3RUIvd1FFQXdJQwpwREFkQmdOVkhTVUVGakFVQmdnckJnRUZCUWNEQVFZSUt3WUJCUVVIQXdJd0R3WURWUjBUQVFIL0JBVXdBd0VCCi96QWRCZ05WSFE0RUZnUVVkUkJwL04zcElYZnphTXFDTVJIRXM5K241VWd3RFFZSktvWklodmNOQVFFTEJRQUQKZ2dFQkFFSWFMai9ERTVFRStRN1VLL0FjNUhhMkNUYlJiV1BacnkxcWIrbk9XQkZZd3UzVFE5ekVnRnBqc3EweQp2Z3k0S2wxbXd6K2U5RDJGVHNLb2UzWnhuOGpKdmQ2R1dweTZyZEtlbU9tTStXRXBYK1dGR1UzOWFmKzJyendhCnB6R1FzQUdQQXBIUmtSU2FDRTVPZkt2VlEwb0hLTjhYNnFrbmpUZXc1alh4MVE5MlJiaStINHd5andHS2JVbjEKTXFKM1hzZUwxYlQ3MTROL2xEMm1iTXN6VGZSbkV6QkNCaEprRldVeldNUm1CeS90em9yWEM1TGpQK0NvNnVuRgp1VnJQeFFKbk9qczBnbHZYUHBSTEtzb3FLUFQzR2pocW12YitKU3JITjVxanZDUkZ0S1Y1N0VPbTMzdUlpQktlCmpocWJ0L3NCcUxtYjZXOEpKdzVSNjU0WVZQaz0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
  tls.crt: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURxRENDQXBDZ0F3SUJBZ0lRYmkvd3pONkJpWElueTBjREVPaG4zakFOQmdrcWhraUc5dzBCQVFzRkFEQkMKTVVBd1BnWURWUVFERXpkdGVTMXlaV3hsWVhObExYWmxjblJwWTJGc0xYQnZaQzFoZFhSdmMyTmhiR1Z5TFdGawpiV2x6YzJsdmJpMWpiMjUwY205c2JHVnlNQjRYRFRJME1EWXlNREUwTlRrd05Gb1hEVEkxTURZeU1ERTBOVGt3Ck5Gb3dQREU2TURnR0ExVUVBeE14ZG5CaExYZGxZbWh2YjJzdWRtVnlkR2xqWVd3dGNHOWtMV0YxZEc5elkyRnMKWlhJdE15NDJMakV1ZEdkNkxuTjJZekNDQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFEZ2dFUEFEQ0NBUW9DZ2dFQgpBT3RiZUVMNGR4R3ZyYkhJZnZ2TG1MVlBQd3dxcGMxdFpxVGFKN2VEKzM3OFpVMS9CUmJwdXVWQjRsSW9FU2tCCnZBcE5HNUQ3T1piekdsZkl5UkExb2NaelFGejZTd2YxZEFQS0ova2lHdzVXMUd2ZTdiVWhBeFhnWnlnTE54OVkKREJrTThzd1hxa0pIWTNCQXFkWDUwSTNiUWVFZWdWRDFDOXUrYmZQN242Uzd5S05DZDE2VEI3bUtySG1Wc3Z3OQpjM3RhV3M2aGxsbDExZ3VMNENFaHcxcDlQUWNIV2JKdGhVTmRQTWlHWVF4dndoU0hEck8yN1MwRXlBQ0FHWUplCjRTOGdTSlRJa2JBSjBFQU9XdTNFUVZjdDI3UElnNmtYTDdoVnV3bE9pVWhFd0RPSWFPanRMMCtiR3kzemhEUWUKOFB1NmNXMi9uRFhNM2xuL05RTzZoRk1DQXdFQUFhT0JuekNCbkRBT0JnTlZIUThCQWY4RUJBTUNCYUF3SFFZRApWUjBsQkJZd0ZBWUlLd1lCQlFVSEF3RUdDQ3NHQVFVRkJ3TUNNQXdHQTFVZEV3RUIvd1FDTUFBd0h3WURWUjBqCkJCZ3dGb0FVZFJCcC9OM3BJWGZ6YU1xQ01SSEVzOStuNVVnd1BBWURWUjBSQkRVd000SXhkbkJoTFhkbFltaHYKYjJzdWRtVnlkR2xqWVd3dGNHOWtMV0YxZEc5elkyRnNaWEl0TXk0MkxqRXVkR2Q2TG5OMll6QU5CZ2txaGtpRwo5dzBCQVFzRkFBT0NBUUVBcEE3NDc0TnZLNDcwR2s2QVZYR3F5U0tURG1kMFBXSWJSOVBxVmtocDBwYnB3aHpICmIraURsUHk0YW1FL3R6U0ovMVJTbjQrdUh1MldiNjdUZCt6RUNBem8wcE5KVGlmU0RHdHNqNGQ3bkd0SGR4QlcKait5TzJtNkRjdVlUWFhoa0tNR29QUTJuenp4V05GTllPaFFGd1ozbnRxcjJLNWdUTDRZdWN3RG9lU1phWlB2ZApOYlAxSm02clhWN3JxRGxhTHBOL2NKVDc0UmFoeEJYcytUcEM0cjBINWlmNDhBc2d0enV4b3l3THhEdGd1SmtHClpNVmljeXVyTUNOMTg4Mmg5OUJLTW4yb2FKcTdOdnJUSDkrTWZ0WDNHa2h5N1BDTFFGK0luWHBMNkVyWTUxYm4KYVZ5UW5iK1ZsaWthbk0zR1cyY0pLN1Q4TVVRRnBid1FBTGRrTkE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
  tls.key: "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFb2dJQkFBS0NBUUVBNjF0NFF2aDNFYSt0c2NoKys4dVl0VTgvRENxbHpXMW1wTm9udDRQN2Z2eGxUWDhGCkZ1bTY1VUhpVWlnUktRRzhDazBia1BzNWx2TWFWOGpKRURXaHhuTkFYUHBMQi9WMEE4b24rU0liRGxiVWE5N3QKdFNFREZlQm5LQXMzSDFnTUdRenl6QmVxUWtkamNFQ3AxZm5RamR0QjRSNkJVUFVMMjc1dDgvdWZwTHZJbzBKMwpYcE1IdVlxc2VaV3kvRDF6ZTFwYXpxR1dXWFhXQzR2Z0lTSERXbjA5QndkWnNtMkZRMTA4eUlaaERHL0NGSWNPCnM3YnRMUVRJQUlBWmdsN2hMeUJJbE1pUnNBblFRQTVhN2NSQlZ5M2JzOGlEcVJjdnVGVzdDVTZKU0VUQU00aG8KNk8wdlQ1c2JMZk9FTkI3dys3cHhiYitjTmN6ZVdmODFBN3FFVXdJREFRQUJBb0lCQUZybW1TeEVpcmhxQWN3SQpoQUw4UDU3SFhMSjJSbE54VFpPZUxualNvUEFLeTVXQzJaUmY4YTlhSXU5WVNraHNReFEzYzg0ck9iTHpjZGsxCjAzSlBSSXhCTnpxeDhRakI1RzBTUng0UjdpRTdxQStCcW8ycWttYUFwVmJ4L2ZnOUtXOERjVU1pWUwvNGtvOW8KYWpBYXJGSWR2UFFWdEJ4d2lJUDJxTUR6RGxXdzg5RHh1NFo2YjUyTkN5ck1OaTBXM2MrekNhTDM3TlEvakJzRApUWHo4cjVWem51SSt2aWtDT0lHV1hoQ1NLRjZKNU4rRVZTVTY5alRVZ3RqU2hqMis5TEVXTXdML0NFNTB5cjhmCkUvN2svRWN0aHBjUzBsVjZGdVUrTnd1YVpyN2orZXQ0MjlxRmVjSTRFZEIyYmZJays3M0s0V05rWXJVa2xHWWcKY0t1OGFBRUNnWUVBOVBmQVQzV3htWDFzNmlxY2ZlUDUyL0FQeHBEdWZYOUc2UCthd3JMTXBXMHZSK0tXNlUwbgpFYnZlbkZvdks1V1RzTC9IekgyZEdvNHBUNkxHSWdXeXJwZXNJd1dzSFllaTJab283R2l1V01wVE05WDVwT0pxCmFSdWhrWGxsbHBsWnBGRThCZkZjYnNYN21HQVc0RkhTY2RtSGVZRzNTU2RobEViTFlUT3Q4bUVDZ1lFQTlmVHIKTm8xa1NDQlJJVGZDTGJnQ3dPZGJ6S2ZXaWE0Sy80eVlXZkxzSVUyM2xSK2J6WWFiT3RxRkdsK2MzUEVDM3I5MApuTHZzNGY3ZXltK2lXYldVdFlFREo1SFhaMlkvT1hDNFFKVldyM2RsQ09tR21tZG1HTkxjcDY3Tms1bkY5b0pQCmpJVk9oalJUUUxIeUJENEZlcE1WTTZhM0IyUEpYMU80U2lSakd6TUNnWUJCRmxiVmhmcnpRbDBlOXNWdnVaUVkKdVBjb0ZqZ1h4aXFNRytYOTEwNENvamtPeTRpM1lsV0FJNytwSVZrcEptd0FhV1JuMC9SYkt1eVZDVFhGc21mZwpkZEk1MS9iOFBaNnFYSWlGRCtkTEZpNzNOZUpIeWhUbDZuNktUWXdOY0o5ZHhtdkJWSGp2d2REd2tvOWhlTHdHCm5mcWQ4VFpHekp6anJjKzUrdVk3NFFLQmdFTEtpTmxlbWgzd0VMZ0prVVNqRkxSWDM1ajY5d3FhWmNneDRPbUUKUzFWYjZuK25mc0xZUyswMmpEQzJTRDNEZ1RrR0d0KzVOTUhHV2EvMWtzdnp3SGR0bW5LemF5QmNKczB0YkF1MQp3ajJTR2JESzRjK3FScEoxS0pDc3FvenJsRk8xM1c1V2dSVjJ2aWp5YWJ0M01EdXlGMjdZVmhtK29sK3R0MzBDCjFwcjdBb0dBTHoxYUUyZ05aZHQzY05yeE5QazdDVjdMQzljRHNCcW5BZlQwUE96TzhUZ1dKVXYrM1RDWVZQUnIKQlJGTXBXblE1WUtXYTE2YTBNSEVLeXFET0ZDZ2R4R0hMUWJxdCtnRk83b3d4M3NtTnFzZ1lYRVVDd2xzMXV0QwpIdmVxYTFjaUU2TytTUERvci8zNldmdk5Oc3ljYXBHRHBvTTRwNmh4MkZlWndUZzlYTlk9Ci0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tCg=="
---
# Source: vertical-pod-autoscaler/templates/admission-controller/clusterrole.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: my-release-vertical-pod-autoscaler-admission-controller
  labels:
    helm.sh/chart: vertical-pod-autoscaler-3.6.1
    app.kubernetes.io/name: vertical-pod-autoscaler
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "0.9.2"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/component: admission-controller
rules:
  # system:vpa-target-reader
  - apiGroups:
      - "*"
    resources:
      - "*/scale"
    verbs:
      - get
      - watch
  - apiGroups:
      - ""
    resources:
      - replicationcontrollers
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - apps
    resources:
      - daemonsets
      - deployments
      - replicasets
      - statefulsets
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - batch
    resources:
      - jobs
      - cronjobs
    verbs:
      - get
      - list
      - watch
  # system:vpa-admission-controller
  - apiGroups:
      - ""
    resources:
      - pods
      - configmaps
      - nodes
      - limitranges
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - "admissionregistration.k8s.io"
    resources:
      - mutatingwebhookconfigurations
    verbs:
      - create
      - delete
      - get
      - list
  - apiGroups:
      - "poc.autoscaling.k8s.io"
    resources:
      - verticalpodautoscalers
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - "autoscaling.k8s.io"
    resources:
      - verticalpodautoscalers
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - "coordination.k8s.io"
    resources:
      - leases
    verbs:
      - create
      - update
      - get
      - list
      - watch
---
# Source: vertical-pod-autoscaler/templates/recommender/clusterrole.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: my-release-vertical-pod-autoscaler-recommender
  labels:
    helm.sh/chart: vertical-pod-autoscaler-3.6.1
    app.kubernetes.io/name: vertical-pod-autoscaler
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "0.9.2"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/component: recommender
rules:
  # system:metrics-reader
  - apiGroups:
      - "metrics.k8s.io"
    resources:
      - pods
    verbs:
      - get
      - list
  # system:vpa-actor
  - apiGroups:
      - ""
    resources:
      - pods
      - nodes
      - limitranges
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - ""
    resources:
      - events
    verbs:
      - get
      - list
      - watch
      - create
  - apiGroups:
      - "poc.autoscaling.k8s.io"
    resources:
      - verticalpodautoscalers
    verbs:
      - get
      - list
      - watch
      - patch
  - apiGroups:
      - "autoscaling.k8s.io"
    resources:
      - verticalpodautoscalers
    verbs:
      - get
      - list
      - watch
      - patch
  # system:vpa-checkpoint-actor
  - apiGroups:
      - "poc.autoscaling.k8s.io"
    resources:
      - verticalpodautoscalercheckpoints
    verbs:
      - get
      - list
      - watch
      - create
      - patch
      - delete
  - apiGroups:
      - "autoscaling.k8s.io"
    resources:
      - verticalpodautoscalercheckpoints
    verbs:
      - get
      - list
      - watch
      - create
      - patch
      - delete
  - apiGroups:
      - ""
    resources:
      - namespaces
    verbs:
      - get
      - list
  # system:vpa-target-reader
  - apiGroups:
      - "*"
    resources:
      - "*/scale"
    verbs:
      - get
      - watch
  - apiGroups:
      - ""
    resources:
      - replicationcontrollers
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - apps
    resources:
      - daemonsets
      - deployments
      - replicasets
      - statefulsets
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - batch
    resources:
      - jobs
      - cronjobs
    verbs:
      - get
      - list
      - watch
---
# Source: vertical-pod-autoscaler/templates/updater/clusterrole.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: my-release-vertical-pod-autoscaler-updater
  labels:
    helm.sh/chart: vertical-pod-autoscaler-3.6.1
    app.kubernetes.io/name: vertical-pod-autoscaler
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "0.9.2"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/component: updater
rules:
  # system:vpa-actor
  - apiGroups:
      - ""
    resources:
      - pods
      - nodes
      - limitranges
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - ""
    resources:
      - events
    verbs:
      - get
      - list
      - watch
      - create
  - apiGroups:
      - "poc.autoscaling.k8s.io"
    resources:
      - verticalpodautoscalers
    verbs:
      - get
      - list
      - watch
      - patch
  - apiGroups:
      - "autoscaling.k8s.io"
    resources:
      - verticalpodautoscalers
    verbs:
      - get
      - list
      - watch
      - patch
  # system:vpa-target-reader
  - apiGroups:
      - "*"
    resources:
      - "*/scale"
    verbs:
      - get
      - watch
  - apiGroups:
      - ""
    resources:
      - replicationcontrollers
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - apps
    resources:
      - daemonsets
      - deployments
      - replicasets
      - statefulsets
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - batch
    resources:
      - jobs
      - cronjobs
    verbs:
      - get
      - list
      - watch
  # system:evictioner
  - apiGroups:
      - "apps"
      - "extensions"
    resources:
      - replicasets
    verbs:
      - get
  - apiGroups:
      - ""
    resources:
      - pods/eviction
    verbs:
      - create
  # system:vpa-status-reader
  - apiGroups:
      - "coordination.k8s.io"
    resources:
      - leases
    verbs:
      - get
      - list
      - watch
---
# Source: vertical-pod-autoscaler/templates/admission-controller/clusterrolebinding.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: my-release-vertical-pod-autoscaler-admission-controller
  labels:
    helm.sh/chart: vertical-pod-autoscaler-3.6.1
    app.kubernetes.io/name: vertical-pod-autoscaler
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "0.9.2"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/component: admission-controller
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: my-release-vertical-pod-autoscaler-admission-controller
subjects:
  - kind: ServiceAccount
    name: my-release-vertical-pod-autoscaler-admission-controller
    namespace: vertical-pod-autoscaler-3.6.1.tgz
---
# Source: vertical-pod-autoscaler/templates/recommender/clusterrolebinding.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: my-release-vertical-pod-autoscaler-recommender
  labels:
    helm.sh/chart: vertical-pod-autoscaler-3.6.1
    app.kubernetes.io/name: vertical-pod-autoscaler
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "0.9.2"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/component: recommender
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: my-release-vertical-pod-autoscaler-recommender
subjects:
  - kind: ServiceAccount
    name: my-release-vertical-pod-autoscaler-recommender
    namespace: vertical-pod-autoscaler-3.6.1.tgz
---
# Source: vertical-pod-autoscaler/templates/updater/clusterrolebinding.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: my-release-vertical-pod-autoscaler-updater
  labels:
    helm.sh/chart: vertical-pod-autoscaler-3.6.1
    app.kubernetes.io/name: vertical-pod-autoscaler
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "0.9.2"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/component: updater
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: my-release-vertical-pod-autoscaler-updater
subjects:
  - kind: ServiceAccount
    name: my-release-vertical-pod-autoscaler-updater
    namespace: vertical-pod-autoscaler-3.6.1.tgz
---
# Source: vertical-pod-autoscaler/templates/admission-controller/metrics-service.yaml
apiVersion: v1
kind: Service
metadata:
  name: my-release-vertical-pod-autoscaler-admission-controller-metrics
  labels:
    helm.sh/chart: vertical-pod-autoscaler-3.6.1
    app.kubernetes.io/name: vertical-pod-autoscaler
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "0.9.2"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/component: admission-controller
spec:
  type: ClusterIP
  ports:
    - port: 8944
      targetPort: http-metrics
      protocol: TCP
      name: http-metrics
  selector:
    app.kubernetes.io/name: vertical-pod-autoscaler
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/component: admission-controller
---
# Source: vertical-pod-autoscaler/templates/admission-controller/service.yaml
apiVersion: v1
kind: Service
metadata:
  # name: my-release-vertical-pod-autoscaler-admission-controller
  name: vpa-webhook
  labels:
    helm.sh/chart: vertical-pod-autoscaler-3.6.1
    app.kubernetes.io/name: vertical-pod-autoscaler
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "0.9.2"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/component: admission-controller
spec:
  type: ClusterIP
  ports:
    # - port: 
    - port: 443
      targetPort: https
      protocol: TCP
      name: https
  selector:
    app.kubernetes.io/name: vertical-pod-autoscaler
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/component: admission-controller
---
# Source: vertical-pod-autoscaler/templates/recommender/metrics-service.yaml
apiVersion: v1
kind: Service
metadata:
  name: my-release-vertical-pod-autoscaler-recommender-metrics
  labels:
    helm.sh/chart: vertical-pod-autoscaler-3.6.1
    app.kubernetes.io/name: vertical-pod-autoscaler
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "0.9.2"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/component: recommender
spec:
  type: ClusterIP
  ports:
    - port: 8942
      targetPort: http-metrics
      protocol: TCP
      name: http-metrics
  selector:
    app.kubernetes.io/name: vertical-pod-autoscaler
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/component: recommender
---
# Source: vertical-pod-autoscaler/templates/updater/metrics-service.yaml
apiVersion: v1
kind: Service
metadata:
  name: my-release-vertical-pod-autoscaler-updater-metrics
  labels:
    helm.sh/chart: vertical-pod-autoscaler-3.6.1
    app.kubernetes.io/name: vertical-pod-autoscaler
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "0.9.2"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/component: updater
spec:
  type: ClusterIP
  ports:
    - port: 8943
      targetPort: http-metrics
      protocol: TCP
      name: http-metrics
  selector:
    app.kubernetes.io/name: vertical-pod-autoscaler
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/component: updater
---
# Source: vertical-pod-autoscaler/templates/admission-controller/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-release-vertical-pod-autoscaler-admission-controller
  labels:
    helm.sh/chart: vertical-pod-autoscaler-3.6.1
    app.kubernetes.io/name: vertical-pod-autoscaler
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "0.9.2"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/component: admission-controller
spec:
  replicas: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: vertical-pod-autoscaler
      app.kubernetes.io/instance: my-release
      app.kubernetes.io/component: admission-controller
  template:
    metadata:
      labels:
        app.kubernetes.io/name: vertical-pod-autoscaler
        app.kubernetes.io/instance: my-release
        app.kubernetes.io/component: admission-controller
      annotations:
        checksum/secret: d3a10d3e6b51d217949e0fa484fcfb6df3ed3cfecccf8e1b4f7224a7036e5228
    spec:
      serviceAccountName: my-release-vertical-pod-autoscaler-admission-controller
      securityContext:
        runAsNonRoot: true
        runAsUser: 65534
      containers:
        - name: admission-controller
          securityContext:
            {}
          image: "k8s.gcr.io/autoscaling/vpa-admission-controller:0.9.2"
          imagePullPolicy: IfNotPresent
          args:
            - --client-ca-file=/tls-secret/ca.crt
            - --tls-cert-file=/tls-secret/tls.crt
            - --tls-private-key=/tls-secret/tls.key
            - --v=2
          env:
            - name: NAMESPACE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.namespace
          ports:
            - name: https
              containerPort: 8000
              protocol: TCP
            - name: http-metrics
              containerPort: 8944
              protocol: TCP
          livenessProbe:
            httpGet:
              path: /metrics
              port: http-metrics
            initialDelaySeconds: 0
            periodSeconds: 10
            timeoutSeconds: 1
            failureThreshold: 3
            successThreshold: 1
          readinessProbe:
            httpGet:
              path: /metrics
              port: http-metrics
            initialDelaySeconds: 0
            periodSeconds: 10
            timeoutSeconds: 1
            failureThreshold: 3
            successThreshold: 1
          resources:
            {}
          volumeMounts:
            - name: tls-secret
              mountPath: /tls-secret
              readOnly: true
      volumes:
        - name: tls-secret
          secret:
            secretName: my-release-vertical-pod-autoscaler-admission-controller-tls
---
# Source: vertical-pod-autoscaler/templates/recommender/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-release-vertical-pod-autoscaler-recommender
  labels:
    helm.sh/chart: vertical-pod-autoscaler-3.6.1
    app.kubernetes.io/name: vertical-pod-autoscaler
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "0.9.2"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/component: recommender
spec:
  replicas: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: vertical-pod-autoscaler
      app.kubernetes.io/instance: my-release
      app.kubernetes.io/component: recommender
  template:
    metadata:
      labels:
        app.kubernetes.io/name: vertical-pod-autoscaler
        app.kubernetes.io/instance: my-release
        app.kubernetes.io/component: recommender
    spec:
      serviceAccountName: my-release-vertical-pod-autoscaler-recommender
      securityContext:
        runAsNonRoot: true
        runAsUser: 65534
      containers:
        - name: recommender
          securityContext:
            {}
          image: "k8s.gcr.io/autoscaling/vpa-recommender:0.9.2"
          imagePullPolicy: IfNotPresent
          args:
            - --v=2
          ports:
            - name: http-metrics
              containerPort: 8942
              protocol: TCP
          livenessProbe:
            httpGet:
              path: /metrics
              port: http-metrics
            initialDelaySeconds: 0
            periodSeconds: 10
            timeoutSeconds: 1
            failureThreshold: 3
            successThreshold: 1
          readinessProbe:
            httpGet:
              path: /metrics
              port: http-metrics
            initialDelaySeconds: 0
            periodSeconds: 10
            timeoutSeconds: 1
            failureThreshold: 3
            successThreshold: 1
          resources:
            {}
---
# Source: vertical-pod-autoscaler/templates/updater/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-release-vertical-pod-autoscaler-updater
  labels:
    helm.sh/chart: vertical-pod-autoscaler-3.6.1
    app.kubernetes.io/name: vertical-pod-autoscaler
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "0.9.2"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/component: updater
spec:
  replicas: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: vertical-pod-autoscaler
      app.kubernetes.io/instance: my-release
      app.kubernetes.io/component: updater
  template:
    metadata:
      labels:
        app.kubernetes.io/name: vertical-pod-autoscaler
        app.kubernetes.io/instance: my-release
        app.kubernetes.io/component: updater
    spec:
      serviceAccountName: my-release-vertical-pod-autoscaler-updater
      securityContext:
        runAsNonRoot: true
        runAsUser: 65534
      containers:
        - name: updater
          securityContext:
            {}
          image: "k8s.gcr.io/autoscaling/vpa-updater:0.9.2"
          imagePullPolicy: IfNotPresent
          args:
            - --v=2
          env:
            - name: NAMESPACE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.namespace
          ports:
            - name: http-metrics
              containerPort: 8943
              protocol: TCP
          livenessProbe:
            httpGet:
              path: /metrics
              port: http-metrics
            initialDelaySeconds: 0
            periodSeconds: 10
            timeoutSeconds: 1
            failureThreshold: 3
            successThreshold: 1
          readinessProbe:
            httpGet:
              path: /metrics
              port: http-metrics
            initialDelaySeconds: 0
            periodSeconds: 10
            timeoutSeconds: 1
            failureThreshold: 3
            successThreshold: 1
          resources:
            {}
---
# Source: vertical-pod-autoscaler/templates/tests/admission-controller-metrics-test-connection.yaml
apiVersion: v1
kind: Pod
metadata:
  name: "my-release-vertical-pod-autoscaler-admission-controller-metrics-test-connection"
  labels:
    helm.sh/chart: vertical-pod-autoscaler-3.6.1
    app.kubernetes.io/name: vertical-pod-autoscaler
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "0.9.2"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/component: admission-controller
  annotations:
    "helm.sh/hook": test
spec:
  containers:
    - name: wget
      image: busybox
      command: ['wget']
      args: ['my-release-vertical-pod-autoscaler-admission-controller-metrics:8944/metrics']
  restartPolicy: Never
---
# Source: vertical-pod-autoscaler/templates/tests/admission-controller-test-connection.yaml
apiVersion: v1
kind: Pod
metadata:
  name: "my-release-vertical-pod-autoscaler-admission-controller-test-connection"
  labels:
    helm.sh/chart: vertical-pod-autoscaler-3.6.1
    app.kubernetes.io/name: vertical-pod-autoscaler
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "0.9.2"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/component: admission-controller
  annotations:
    "helm.sh/hook": test
spec:
  containers:
    - name: wget
      image: busybox
      command: ['wget']
      # args: ['https://my-release-vertical-pod-autoscaler-admission-controller:']
      args: ['https://vpa-webhook:443']
  restartPolicy: Never
---
# Source: vertical-pod-autoscaler/templates/tests/recommender-metrics-test-connection.yaml
apiVersion: v1
kind: Pod
metadata:
  name: "my-release-vertical-pod-autoscaler-recommender-metrics-test-connection"
  labels:
    helm.sh/chart: vertical-pod-autoscaler-3.6.1
    app.kubernetes.io/name: vertical-pod-autoscaler
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "0.9.2"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/component: recommender
  annotations:
    "helm.sh/hook": test
spec:
  containers:
    - name: wget
      image: busybox
      command: ['wget']
      args: ['my-release-vertical-pod-autoscaler-recommender-metrics:8942/metrics']
  restartPolicy: Never
---
# Source: vertical-pod-autoscaler/templates/tests/updater-metrics-test-connection.yaml
apiVersion: v1
kind: Pod
metadata:
  name: "my-release-vertical-pod-autoscaler-updater-metrics-test-connection"
  labels:
    helm.sh/chart: vertical-pod-autoscaler-3.6.1
    app.kubernetes.io/name: vertical-pod-autoscaler
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "0.9.2"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/component: updater
  annotations:
    "helm.sh/hook": test
spec:
  containers:
    - name: wget
      image: busybox
      command: ['wget']
      args: ['my-release-vertical-pod-autoscaler-updater-metrics:8943/metrics']
  restartPolicy: Never
