---
# Source: core/templates/controller-secret.yaml
apiVersion: v1
kind: Secret
metadata:
  name: neuvector-controller-secret
  namespace: core-2.7.7.tgz
  labels:
    chart: core-2.7.7
    release: my-release
    heritage: Helm
type: Opaque
data:
  ssl-cert.key: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFb2dJQkFBS0NBUUVBcWdPMkpzb0Y2T3M3NGxzakJmS0UxcUxQS0x3UUdtZFEyL1lpT0NOYkh2VzJldmFmCkNkM2pmek1vL1hUUWZXUW5sa243MElEeHBOL1kvYTFFVS9uZ1Q3cTduK1FBRVM3UUl6amNIUWlZeC9KQ29pd00KNU1JWHg0VWljNUxncnc1Rjk0aElmWGNTWkFjdzRiSWkvdVFnWWtOaTM1Z0F2ODBkR2YreTBQNXdQREFaR01BSwpLS3orTEM0MkFic2RJejNhNVM5L3g0Uzc2SnplZUZuTVczdVpzYVdQcGY3RHRVbGZ1QW1OaW5XNkhTQU9lUWRJCnNzTWY0ODN4ZkJybThlNWxkNnhKSkpCN0hVV2ZQYlExNURYWGpwNzcvUEVvRzVBbE9iMjFFVUhLVHd6R0FxcHcKcDc0WjAzSTZ3NjY5cjRhbW1sU1VzNDU1SldqdDE3Y0Z0d1g3aXdJREFRQUJBb0lCQUdCVHNnVFFPZ0Q2SnZmZApRejYvWmR4bWFwRmQzSkhaTDhzdzdicDQ3Y3ZnMC85ZmRFU1czNnJXUmNjMVJGdUhQNWE3WEYyS2NWOUZKU0MxCjV4emRXdVpSbXJUQTdmak9XVWRiay9zdlA4RXAxZThrbmptT2J3S3d3QkJUaTlJamVDa0RvbTdUNUN1Z2wyV0oKRktMdWhocW1xNEtjRVBDYk9uM2NqbWd6Z1V2WDJBcC94N1krTm9ocFpLdWIxYmtBRzQwNUxoNUo4SjJYOE93YwpCV2RNTDZSQlV2R2ltVDdLdk1jUkh5ZktnWkk5UTZYWUVIMWxoWm4zTCtGL2JmQWVpR1FaUjRkTHEzdm5uTjYxCmZCN2pLUDJtcXJWaXRPWVVYSk9xZWQ5V1k1a05lL2dWT3JCYzJCVmgvUUtXZEtqVnhnc0JNUHlTNEZkWjZlMFYKVGt2dnIrRUNnWUVBeUxBS1dmMVRWbzZtcVVRamJaZ1R0aW9ZMi9ndUw2ZlZxTXMyKzFGclVzc1J2NW1kTlZ2ZgpjZ1JuQmRqb3AycTZmVE96MHpRYk1pWE5XU3Uwd0VYZnBla29sMlJ4UFVNT1JxNmZJTW5zdnhjY2ZKVFdMME00CldzUmJ5ZW96RElzTFN2Ukw4UVdvdW9EQUx1Qkg4ZWd0bUMxQTFwNGhoeXVNUEVia1F0T1ZVNTBDZ1lFQTJOOTEKY2dZVWZFMElLYTBSKzFrTFI5cm9WNWNHWEZPeFBhVlRPMXErYUVRajl2ZVR3U01XTGVPaVJEdXpxLzV2ZEdkTgpuOEs2L2RMRE9RZWdsMXNrZ05QcU9ySUNDN0UzQ1lpeUhaZ0svZ3JOYkRabXZSdDFGbExPbmgzZlh1NWlkb1hNClVkOFdjZDRBYnFON0p6cmFOV011b1dRaDBZQ1B4WkR3V3lKVWgwY0NnWUI4b0NXdGdJMVNRVC9wK1hCdXpIUGgKT2Y4NkNzTFR3VXdEaUQ3YWp0TXhGUDR1bDd4eXVGem9OeWVyRCtwYW5RSzJZWGNZZjFFc01TRjJjSmZNbHhldAp0ajhJMU0wbG1CQ3pnQms5aVdmRnV4cHJteG52TzdVeFdLTVBucXFZN1hmVDBpV2V4VDdrb3JPMTZIMkZFZ1BPCmJydkhDMmdTd3M1UldFekQyeFR1V1FLQmdFeWxuU0p4VjZnZXFYWGhQdXV3S3JaNGZZa0hUUzR3UGdIbGZpY0sKQ1NWY2Y4RjIrbmRWNlM3S3RyeWF4UU5TWngyaXJPSjd0ZzZqQUhBVmJBSlNLZktGOHRCUHZUMVlvblR5Sk5Fawp2UzNQcjQ1Qkk4cE4rL0dwem5BL2FvUm9oOUFQdFloeDZjTFFqU0tORUtkcXUxZ0c5NkgrZTUxSmJJYU1sUVlBCmVoTmRBb0dBSVpzOGEwWkNqcFdTdnNyZzRGUnRRVjd1Y1V0ZkYyMDVzR0JhZWViZWRxWENwS2N3RUNBMG5hajQKcHdFQUw3bXJSSDd0U2Z6dzF5dlRzSmMwM3hLdHNGR3ByaHUyNXdBVytuVkl5V0lTQUtTZFFVNHVQSGwxOGRVOQpvVjZUVDhRUGJneXREWWlNSkozK2VZQWdhYVc3eGhkNVlQRFVZYWJtN1VnbzJJcWF2VlU9Ci0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tCg==
  ssl-cert.pem: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURDRENDQWZDZ0F3SUJBZ0lSQU54aUl6bnUzL09BeVF3V0ROcjVkalF3RFFZSktvWklodmNOQVFFTEJRQXcKRkRFU01CQUdBMVVFQXhNSmJtVjFkbVZqZEc5eU1CNFhEVEkwTURZeU1ERTBOVFUxTVZvWERUSTFNRFl5TURFMApOVFUxTVZvd0ZERVNNQkFHQTFVRUF4TUpibVYxZG1WamRHOXlNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DCkFROEFNSUlCQ2dLQ0FRRUFxZ08ySnNvRjZPczc0bHNqQmZLRTFxTFBLTHdRR21kUTIvWWlPQ05iSHZXMmV2YWYKQ2QzamZ6TW8vWFRRZldRbmxrbjcwSUR4cE4vWS9hMUVVL25nVDdxN24rUUFFUzdRSXpqY0hRaVl4L0pDb2l3TQo1TUlYeDRVaWM1TGdydzVGOTRoSWZYY1NaQWN3NGJJaS91UWdZa05pMzVnQXY4MGRHZit5MFA1d1BEQVpHTUFLCktLeitMQzQyQWJzZEl6M2E1UzkveDRTNzZKemVlRm5NVzN1WnNhV1BwZjdEdFVsZnVBbU5pblc2SFNBT2VRZEkKc3NNZjQ4M3hmQnJtOGU1bGQ2eEpKSkI3SFVXZlBiUTE1RFhYanA3Ny9QRW9HNUFsT2IyMUVVSEtUd3pHQXFwdwpwNzRaMDNJNnc2NjlyNGFtbWxTVXM0NTVKV2p0MTdjRnR3WDdpd0lEQVFBQm8xVXdVekFPQmdOVkhROEJBZjhFCkJBTUNCYUF3SFFZRFZSMGxCQll3RkFZSUt3WUJCUVVIQXdFR0NDc0dBUVVGQndNQ01Bd0dBMVVkRXdFQi93UUMKTUFBd0ZBWURWUjBSQkEwd0M0SUpibVYxZG1WamRHOXlNQTBHQ1NxR1NJYjNEUUVCQ3dVQUE0SUJBUUNQTHNBUwpncnBGc1JQUytPR0hlQTRIT2JqbVpkT0Q2RjZrelFYYmptUHNzWmZXT2JLRkpwU3BML20yc21vRDNRUFg5bmZPCmlUZHZ4VWNLU1BXL2VLS25BeTQyK0pYYUd2YlQrQkdKN0FaLzJERHNwYVhpYldjaW1lblVTa1BGWlBBMUhiazcKVmxpRDZCLzJCRE5KakxNeVJpTFFYWC83ZitTY2I0YUJsUzYxcE9UM2hjK0RtTmE3VVlsb21GOXpodXgrSjJ4ZwpEaCtab1I0dWU3Y1k1c2MyaEl6Vm9iYVNKU2NWWXAvVVBqR00yQ0JqV0cxdlJJUTNxMlcxenB2QXNpbVVSdFJrCk9wdXB1YTRnRXBkS1owY05SSlNsUHMvdVd6NS96WXVqQ3BmTWtoam9kR2NlS01Fa0hhaUJycTI4SnU1UHJXaTEKMFRIOVZVK3RSbysxRUIwSQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
---
# Source: core/templates/manager-secret.yaml
apiVersion: v1
kind: Secret
metadata:
  name: neuvector-manager-secret
  namespace: core-2.7.7.tgz
  labels:
    chart: core-2.7.7
    release: my-release
    heritage: Helm
type: Opaque
data:
  ssl-cert.key: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFb3dJQkFBS0NBUUVBcWdxdTBmNFpFaTJqSVg2bkdOb241MFM3a0VSUDFVK1lCd25VMGpGM1UwZ2l4MGF3Clk4ZEJtbjZ3QUxDU1BiNlNJaDdNTWpxdE01TTJMTG95MW0vUFNiUkV0UlJmYlhJWmtGY1J5Qi9ZTEZUcnhPaDEKdXpJbjVsdW1yWXBJTENmejJOSW5XK1diWUlta2M3TEY5cVdKREI2YUpMV3lFM2IwODBFc0Rwcnp6b3U1Qm5MTwo2NHhQODF0L2hHUFpVQjRMYkpaTnNpTDVNZklCOEg0QWlMa2dUenJuMjcyd1NpUVBKU0FGc1RtclBrWXhHTCtXCmFraEFnb3QzT2Qvd1FzV0ExOFhaSVl3NkFnMkVITVdBeTRPSlhTMCtCaWRPQnV3M3VHTVZjeXFxSkMrUXZzejgKdzdEdWVvZk81KzRmSjFrc0g2TWo5RWhuVjVQdEhYU2pMNXdUZ1FJREFRQUJBb0lCQURIWVBkVEtvbmpFcmZ3awpqMERtdWltOTZTbHFET2pma3hZRkdNQ2d4WFRCUVlpZXZSZ1NrYldEQzM2NFE3WWJ4ZVNBbUtUa3RGN1krVmwxCkgyL2lpS1gzVk9pcjF5bFMrQkZxcElqQVpQTGgxZGI3dVg4dFBhcjJGTTdzS1NuZ2NFZVBtd0FDTjJDK0dGbmQKL3MvRlNING4vbEZpZlpmZEdBS3lpUUtqQTNMNDRlWUQ5ZFplaDdwYXYrMUVFYmg4N1AybFR1d25OZTJMaDJKTwprWENtVkFVMlhSdjFMTVZqbTNZd05KWDQzY2pLak95ZmNtTjFOQjZYaUFNTkU3WkZXaVdHOVhXdk5sd1lkWCswCjB2Q3V1N1hnejVCdW1HNGwxT240SjVVaTJaTTdzK3JwcnFoYTU4aWxNdEZiTU5NcGxRYTd6OXN4d2c2VG9qYW4KK2J2T2dlMENnWUVBMUdiZ1llQ1A2UU1ldTBNL0FRVFJrbnM3WmYrVXd1WWVQbjNxd1E5YkhjU1dYbHlPamQzVQpGT0liNWFqU0kxYmVnUE5YRU1INXJxQUg3bVZFYnZMU3doRTd1ZVhRd0NBU0szaGZ3ZUEyS2RCUWZ3L3hXZzNZCjl2aUpXc0lSMXlZT1k5WmIvcklWYnN4S3h2Wkh3Z2RZMWpNaUpGV0Q0VXhJeC9HQmJ5cCszRWNDZ1lFQXpQSG0KYUE0Qmgvelp0b1AxZ3g5R2U1bXViRWd6aXY5aWlUUC9rMis0OWxQNXdDcjVxWHdmL21VOXJveCsvTUwwYkxCcQp3cnI3VFo2M29VTVc4YmtuWE9MMk84dUl5TmpEU2xyVjFUdWlSNFFQZFNrcWhYck1JZ0o2WTgzcUtWUXJnRFpJCk9MYjFZUFVob0pHdy9zbWxOa1ZtMitUVzNxZlNRZHVwQUNIeW5mY0NnWUJlbk9qc2tJUnFUaXA5VGdvZG9SRGQKaUNsQVdTWGgzM0d2Y3BXRXBCdDVXaDJGTVFPTExEb1JoMXJYNVdpZHQwOXI3M2xrREpQMDluSXgva2dLaC8zYgoxcU5kUG9MTFlqM1Z3VXdlWjRxWSs2TXZ4bUZETlJIbGlYWmR5RDc4TUlhT2NHa1FQakdQNWs2VTdCV3cxMmI2CkcxTGxEbmF0Z0RhWFlmdS9FaFhxZHdLQmdIY2dUTHRER09UQXRwUCtsQ0RKZHlDMUxjdkhGQjdCWDdjOHdGd2sKM3JCZ0U1WDk1T3o5TjJPWjJZYXlKOFlvVkFjeGJIMFFUcTdKaVJkMWRjcS93ditjOVYvQWFSdkYwNDVPeW1pTgpwMEJHcE8ySEppNDhPSmUwTlF2NlR4Z0MwdDVOcnlFNFI5MDUzM2dEOTR2Q0RnUkR4d3dlTWo5dDhTdFMwU05BCm1GUDFBb0dCQUxaTnVseFExSUk4ZDFzSGxBbzFoNEZ0V3BvWllMQzdNekljd2krM3JEc3lHTVVoS0pYUGM5bXkKQUdRNVpsWWxZVS9BZnNNU3hKOTBzQ2x6SWowTElkWk5BS3I4bDRWdDduREtNQ3h2RnlFYWVsbE5FY1N4UnBmNgovbmwvKzkrbTk1MUZwNlJxdCtZWVpiVUo3dDlUc0NmLzJZZkJuUm5Fdlk5TUgrYnZMelU1Ci0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tCg==
  ssl-cert.pem: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURDRENDQWZDZ0F3SUJBZ0lSQU15K3c2dCtHeU0wa0lJdFFna1NSUkl3RFFZSktvWklodmNOQVFFTEJRQXcKRkRFU01CQUdBMVVFQXhNSmJtVjFkbVZqZEc5eU1CNFhEVEkwTURZeU1ERTBOVFUxTVZvWERUSTFNRFl5TURFMApOVFUxTVZvd0ZERVNNQkFHQTFVRUF4TUpibVYxZG1WamRHOXlNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DCkFROEFNSUlCQ2dLQ0FRRUFxZ3F1MGY0WkVpMmpJWDZuR05vbjUwUzdrRVJQMVUrWUJ3blUwakYzVTBnaXgwYXcKWThkQm1uNndBTENTUGI2U0loN01NanF0TTVNMkxMb3kxbS9QU2JSRXRSUmZiWElaa0ZjUnlCL1lMRlRyeE9oMQp1ekluNWx1bXJZcElMQ2Z6Mk5JblcrV2JZSW1rYzdMRjlxV0pEQjZhSkxXeUUzYjA4MEVzRHByenpvdTVCbkxPCjY0eFA4MXQvaEdQWlVCNExiSlpOc2lMNU1mSUI4SDRBaUxrZ1R6cm4yNzJ3U2lRUEpTQUZzVG1yUGtZeEdMK1cKYWtoQWdvdDNPZC93UXNXQTE4WFpJWXc2QWcyRUhNV0F5NE9KWFMwK0JpZE9CdXczdUdNVmN5cXFKQytRdnN6OAp3N0R1ZW9mTzUrNGZKMWtzSDZNajlFaG5WNVB0SFhTakw1d1RnUUlEQVFBQm8xVXdVekFPQmdOVkhROEJBZjhFCkJBTUNCYUF3SFFZRFZSMGxCQll3RkFZSUt3WUJCUVVIQXdFR0NDc0dBUVVGQndNQ01Bd0dBMVVkRXdFQi93UUMKTUFBd0ZBWURWUjBSQkEwd0M0SUpibVYxZG1WamRHOXlNQTBHQ1NxR1NJYjNEUUVCQ3dVQUE0SUJBUUJ4Q0J0NQovbTRsVFpsSVo0aFhqZEpOVVE4QVo1Q0tPZjRrVjIzc3h3WW1UV2xhdjEwZFgzOVBTM1Y4R1pkR3M5U0ZqaEpUCjBEdkt2am9aYjhMbERFY0FOSTdpYmRGK2twQTc3dnRsUmtOMDhiNWhFcUFyb0V0R1E1S2h0WnRQdWRRQTYya3YKQ25aTzQxemZLVjNyQVpTbTNBTUdydlBlWEFRNnhvRERvV2RPNm4ycUErOCtZTkpDV1JQUEpjNllYbDZPQVBGYQpaM09mZXZzVENTZGxFcExvbU1aYkFYSnlGcHo2WlEwa29IekJDQXJVY2FGa3pjbEdJWUJXQzlNMXZsQmJNM2NSCnNMWi85S0JoNERJRGtwRTg4THRaRSs4VjdpTlpZZlZydVZRa1ZvblBlcFhaRzdIL0J6ZlpCeFdEcmtLNkpyMDkKdDlNdm1UNEVVYzlHWkhrZgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
---
# Source: core/templates/crd.yaml
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: nvsecurityrules.neuvector.com
  labels:
    chart: core-2.7.7
    release: my-release
    heritage: Helm
spec:
  group: neuvector.com
  names:
    kind: NvSecurityRule
    listKind: NvSecurityRuleList
    plural: nvsecurityrules
    singular: nvsecurityrule
  scope: Namespaced
  versions:
  - name: v1
    served: true
    storage: true
    schema:
      openAPIV3Schema:
        properties:
          spec:
            properties:
              egress:
                items:
                  properties:
                    action:
                      enum:
                      - allow
                      - deny
                      type: string
                    applications:
                      items:
                        type: string
                      type: array
                    name:
                      type: string
                    ports:
                      type: string
                    priority:
                      type: integer
                    selector:
                      properties:
                        comment:
                          type: string
                        criteria:
                          items:
                            properties:
                              key:
                                type: string
                              op:
                                type: string
                              value:
                                type: string
                            required:
                            - key
                            - op
                            - value
                            type: object
                          type: array
                        name:
                          type: string
                        original_name:
                          type: string
                      required:
                      - name
                      type: object
                  required:
                  - action
                  - name
                  - selector
                  type: object
                type: array
              file:
                items:
                  properties:
                    app:
                      items:
                        type: string
                      type: array
                    behavior:
                      enum:
                      - monitor_change
                      - block_access
                      type: string
                    filter:
                      type: string
                    recursive:
                      type: boolean
                  required:
                  - behavior
                  - filter
                  type: object
                type: array
              ingress:
                items:
                  properties:
                    action:
                      enum:
                      - allow
                      - deny
                      type: string
                    applications:
                      items:
                        type: string
                      type: array
                    name:
                      type: string
                    ports:
                      type: string
                    priority:
                      type: integer
                    selector:
                      properties:
                        comment:
                          type: string
                        criteria:
                          items:
                            properties:
                              key:
                                type: string
                              op:
                                type: string
                              value:
                                type: string
                            required:
                            - key
                            - op
                            - value
                            type: object
                          type: array
                        name:
                          type: string
                        original_name:
                          type: string
                      required:
                      - name
                      type: object
                  required:
                  - action
                  - name
                  - selector
                  type: object
                type: array
              process:
                items:
                  properties:
                    action:
                      enum:
                      - allow
                      - deny
                      type: string
                    allow_update:
                      type: boolean
                    name:
                      type: string
                    path:
                      type: string
                  required:
                  - action
                  type: object
                type: array
              process_profile:
                properties:
                  baseline:
                    enum:
                    - default
                    - shield
                    - basic
                    - zero-drift
                    type: string
                type: object
              target:
                properties:
                  policymode:
                    enum:
                    - Discover
                    - Monitor
                    - Protect
                    - N/A
                    type: string
                  selector:
                    properties:
                      comment:
                        type: string
                      criteria:
                        items:
                          properties:
                            key:
                              type: string
                            op:
                              type: string
                            value:
                              type: string
                          required:
                          - key
                          - op
                          - value
                          type: object
                        type: array
                      name:
                        type: string
                      original_name:
                        type: string
                    required:
                    - name
                    type: object
                required:
                - selector
                type: object
              dlp:
                properties:
                  settings:
                    items:
                      properties:
                        action:
                          enum:
                          - allow
                          - deny
                          type: string
                        name:
                          type: string
                      required:
                      - name
                      - action
                      type: object
                    type: array
                  status:
                    type: boolean
                type: object
              waf:
                properties:
                  settings:
                    items:
                      properties:
                        action:
                          enum:
                          - allow
                          - deny
                          type: string
                        name:
                          type: string
                      required:
                      - name
                      - action
                      type: object
                    type: array
                  status:
                    type: boolean
                type: object
            required:
            - target
            type: object
        type: object
---
# Source: core/templates/crd.yaml
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: nvclustersecurityrules.neuvector.com
  labels:
    chart: core-2.7.7
    release: my-release
    heritage: Helm
spec:
  group: neuvector.com
  names:
    kind: NvClusterSecurityRule
    listKind: NvClusterSecurityRuleList
    plural: nvclustersecurityrules
    singular: nvclustersecurityrule
  scope: Cluster
  versions:
  - name: v1
    served: true
    storage: true
    schema:
      openAPIV3Schema:
        properties:
          spec:
            properties:
              egress:
                items:
                  properties:
                    action:
                      enum:
                      - allow
                      - deny
                      type: string
                    applications:
                      items:
                        type: string
                      type: array
                    name:
                      type: string
                    ports:
                      type: string
                    priority:
                      type: integer
                    selector:
                      properties:
                        comment:
                          type: string
                        criteria:
                          items:
                            properties:
                              key:
                                type: string
                              op:
                                type: string
                              value:
                                type: string
                            required:
                            - key
                            - op
                            - value
                            type: object
                          type: array
                        name:
                          type: string
                        original_name:
                          type: string
                      required:
                      - name
                      type: object
                  required:
                  - action
                  - name
                  - selector
                  type: object
                type: array
              file:
                items:
                  properties:
                    app:
                      items:
                        type: string
                      type: array
                    behavior:
                      enum:
                      - monitor_change
                      - block_access
                      type: string
                    filter:
                      type: string
                    recursive:
                      type: boolean
                  required:
                  - behavior
                  - filter
                  type: object
                type: array
              ingress:
                items:
                  properties:
                    action:
                      enum:
                      - allow
                      - deny
                      type: string
                    applications:
                      items:
                        type: string
                      type: array
                    name:
                      type: string
                    ports:
                      type: string
                    priority:
                      type: integer
                    selector:
                      properties:
                        comment:
                          type: string
                        criteria:
                          items:
                            properties:
                              key:
                                type: string
                              op:
                                type: string
                              value:
                                type: string
                            required:
                            - key
                            - op
                            - value
                            type: object
                          type: array
                        name:
                          type: string
                        original_name:
                          type: string
                      required:
                      - name
                      type: object
                  required:
                  - action
                  - name
                  - selector
                  type: object
                type: array
              process:
                items:
                  properties:
                    action:
                      enum:
                      - allow
                      - deny
                      type: string
                    allow_update:
                      type: boolean
                    name:
                      type: string
                    path:
                      type: string
                  required:
                  - action
                  type: object
                type: array
              process_profile:
                properties:
                  baseline:
                    enum:
                    - default
                    - shield
                    - basic
                    - zero-drift
                    type: string
                type: object
              target:
                properties:
                  policymode:
                    enum:
                    - Discover
                    - Monitor
                    - Protect
                    - N/A
                    type: string
                  selector:
                    properties:
                      comment:
                        type: string
                      criteria:
                        items:
                          properties:
                            key:
                              type: string
                            op:
                              type: string
                            value:
                              type: string
                          required:
                          - key
                          - op
                          - value
                          type: object
                        type: array
                      name:
                        type: string
                      original_name:
                        type: string
                    required:
                    - name
                    type: object
                required:
                - selector
                type: object
              dlp:
                properties:
                  settings:
                    items:
                      properties:
                        action:
                          enum:
                          - allow
                          - deny
                          type: string
                        name:
                          type: string
                      required:
                      - name
                      - action
                      type: object
                    type: array
                  status:
                    type: boolean
                type: object
              waf:
                properties:
                  settings:
                    items:
                      properties:
                        action:
                          enum:
                          - allow
                          - deny
                          type: string
                        name:
                          type: string
                      required:
                      - name
                      - action
                      type: object
                    type: array
                  status:
                    type: boolean
                type: object
            required:
            - target
            type: object
        type: object
---
# Source: core/templates/crd.yaml
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: nvdlpsecurityrules.neuvector.com
  labels:
    chart: core-2.7.7
    release: my-release
    heritage: Helm
spec:
  group: neuvector.com
  names:
    kind: NvDlpSecurityRule
    listKind: NvDlpSecurityRuleList
    plural: nvdlpsecurityrules
    singular: nvdlpsecurityrule
  scope: Cluster
  versions:
  - name: v1
    served: true
    storage: true
    schema:
      openAPIV3Schema:
        properties:
          spec:
            properties:
              sensor:
                properties:
                  comment:
                    type: string
                  name:
                    type: string
                  rules:
                    items:
                      properties:
                        name:
                          type: string
                        patterns:
                          items:
                            properties:
                              context:
                                enum:
                                - url
                                - header
                                - body
                                - packet
                                type: string
                              key:
                                enum:
                                - pattern
                                type: string
                              op:
                                enum:
                                - regex
                                - '!regex'
                                type: string
                              value:
                                type: string
                            required:
                            - key
                            - op
                            - value
                            - context
                            type: object
                          type: array
                      required:
                      - name
                      - patterns
                      type: object
                    type: array
                required:
                - name
                type: object
            required:
            - sensor
            type: object
        type: object
---
# Source: core/templates/crd.yaml
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: nvadmissioncontrolsecurityrules.neuvector.com
  labels:
    chart: core-2.7.7
    release: my-release
    heritage: Helm
spec:
  group: neuvector.com
  names:
    kind: NvAdmissionControlSecurityRule
    listKind: NvAdmissionControlSecurityRuleList
    plural: nvadmissioncontrolsecurityrules
    singular: nvadmissioncontrolsecurityrule
  scope: Cluster
  versions:
  - name: v1
    served: true
    storage: true
    schema:
      openAPIV3Schema:
        properties:
          spec:
            properties:
              config:
                properties:
                  client_mode:
                    enum:
                    - service
                    - url
                    type: string
                  enable:
                    type: boolean
                  mode:
                    enum:
                    - monitor
                    - protect
                    type: string
                required:
                - enable
                - mode
                - client_mode
                type: object
              rules:
                items:
                  properties:
                    action:
                      enum:
                      - allow
                      - deny
                      type: string
                    comment:
                      type: string
                    criteria:
                      items:
                        properties:
                          name:
                            type: string
                          op:
                            type: string
                          path:
                            type: string
                          sub_criteria:
                            items:
                              properties:
                                name:
                                  type: string
                                op:
                                  type: string
                                value:
                                  type: string
                              required:
                              - name
                              - op
                              - value
                              type: object
                            type: array
                          template_kind:
                            type: string
                          type:
                            type: string
                          value:
                            type: string
                          value_type:
                            type: string
                        required:
                        - name
                        - op
                        - value
                        type: object
                      type: array
                    disabled:
                      type: boolean
                    id:
                      type: integer
                    rule_mode:
                      enum:
                      - ""
                      - monitor
                      - protect
                      type: string
                    containers:
                      items:
                        enum:
                        - containers
                        - init_containers
                        - ephemeral_containers
                        type: string
                      type: array
                  required:
                  - action
                  - criteria
                  type: object
                type: array
            type: object
        type: object
---
# Source: core/templates/crd.yaml
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: nvwafsecurityrules.neuvector.com
  labels:
    chart: core-2.7.7
    release: my-release
    heritage: Helm
spec:
  group: neuvector.com
  names:
    kind: NvWafSecurityRule
    listKind: NvWafSecurityRuleList
    plural: nvwafsecurityrules
    singular: nvwafsecurityrule
  scope: Cluster
  versions:
  - name: v1
    served: true
    storage: true
    schema:
      openAPIV3Schema:
        properties:
          spec:
            properties:
              sensor:
                properties:
                  comment:
                    type: string
                  name:
                    type: string
                  rules:
                    items:
                      properties:
                        name:
                          type: string
                        patterns:
                          items:
                            properties:
                              context:
                                enum:
                                - url
                                - header
                                - body
                                - packet
                                type: string
                              key:
                                enum:
                                - pattern
                                type: string
                              op:
                                enum:
                                - regex
                                - '!regex'
                                type: string
                              value:
                                type: string
                            required:
                            - key
                            - op
                            - value
                            - context
                            type: object
                          type: array
                      required:
                      - name
                      - patterns
                      type: object
                    type: array
                required:
                - name
                type: object
            required:
            - sensor
            type: object
        type: object
---
# Source: core/templates/crd.yaml
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: nvcomplianceprofiles.neuvector.com
  labels:
    chart: core-2.7.7
    release: my-release
    heritage: Helm
spec:
  group: neuvector.com
  names:
    kind: NvComplianceProfile
    listKind: NvComplianceProfileList
    plural: nvcomplianceprofiles
    singular: nvcomplianceprofile
  scope: Cluster
  versions:
  - name: v1
    served: true
    storage: true
    schema:
      openAPIV3Schema:
        properties:
          spec:
            properties:
              templates:
                properties:
                  disable_system:
                    type: boolean
                  entries:
                    items:
                      properties:
                        tags:
                          items:
                            type: string
                          type: array
                        test_number:
                          type: string
                      required:
                      - test_number
                      type: object
                    type: array
                required:
                - entries
                type: object
            type: object
        type: object
---
# Source: core/templates/crd.yaml
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: nvvulnerabilityprofiles.neuvector.com
  labels:
    chart: core-2.7.7
    release: my-release
    heritage: Helm
spec:
  group: neuvector.com
  names:
    kind: NvVulnerabilityProfile
    listKind: NvVulnerabilityProfileList
    plural: nvvulnerabilityprofiles
    singular: nvvulnerabilityprofile
  scope: Cluster
  versions:
  - name: v1
    served: true
    storage: true
    schema:
      openAPIV3Schema:
        properties:
          spec:
            properties:
              profile:
                properties:
                  entries:
                    items:
                      properties:
                        comment:
                          type: string
                        days:
                          type: integer
                        domains:
                          items:
                            type: string
                          type: array
                        images:
                          items:
                            type: string
                          type: array
                        name:
                          type: string
                      required:
                      - name
                      type: object
                    type: array
                required:
                - entries
                type: object
            required:
            - profile
            type: object
        type: object
---
# Source: core/templates/clusterrole.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: neuvector-binding-app
  labels:
    chart: core-2.7.7
    release: my-release
    heritage: Helm
rules:
- apiGroups:
  - ""
  resources:
  - nodes
  - pods
  - services
  - namespaces
  verbs:
  - get
  - list
  - watch
  - update
---
# Source: core/templates/clusterrole.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: neuvector-binding-rbac
  labels:
    chart: core-2.7.7
    release: my-release
    heritage: Helm
rules:
- apiGroups:
  - rbac.authorization.k8s.io
  resources:
  - rolebindings
  - roles
  - clusterrolebindings
  - clusterroles
  verbs:
  - get
  - list
  - watch
---
# Source: core/templates/clusterrole.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: neuvector-binding-admission
  labels:
    chart: core-2.7.7
    release: my-release
    heritage: Helm
rules:
- apiGroups:
  - admissionregistration.k8s.io
  resources:
  - validatingwebhookconfigurations
  - mutatingwebhookconfigurations
  verbs:
  - get
  - list
  - watch
  - create
  - update
  - delete
---
# Source: core/templates/crd-role.yaml
# ClusterRole for NeuVector to operate CRD
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: neuvector-binding-customresourcedefinition
  labels:
    chart: core-2.7.7
    release: my-release
    heritage: Helm
rules:
- apiGroups:
  - apiextensions.k8s.io
  resources:
  - customresourcedefinitions
  verbs:
  - update
  - watch
  - create
  - get
---
# Source: core/templates/crd-role.yaml
# ClusterRole for NeuVector to manage network/process CRD rules
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: neuvector-binding-nvsecurityrules
  labels:
    chart: core-2.7.7
    release: my-release
    heritage: Helm
rules:
- apiGroups:
  - neuvector.com
  resources:
  - nvsecurityrules
  - nvclustersecurityrules
  verbs:
  - get
  - list
  - delete
---
# Source: core/templates/crd-role.yaml
# ClusterRole for NeuVector to manage dlp CRD rules
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: neuvector-binding-nvdlpsecurityrules
  labels:
    chart: core-2.7.7
    release: my-release
    heritage: Helm
rules:
- apiGroups:
  - neuvector.com
  resources:
  - nvdlpsecurityrules
  verbs:
  - get
  - list
  - delete
---
# Source: core/templates/crd-role.yaml
# ClusterRole for NeuVector to manage admission control CRD rules
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: neuvector-binding-nvadmissioncontrolsecurityrules
  labels:
    chart: core-2.7.7
    release: my-release
    heritage: Helm
rules:
- apiGroups:
  - neuvector.com
  resources:
  - nvadmissioncontrolsecurityrules
  verbs:
  - get
  - list
  - delete
---
# Source: core/templates/crd-role.yaml
# ClusterRole for NeuVector to manage waf CRD rules
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: neuvector-binding-nvwafsecurityrules
  labels:
    chart: core-2.7.7
    release: my-release
    heritage: Helm
rules:
- apiGroups:
  - neuvector.com
  resources:
  - nvwafsecurityrules
  verbs:
  - get
  - list
  - delete
---
# Source: core/templates/crd-role.yaml
# ClusterRole for NeuVector to manage compliance CRD profiles
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: neuvector-binding-nvcomplianceprofiles
  labels:
    chart: core-2.7.7
    release: my-release
    heritage: Helm
rules:
- apiGroups:
  - neuvector.com
  resources:
  - nvcomplianceprofiles
  verbs:
  - get
  - list
  - delete
---
# Source: core/templates/crd-role.yaml
# ClusterRole for NeuVector to manage vulnerability CRD profiles
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: neuvector-binding-nvvulnerabilityprofiles
  labels:
    chart: core-2.7.7
    release: my-release
    heritage: Helm
rules:
- apiGroups:
  - neuvector.com
  resources:
  - nvvulnerabilityprofiles
  verbs:
  - get
  - list
  - delete
---
# Source: core/templates/clusterrolebinding.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: neuvector-binding-app
  labels:
    chart: core-2.7.7
    release: my-release
    heritage: Helm
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: neuvector-binding-app
subjects:
- kind: ServiceAccount
  name: default
  namespace: core-2.7.7.tgz
---
# Source: core/templates/clusterrolebinding.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: neuvector-binding-rbac
  labels:
    chart: core-2.7.7
    release: my-release
    heritage: Helm
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: neuvector-binding-rbac
subjects:
- kind: ServiceAccount
  name: default
  namespace: core-2.7.7.tgz
---
# Source: core/templates/clusterrolebinding.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: neuvector-binding-admission
  labels:
    chart: core-2.7.7
    release: my-release
    heritage: Helm
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: neuvector-binding-admission
subjects:
- kind: ServiceAccount
  name: default
  namespace: core-2.7.7.tgz
---
# Source: core/templates/clusterrolebinding.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: neuvector-binding-view
  labels:
    chart: core-2.7.7
    release: my-release
    heritage: Helm
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: view
subjects:
- kind: ServiceAccount
  name: default
  namespace: core-2.7.7.tgz
---
# Source: core/templates/crd-role.yaml
# ClusterRoleBinding for NeuVector to operate CRD
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: neuvector-binding-customresourcedefinition
  labels:
    chart: core-2.7.7
    release: my-release
    heritage: Helm
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: neuvector-binding-customresourcedefinition
subjects:
- kind: ServiceAccount
  name: default
  namespace: core-2.7.7.tgz
---
# Source: core/templates/crd-role.yaml
# ClusterRoleBinding for NeuVector to manage network/process CRD rules
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: neuvector-binding-nvsecurityrules
  labels:
    chart: core-2.7.7
    release: my-release
    heritage: Helm
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: neuvector-binding-nvsecurityrules
subjects:
- kind: ServiceAccount
  name: default
  namespace: core-2.7.7.tgz
---
# Source: core/templates/crd-role.yaml
# ClusterRoleBinding for NeuVector to manage admission control CRD rules
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: neuvector-binding-nvdlpsecurityrules
  labels:
    chart: core-2.7.7
    release: my-release
    heritage: Helm
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: neuvector-binding-nvdlpsecurityrules
subjects:
- kind: ServiceAccount
  name: default
  namespace: core-2.7.7.tgz
---
# Source: core/templates/crd-role.yaml
# ClusterRoleBinding for NeuVector to manage admission control CRD rules
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: neuvector-binding-nvadmissioncontrolsecurityrules
  labels:
    chart: core-2.7.7
    release: my-release
    heritage: Helm
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: neuvector-binding-nvadmissioncontrolsecurityrules
subjects:
- kind: ServiceAccount
  name: default
  namespace: core-2.7.7.tgz
---
# Source: core/templates/crd-role.yaml
# ClusterRoleBinding for NeuVector to manage waf CRD rules
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: neuvector-binding-nvwafsecurityrules
  labels:
    chart: core-2.7.7
    release: my-release
    heritage: Helm
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: neuvector-binding-nvwafsecurityrules
subjects:
- kind: ServiceAccount
  name: default
  namespace: core-2.7.7.tgz
---
# Source: core/templates/crd-role.yaml
# ClusterRoleBinding for NeuVector to manage compliance CRD profiles
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: neuvector-binding-nvcomplianceprofiles
  labels:
    chart: core-2.7.7
    release: my-release
    heritage: Helm
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: neuvector-binding-nvcomplianceprofiles
subjects:
- kind: ServiceAccount
  name: default
  namespace: core-2.7.7.tgz
---
# Source: core/templates/crd-role.yaml
# ClusterRoleBinding for NeuVector to manage vulnerability CRD profiles
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: neuvector-binding-nvvulnerabilityprofiles
  labels:
    chart: core-2.7.7
    release: my-release
    heritage: Helm
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: neuvector-binding-nvvulnerabilityprofiles
subjects:
- kind: ServiceAccount
  name: default
  namespace: core-2.7.7.tgz
---
# Source: core/templates/role.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
  name: neuvector-binding-secret
  namespace: core-2.7.7.tgz
  labels:
    chart: core-2.7.7
    release: my-release
    heritage: Helm
rules:
- apiGroups:
  - ""
  resources:
  - secrets
  verbs:
  - get
---
# Source: core/templates/rolebinding.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  name: neuvector-admin
  namespace: core-2.7.7.tgz
  labels:
    chart: core-2.7.7
    release: my-release
    heritage: Helm
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: admin
subjects:
- kind: ServiceAccount
  name: default
  namespace: core-2.7.7.tgz
---
# Source: core/templates/rolebinding.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  name: neuvector-binding-secret
  namespace: core-2.7.7.tgz
  labels:
    chart: core-2.7.7
    release: my-release
    heritage: Helm
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: Role
  name: neuvector-binding-secret
subjects:
- kind: ServiceAccount
  name: default
  namespace: core-2.7.7.tgz
---
# Source: core/templates/admission-webhook-service.yaml
apiVersion: v1
kind: Service
metadata:
  name: neuvector-svc-admission-webhook
  namespace: core-2.7.7.tgz
  labels:
    chart: core-2.7.7
    release: my-release
    heritage: Helm
spec:
  ports:
    - port: 443
      targetPort: 20443
      protocol: TCP
      name: admission-webhook
  type: ClusterIP
  selector:
    app: neuvector-controller-pod
---
# Source: core/templates/controller-service.yaml
apiVersion: v1
kind: Service
metadata:
  name: neuvector-svc-controller
  namespace: core-2.7.7.tgz
  labels:
    chart: core-2.7.7
    release: my-release
    heritage: Helm
spec:
  clusterIP: None
  ports:
    - port: 18300
      protocol: "TCP"
      name: "cluster-tcp-18300"
    - port: 18301
      protocol: "TCP"
      name: "cluster-tcp-18301"
    - port: 18301
      protocol: "UDP"
      name: "cluster-udp-18301"
  selector:
    app: neuvector-controller-pod
---
# Source: core/templates/crd.yaml
apiVersion: v1
kind: Service
metadata:
  name: neuvector-svc-crd-webhook
  namespace: core-2.7.7.tgz
  labels:
    chart: core-2.7.7
    release: my-release
    heritage: Helm
spec:
  ports:
    - port: 443
      targetPort: 30443
      protocol: TCP
      name: crd-webhook
  type: ClusterIP
  selector:
    app: neuvector-controller-pod
---
# Source: core/templates/manager-service.yaml
apiVersion: v1
kind: Service
metadata:
  name: neuvector-service-webui
  namespace: core-2.7.7.tgz
  labels:
    chart: core-2.7.7
    release: my-release
    heritage: Helm
spec:
  type: NodePort
  ports:
    - port: 8443
      name: manager
      protocol: TCP
      appProtocol: HTTPS
  selector:
    app: neuvector-manager-pod
---
# Source: core/templates/enforcer-daemonset.yaml
apiVersion: apps/v1
kind: DaemonSet
metadata:
  name: neuvector-enforcer-pod
  namespace: core-2.7.7.tgz
  labels:
    chart: core-2.7.7
    heritage: Helm
    release: my-release
spec:
  updateStrategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app: neuvector-enforcer-pod
  template:
    metadata:
      labels:
        app: neuvector-enforcer-pod
        release: my-release
    spec:
      tolerations:
        - effect: NoSchedule
          key: node-role.kubernetes.io/master
        - effect: NoSchedule
          key: node-role.kubernetes.io/control-plane
      hostPID: true
      serviceAccountName: default
      serviceAccount: default
      containers:
        - name: neuvector-enforcer-pod
          image: "docker.io/neuvector/enforcer:5.3.3"
          securityContext:
            privileged: true
          resources:
            {}
          env:
            - name: CLUSTER_JOIN_ADDR
              value: neuvector-svc-controller.core-2.7.7.tgz
            - name: CLUSTER_ADVERTISED_ADDR
              valueFrom:
                fieldRef:
                  fieldPath: status.podIP
            - name: CLUSTER_BIND_ADDR
              valueFrom:
                fieldRef:
                  fieldPath: status.podIP
          volumeMounts:
            - mountPath: /lib/modules
              name: modules-vol
              readOnly: true
            - mountPath: /var/nv_debug
              name: nv-debug
              readOnly: false
      terminationGracePeriodSeconds: 1200
      restartPolicy: Always
      volumes:
        - name: modules-vol
          hostPath:
            path: /lib/modules
        - name: nv-debug
          hostPath:
            path: /var/nv_debug
---
# Source: core/templates/controller-deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: neuvector-controller-pod
  namespace: core-2.7.7.tgz
  labels:
    chart: core-2.7.7
    release: my-release
    heritage: Helm
spec:
  replicas: 3
  minReadySeconds: 60
  strategy:
    rollingUpdate:
      maxSurge: 1
      maxUnavailable: 0
    type: RollingUpdate
  selector:
    matchLabels:
      app: neuvector-controller-pod
  template:
    metadata:
      labels:
        app: neuvector-controller-pod
        release: my-release
      annotations:
        checksum/controller-secret: 474484c3b7f5e78859d0facad16db34650d90640fb1ca995c8a9fa384394167c
    spec:
      affinity:
        podAntiAffinity:
          preferredDuringSchedulingIgnoredDuringExecution:
          - podAffinityTerm:
              labelSelector:
                matchExpressions:
                - key: app
                  operator: In
                  values:
                  - neuvector-controller-pod
              topologyKey: kubernetes.io/hostname
            weight: 100
      serviceAccountName: default
      serviceAccount: default
      containers:
        - name: neuvector-controller-pod
          image: "docker.io/neuvector/controller:5.3.3"
          securityContext:
            runAsUser: 0
          resources:
            {}
          readinessProbe:
            exec:
              command:
                - cat
                - /tmp/ready
            initialDelaySeconds: 5
            periodSeconds: 5
          env:
            - name: CLUSTER_JOIN_ADDR
              value: neuvector-svc-controller.core-2.7.7.tgz
            - name: CLUSTER_ADVERTISED_ADDR
              valueFrom:
                fieldRef:
                  fieldPath: status.podIP
            - name: CLUSTER_BIND_ADDR
              valueFrom:
                fieldRef:
                  fieldPath: status.podIP
          volumeMounts:
            - mountPath: /etc/config
              name: config-volume
              readOnly: true
            - mountPath: /etc/neuvector/certs/ssl-cert.key
              subPath: ssl-cert.key
              name: cert
              readOnly: true
            - mountPath: /etc/neuvector/certs/ssl-cert.pem
              subPath: ssl-cert.pem
              name: cert
              readOnly: true
      terminationGracePeriodSeconds: 300
      restartPolicy: Always
      volumes:
        - name: config-volume
          projected:
            sources:
              - configMap:
                  name: neuvector-init
                  optional: true
              - secret:
                  name: neuvector-init
                  optional: true
              - secret:
                  name: neuvector-secret
                  optional: true
        - name: cert
          secret:
            secretName: neuvector-controller-secret
---
# Source: core/templates/manager-deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: neuvector-manager-pod
  namespace: core-2.7.7.tgz
  labels:
    chart: core-2.7.7
    release: my-release
    heritage: Helm
spec:
  replicas: 1
  selector:
    matchLabels:
      app: neuvector-manager-pod
  template:
    metadata:
      labels:
        app: neuvector-manager-pod
        release: my-release
      annotations:
        checksum/manager-secret: 8c2d0a02b158f547714c81fcbacb4aca57c8e83a8f2842dd8bd0fcaf7a0e7048
    spec:
      serviceAccountName: default
      serviceAccount: default
      containers:
        - name: neuvector-manager-pod
          image: "docker.io/neuvector/manager:5.3.3"
          ports:
            - name: http
              containerPort: 8443
              protocol: TCP
          env:
            - name: CTRL_SERVER_IP
              value: neuvector-svc-controller.core-2.7.7.tgz
          volumeMounts:
            - mountPath: /etc/neuvector/certs/ssl-cert.key
              subPath: ssl-cert.key
              name: cert
              readOnly: true
            - mountPath: /etc/neuvector/certs/ssl-cert.pem
              subPath: ssl-cert.pem
              name: cert
              readOnly: true
          resources:
            {}
      restartPolicy: Always
      volumes:
        - name: cert
          secret:
            secretName: neuvector-manager-secret
---
# Source: core/templates/scanner-deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: neuvector-scanner-pod
  namespace: core-2.7.7.tgz
  labels:
    chart: core-2.7.7
    heritage: Helm
    release: my-release
spec:
  strategy:
    rollingUpdate:
      maxSurge: 1
      maxUnavailable: 0
    type: RollingUpdate
  replicas: 3
  selector:
    matchLabels:
      app: neuvector-scanner-pod
  template:
    metadata:
      labels:
        app: neuvector-scanner-pod
    spec:
      serviceAccountName: default
      serviceAccount: default
      containers:
        - name: neuvector-scanner-pod
          image: "docker.io/neuvector/scanner:latest"
          imagePullPolicy: Always
          env:
            - name: CLUSTER_JOIN_ADDR
              value: neuvector-svc-controller.core-2.7.7.tgz
          resources:
            {}
      restartPolicy: Always
---
# Source: core/templates/updater-cronjob.yaml
apiVersion: batch/v1
kind: CronJob
metadata:
  name: neuvector-updater-pod
  namespace: core-2.7.7.tgz
  labels:
    chart: core-2.7.7
    release: my-release
    heritage: Helm
spec:
  schedule: "0 0 * * *"
  jobTemplate:
    spec:
      template:
        metadata:
          labels:
            app: neuvector-updater-pod
            release: my-release
        spec:
          serviceAccountName: default
          serviceAccount: default
          containers:
            - name: neuvector-updater-pod
              image: "docker.io/neuvector/updater:latest"
              imagePullPolicy: Always
              resources:
                {}
              command:
              - /bin/sh
              - -c
              - /usr/bin/curl -kv -X PATCH -H "Authorization:Bearer $(cat /var/run/secrets/kubernetes.io/serviceaccount/token)" -H "Content-Type:application/strategic-merge-patch+json" -d '{"spec":{"template":{"metadata":{"annotations":{"kubectl.kubernetes.io/restartedAt":"'`date +%Y-%m-%dT%H:%M:%S%z`'"}}}}}' 'https://kubernetes.default/apis/apps/v1/namespaces/core-2.7.7.tgz/deployments/neuvector-scanner-pod'
          restartPolicy: Never
