---
# Source: kubedb-kubestash-catalog/templates/elasticsearch/elasticsearch-addon.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Addon
metadata:
  name: 'elasticsearch-addon'
  labels:
    helm.sh/chart: kubedb-kubestash-catalog-v2024.6.4
    app.kubernetes.io/name: kubedb-kubestash-catalog
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  backupTasks:
  - driver: Restic
    executor: Job
    function: elasticsearch-backup
    name: logical-backup
    parameters:
    - default: --match=^(?![.])(?!apm-agent-configuration)(?!kubedb-system).+
      name: args
      required: false
      usage: Arguments to be passed to the dump command.
    - default: /kubestash-interim/data
      name: interimDataDir
      required: false
      usage: Directory where data will be stored temporarily before uploading to the backend.
    - default: "true"
      name: enableCache
      required: false
      usage: Enable or disable caching. Disabling caching may impact backup performance.
    - default: /kubestash-tmp
      name: scratchDir
      required: false
      usage: Directory for holding temporary files and restic cache.
    singleton: true
    volumeMounts:
    - mountPath: /kubestash-interim
      name: kubestash-interim-volume
    - mountPath: /kubestash-tmp
      name: kubestash-tmp-volume
    volumeTemplate:
    - name: kubestash-interim-volume
      source:
        emptyDir: {}
      usage: Holds backed up data temporarily before uploading to the backend.
    - name: kubestash-tmp-volume
      source:
        emptyDir: {}
      usage: Holds temporary files and restic cache.
  - driver: Restic
    executor: Job
    function: elasticsearch-dashboard-backup
    name: dashboard-backup
    parameters:
    - default: /kubestash-interim/data
      name: interimDataDir
      required: false
      usage: Directory where data will be stored temporarily before uploading to the backend.
    - default: "true"
      name: enableCache
      required: false
      usage: Enable or disable caching. Disabling caching may impact backup performance.
    - default: /kubestash-tmp
      name: scratchDir
      required: false
      usage: Directory for holding temporary files and restic cache.
    singleton: true
    volumeMounts:
    - mountPath: /kubestash-interim
      name: kubestash-interim-volume
    - mountPath: /kubestash-tmp
      name: kubestash-tmp-volume
    volumeTemplate:
    - name: kubestash-interim-volume
      source:
        emptyDir: {}
      usage: Holds backed up data temporarily before uploading to the backend.
    - name: kubestash-tmp-volume
      source:
        emptyDir: {}
      usage: Holds temporary files and restic cache.
  restoreTasks:
  - driver: Restic
    executor: Job
    function: elasticsearch-restore
    name: logical-backup-restore
    parameters:
    - default: --match=^(?![.])(?!apm-agent-configuration)(?!kubedb-system).+
      name: args
      required: false
      usage: Arguments to be passed to the dump command.
    - default: /kubestash-interim/data
      name: interimDataDir
      required: false
      usage: Specifies the directory where data will be stored temporarily before dumping to the database.
    - default: "true"
      name: enableCache
      required: false
      usage: Enable or disable caching. Disabling caching may impact backup performance.
    - default: /kubestash-tmp
      name: scratchDir
      required: false
      usage: Directory for holding temporary files and restic cache.
    singleton: true
    volumeMounts:
    - mountPath: /kubestash-interim
      name: kubestash-interim-volume
    - mountPath: /kubestash-tmp
      name: kubestash-tmp-volume
    volumeTemplate:
    - name: kubestash-interim-volume
      source:
        emptyDir: {}
      usage: Holds backed up data temporarily before dumping to the database.
    - name: kubestash-tmp-volume
      source:
        emptyDir: {}
      usage: Holds temporary files and restic cache.
  - driver: Restic
    executor: Job
    function: elasticsearch-dashboard-restore
    name: dashboard-restore
    parameters:
    - default: /kubestash-interim/data
      name: interimDataDir
      required: false
      usage: Specifies the directory where data will be stored temporarily before restoring to the dashboard.
    - default: "true"
      name: enableCache
      required: false
      usage: Enable or disable caching. Disabling caching may impact backup performance.
    - default: /kubestash-tmp
      name: scratchDir
      required: false
      usage: Directory for holding temporary files and restic cache.
    singleton: true
    volumeMounts:
    - mountPath: /kubestash-interim
      name: kubestash-interim-volume
    - mountPath: /kubestash-tmp
      name: kubestash-tmp-volume
    volumeTemplate:
    - name: kubestash-interim-volume
      source:
        emptyDir: {}
      usage: Holds backed up data temporarily before dumping to the database.
    - name: kubestash-tmp-volume
      source:
        emptyDir: {}
      usage: Holds temporary files and restic cache.
---
# Source: kubedb-kubestash-catalog/templates/mariadb/mariadb-addon.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Addon
metadata:
  name: 'mariadb-addon'
  labels:
    helm.sh/chart: kubedb-kubestash-catalog-v2024.6.4
    app.kubernetes.io/name: kubedb-kubestash-catalog
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  backupTasks:
  - driver: Restic
    executor: Job
    function: mariadb-backup
    name: logical-backup
    parameters:
    - default: --all-databases --ignore-database=mysql
      name: args
      required: false
      usage: Arguments to be passed to the dump command.
    - default: "true"
      name: enableCache
      required: false
      usage: Enable or disable caching. Disabling caching may impact backup performance.
    - default: /kubestash-tmp
      name: scratchDir
      required: false
      usage: Directory for holding temporary files and restic cache.
    singleton: true
    volumeMounts:
    - mountPath: /kubestash-tmp
      name: kubestash-tmp-volume
    volumeTemplate:
    - name: kubestash-tmp-volume
      source:
        emptyDir: {}
      usage: Holds temporary files and restic cache.
  - driver: Restic
    executor: Job
    function: kubedbmanifest-backup
    name: manifest-backup
    parameters:
    - default: "true"
      name: enableCache
      required: false
      usage: Enable or disable caching. Disabling caching may impact backup performance.
    - default: /kubestash-tmp
      name: scratchDir
      required: false
      usage: Directory for holding temporary files and restic cache.
    singleton: true
    volumeMounts:
    - mountPath: /kubestash-tmp
      name: kubestash-tmp-volume
    volumeTemplate:
    - name: kubestash-tmp-volume
      source:
        emptyDir: {}
      usage: Holds temporary files and restic cache.
  - driver: VolumeSnapshotter
    executor: Job
    function: mariadb-csi-snapshotter
    name: volume-snapshot
    parameters:
    - name: volumeSnapshotClassName
      required: false
      usage: The VolumeSnapshotClassName to be used by volumeSnapshot
    singleton: true
  restoreTasks:
  - driver: Restic
    executor: Job
    function: mariadb-restore
    name: logical-backup-restore
    parameters:
    - name: args
      required: false
      usage: Arguments to be passed to the dump command.
    - default: "true"
      name: enableCache
      required: false
      usage: Enable or disable caching. Disabling caching may impact backup performance.
    - default: /kubestash-tmp
      name: scratchDir
      required: false
      usage: Directory for holding temporary files and restic cache.
    singleton: true
    volumeMounts:
    - mountPath: /kubestash-tmp
      name: kubestash-tmp-volume
    volumeTemplate:
    - name: kubestash-tmp-volume
      source:
        emptyDir: {}
      usage: Holds temporary files and restic cache.
  - driver: Restic
    executor: Job
    function: kubedbmanifest-restore
    name: manifest-restore
    parameters:
    - default: "true"
      name: enableCache
      required: false
      usage: Enable or disable caching. Disabling caching may impact backup performance.
    - default: /kubestash-tmp
      name: scratchDir
      required: false
      usage: Directory for holding temporary files and restic cache.
    singleton: true
    volumeMounts:
    - mountPath: /kubestash-tmp
      name: kubestash-tmp-volume
    volumeTemplate:
    - name: kubestash-tmp-volume
      source:
        emptyDir: {}
      usage: Holds temporary files and restic cache.
---
# Source: kubedb-kubestash-catalog/templates/mongodb/mongodb-addon.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Addon
metadata:
  name: 'mongodb-addon'
  labels:
    helm.sh/chart: kubedb-kubestash-catalog-v2024.6.4
    app.kubernetes.io/name: kubedb-kubestash-catalog
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  backupTasks:
  - driver: Restic
    executor: Job
    function: mongodb-backup
    name: logical-backup
    parameters:
    - name: args
      required: false
      usage: Arguments to be passed to the dump command.
    - default: "true"
      name: enableCache
      required: false
      usage: Enable or disable caching. Disabling caching may impact backup performance.
    - default: /kubestash-tmp
      name: scratchDir
      required: false
      usage: Directory for holding temporary files and restic cache.
    singleton: true
    volumeMounts:
    - mountPath: /kubestash-tmp
      name: kubestash-tmp-volume
    volumeTemplate:
    - name: kubestash-tmp-volume
      source:
        emptyDir: {}
      usage: Holds temporary files and restic cache.
  - driver: VolumeSnapshotter
    executor: Job
    function: mongodb-csi-snapshotter
    name: volume-snapshot
    parameters:
    - name: volumeSnapshotClassName
      required: false
      usage: The VolumeSnapshotClassName to be used by volumeSnapshot
    singleton: true
  - driver: Restic
    executor: Job
    function: kubedbmanifest-backup
    name: manifest-backup
    parameters:
    - default: "true"
      name: enableCache
      required: false
      usage: Enable or disable caching. Disabling caching may impact backup performance.
    - default: /kubestash-tmp
      name: scratchDir
      required: false
      usage: Directory for holding temporary files and restic cache.
    singleton: true
    volumeMounts:
    - mountPath: /kubestash-tmp
      name: kubestash-tmp-volume
    volumeTemplate:
    - name: kubestash-tmp-volume
      source:
        emptyDir: {}
      usage: Holds temporary files and restic cache.
  restoreTasks:
  - driver: Restic
    executor: Job
    function: mongodb-restore
    name: logical-backup-restore
    parameters:
    - name: args
      required: false
      usage: Arguments to be passed to the dump command.
    - default: "true"
      name: enableCache
      required: false
      usage: Enable or disable caching. Disabling caching may impact backup performance.
    - default: /kubestash-tmp
      name: scratchDir
      required: false
      usage: Directory for holding temporary files and restic cache.
    singleton: true
    volumeMounts:
    - mountPath: /kubestash-tmp
      name: kubestash-tmp-volume
    volumeTemplate:
    - name: kubestash-tmp-volume
      source:
        emptyDir: {}
      usage: Holds temporary files and restic cache.
  - driver: Restic
    executor: Job
    function: kubedbmanifest-restore
    name: manifest-restore
    parameters:
    - default: "true"
      name: enableCache
      required: false
      usage: Enable or disable caching. Disabling caching may impact backup performance.
    - default: /kubestash-tmp
      name: scratchDir
      required: false
      usage: Directory for holding temporary files and restic cache.
    singleton: true
    volumeMounts:
    - mountPath: /kubestash-tmp
      name: kubestash-tmp-volume
    volumeTemplate:
    - name: kubestash-tmp-volume
      source:
        emptyDir: {}
      usage: Holds temporary files and restic cache.
---
# Source: kubedb-kubestash-catalog/templates/mysql/mysql-addon.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Addon
metadata:
  name: 'mysql-addon'
  labels:
    helm.sh/chart: kubedb-kubestash-catalog-v2024.6.4
    app.kubernetes.io/name: kubedb-kubestash-catalog
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  backupTasks:
  - driver: Restic
    executor: Job
    function: mysql-backup
    name: logical-backup
    parameters:
    - default: --set-gtid-purged=OFF
      name: args
      required: false
      usage: Arguments to be passed to the dump command.
    - name: databases
      required: false
      usage: List of databases to backup.
    - default: "true"
      name: enableCache
      required: false
      usage: Enable or disable caching. Disabling caching may impact backup performance.
    - default: /kubestash-tmp
      name: scratchDir
      required: false
      usage: Directory for holding temporary files and restic cache.
    singleton: true
    volumeMounts:
    - mountPath: /kubestash-tmp
      name: kubestash-tmp-volume
    volumeTemplate:
    - name: kubestash-tmp-volume
      source:
        emptyDir: {}
      usage: Holds temporary files and restic cache.
  - driver: VolumeSnapshotter
    executor: Job
    function: mysql-csi-snapshotter
    name: volume-snapshot
    parameters:
    - name: volumeSnapshotClassName
      required: false
      usage: The VolumeSnapshotClassName to be used by volumeSnapshot
    singleton: true
  - driver: Restic
    executor: Job
    function: kubedbmanifest-backup
    name: manifest-backup
    parameters:
    - default: "true"
      name: enableCache
      required: false
      usage: Enable or disable caching. Disabling caching may impact backup performance.
    - default: /kubestash-tmp
      name: scratchDir
      required: false
      usage: Directory for holding temporary files and restic cache.
    singleton: true
    volumeMounts:
    - mountPath: /kubestash-tmp
      name: kubestash-tmp-volume
    volumeTemplate:
    - name: kubestash-tmp-volume
      source:
        emptyDir: {}
      usage: Holds temporary files and restic cache.
  restoreTasks:
  - driver: Restic
    executor: Job
    function: mysql-restore
    name: logical-backup-restore
    parameters:
    - name: args
      required: false
      usage: Arguments to be passed to the dump command.
    - default: "true"
      name: enableCache
      required: false
      usage: Enable or disable caching. Disabling caching may impact backup performance.
    - default: /kubestash-tmp
      name: scratchDir
      required: false
      usage: Directory for holding temporary files and restic cache.
    singleton: true
    volumeMounts:
    - mountPath: /kubestash-tmp
      name: kubestash-tmp-volume
    volumeTemplate:
    - name: kubestash-tmp-volume
      source:
        emptyDir: {}
      usage: Holds temporary files and restic cache.
  - driver: Restic
    executor: Job
    function: kubedbmanifest-restore
    name: manifest-restore
    parameters:
    - default: "true"
      name: enableCache
      required: false
      usage: Enable or disable caching. Disabling caching may impact backup performance.
    - default: /kubestash-tmp
      name: scratchDir
      required: false
      usage: Directory for holding temporary files and restic cache.
    singleton: true
    volumeMounts:
    - mountPath: /kubestash-tmp
      name: kubestash-tmp-volume
    volumeTemplate:
    - name: kubestash-tmp-volume
      source:
        emptyDir: {}
      usage: Holds temporary files and restic cache.
---
# Source: kubedb-kubestash-catalog/templates/opensearch/opensearch-addon.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Addon
metadata:
  name: 'opensearch-addon'
  labels:
    helm.sh/chart: kubedb-kubestash-catalog-v2024.6.4
    app.kubernetes.io/name: kubedb-kubestash-catalog
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  backupTasks:
  - driver: Restic
    executor: Job
    function: opensearch-backup
    name: logical-backup
    parameters:
    - default: --match=^(?![.])(?!security-auditlog)(?!kubedb-system).+
      name: args
      required: false
      usage: Arguments to be passed to the dump command.
    - default: /kubestash-interim/data
      name: interimDataDir
      required: false
      usage: Directory where data will be stored temporarily before uploading to the backend.
    - default: "true"
      name: enableCache
      required: false
      usage: Enable or disable caching. Disabling caching may impact backup performance.
    - default: /kubestash-tmp
      name: scratchDir
      required: false
      usage: Directory for holding temporary files and restic cache.
    singleton: true
    volumeMounts:
    - mountPath: /kubestash-interim
      name: kubestash-interim-volume
    - mountPath: /kubestash-tmp
      name: kubestash-tmp-volume
    volumeTemplate:
    - name: kubestash-interim-volume
      source:
        emptyDir: {}
      usage: Holds backed up data temporarily before uploading to the backend.
    - name: kubestash-tmp-volume
      source:
        emptyDir: {}
      usage: Holds temporary files and restic cache.
  - driver: Restic
    executor: Job
    function: opensearch-dashboard-backup
    name: dashboard-backup
    parameters:
    - default: /kubestash-interim/data
      name: interimDataDir
      required: false
      usage: Directory where data will be stored temporarily before uploading to the backend.
    - default: "true"
      name: enableCache
      required: false
      usage: Enable or disable caching. Disabling caching may impact backup performance.
    - default: /kubestash-tmp
      name: scratchDir
      required: false
      usage: Directory for holding temporary files and restic cache.
    singleton: true
    volumeMounts:
    - mountPath: /kubestash-interim
      name: kubestash-interim-volume
    - mountPath: /kubestash-tmp
      name: kubestash-tmp-volume
    volumeTemplate:
    - name: kubestash-interim-volume
      source:
        emptyDir: {}
      usage: Holds backed up data temporarily before uploading to the backend.
    - name: kubestash-tmp-volume
      source:
        emptyDir: {}
      usage: Holds temporary files and restic cache.
  restoreTasks:
  - driver: Restic
    executor: Job
    function: opensearch-restore
    name: logical-backup-restore
    parameters:
    - default: --match=^(?![.])(?!security-auditlog)(?!kubedb-system).+
      name: args
      required: false
      usage: Arguments to be passed to the dump command.
    - default: /kubestash-interim/data
      name: interimDataDir
      required: false
      usage: Specifies the directory where data will be stored temporarily before dumping to the database.
    - default: "true"
      name: enableCache
      required: false
      usage: Enable or disable caching. Disabling caching may impact backup performance.
    - default: /kubestash-tmp
      name: scratchDir
      required: false
      usage: Directory for holding temporary files and restic cache.
    singleton: true
    volumeMounts:
    - mountPath: /kubestash-interim
      name: kubestash-interim-volume
    - mountPath: /kubestash-tmp
      name: kubestash-tmp-volume
    volumeTemplate:
    - name: kubestash-interim-volume
      source:
        emptyDir: {}
      usage: Holds backed up data temporarily before dumping to the database.
    - name: kubestash-tmp-volume
      source:
        emptyDir: {}
      usage: Holds temporary files and restic cache.
  - driver: Restic
    executor: Job
    function: opensearch-dashboard-restore
    name: dashboard-restore
    parameters:
    - default: /kubestash-interim/data
      name: interimDataDir
      required: false
      usage: Specifies the directory where data will be stored temporarily before restoring to the dashboard.
    - default: "true"
      name: enableCache
      required: false
      usage: Enable or disable caching. Disabling caching may impact backup performance.
    - default: /kubestash-tmp
      name: scratchDir
      required: false
      usage: Directory for holding temporary files and restic cache.
    singleton: true
    volumeMounts:
    - mountPath: /kubestash-interim
      name: kubestash-interim-volume
    - mountPath: /kubestash-tmp
      name: kubestash-tmp-volume
    volumeTemplate:
    - name: kubestash-interim-volume
      source:
        emptyDir: {}
      usage: Holds backed up data temporarily before dumping to the database.
    - name: kubestash-tmp-volume
      source:
        emptyDir: {}
      usage: Holds temporary files and restic cache.
---
# Source: kubedb-kubestash-catalog/templates/postgres/postgres-addon.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Addon
metadata:
  name: 'postgres-addon'
  labels:
    helm.sh/chart: kubedb-kubestash-catalog-v2024.6.4
    app.kubernetes.io/name: kubedb-kubestash-catalog
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  backupTasks:
  - driver: Restic
    executor: Job
    function: postgres-backup
    name: logical-backup
    parameters:
    - name: args
      required: false
      usage: Arguments to be passed to the dump command.
    - default: pg_dumpall
      name: backupCmd
      required: false
      usage: Backup command to take a database dump (can only be pg_dumpall or pg_dump)
    - default: postgres
      name: user
      required: false
      usage: Specifies database user (not applicable for basic authentication)
    - default: "true"
      name: enableCache
      required: false
      usage: Enable or disable caching. Disabling caching may impact backup performance.
    - default: /kubestash-tmp
      name: scratchDir
      required: false
      usage: Directory for holding temporary files and restic cache.
    singleton: true
    volumeMounts:
    - mountPath: /kubestash-tmp
      name: kubestash-tmp-volume
    volumeTemplate:
    - name: kubestash-tmp-volume
      source:
        emptyDir: {}
      usage: Holds temporary files and restic cache.
  - driver: VolumeSnapshotter
    executor: Job
    function: postgres-csi-snapshotter
    name: volume-snapshot
    parameters:
    - name: volumeSnapshotClassName
      required: false
      usage: The VolumeSnapshotClassName to be used by volumeSnapshot
    singleton: true
  - driver: Restic
    executor: Job
    function: kubedbmanifest-backup
    name: manifest-backup
    parameters:
    - default: "true"
      name: enableCache
      required: false
      usage: Enable or disable caching. Disabling caching may impact backup performance.
    - default: /kubestash-tmp
      name: scratchDir
      required: false
      usage: Directory for holding temporary files and restic cache.
    singleton: true
    volumeMounts:
    - mountPath: /kubestash-tmp
      name: kubestash-tmp-volume
    volumeTemplate:
    - name: kubestash-tmp-volume
      source:
        emptyDir: {}
      usage: Holds temporary files and restic cache.
  restoreTasks:
  - driver: Restic
    executor: Job
    function: postgres-restore
    name: logical-backup-restore
    parameters:
    - name: args
      required: false
      usage: Arguments to be passed to the dump command.
    - default: postgres
      name: user
      required: false
      usage: Specifies database user (not applicable for basic authentication)
    - default: "true"
      name: enableCache
      required: false
      usage: Enable or disable caching. Disabling caching may impact backup performance.
    - default: /kubestash-tmp
      name: scratchDir
      required: false
      usage: Directory for holding temporary files and restic cache.
    singleton: true
    volumeMounts:
    - mountPath: /kubestash-tmp
      name: kubestash-tmp-volume
    volumeTemplate:
    - name: kubestash-tmp-volume
      source:
        emptyDir: {}
      usage: Holds temporary files and restic cache.
  - driver: Restic
    executor: Job
    function: kubedbmanifest-restore
    name: manifest-restore
    parameters:
    - default: "true"
      name: enableCache
      required: false
      usage: Enable or disable caching. Disabling caching may impact backup performance.
    - default: /kubestash-tmp
      name: scratchDir
      required: false
      usage: Directory for holding temporary files and restic cache.
    singleton: true
    volumeMounts:
    - mountPath: /kubestash-tmp
      name: kubestash-tmp-volume
    volumeTemplate:
    - name: kubestash-tmp-volume
      source:
        emptyDir: {}
      usage: Holds temporary files and restic cache.
---
# Source: kubedb-kubestash-catalog/templates/redis/redis-addon.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Addon
metadata:
  name: 'redis-addon'
  labels:
    helm.sh/chart: kubedb-kubestash-catalog-v2024.6.4
    app.kubernetes.io/name: kubedb-kubestash-catalog
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  backupTasks:
  - driver: Restic
    executor: Job
    function: redis-backup
    name: logical-backup
    parameters:
    - name: args
      required: false
      usage: Arguments to be passed to the dump command.
    - default: "true"
      name: enableCache
      required: false
      usage: Enable or disable caching. Disabling caching may impact backup performance.
    - default: /kubestash-tmp
      name: scratchDir
      required: false
      usage: Directory for holding temporary files and restic cache.
    singleton: true
    volumeMounts:
    - mountPath: /kubestash-tmp
      name: kubestash-tmp-volume
    volumeTemplate:
    - name: kubestash-tmp-volume
      source:
        emptyDir: {}
      usage: Holds temporary files and restic cache.
  restoreTasks:
  - driver: Restic
    executor: Job
    function: redis-restore
    name: logical-backup-restore
    parameters:
    - name: args
      required: false
      usage: Arguments to be passed to the dump command.
    - default: "true"
      name: enableCache
      required: false
      usage: Enable or disable caching. Disabling caching may impact backup performance.
    - default: /kubestash-tmp
      name: scratchDir
      required: false
      usage: Directory for holding temporary files and restic cache.
    singleton: true
    volumeMounts:
    - mountPath: /kubestash-tmp
      name: kubestash-tmp-volume
    volumeTemplate:
    - name: kubestash-tmp-volume
      source:
        emptyDir: {}
      usage: Holds temporary files and restic cache.
---
# Source: kubedb-kubestash-catalog/templates/singlestore/singlestore-addon.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Addon
metadata:
  name: 'singlestore-addon'
  labels:
    helm.sh/chart: kubedb-kubestash-catalog-v2024.6.4
    app.kubernetes.io/name: kubedb-kubestash-catalog
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  backupTasks:
  - driver: Restic
    executor: Job
    function: singlestore-backup
    name: logical-backup
    parameters:
    - name: args
      required: false
      usage: Arguments to be passed to the dump command.
    - default: "true"
      name: enableCache
      required: false
      usage: Enable or disable caching. Disabling caching may impact backup performance.
    - default: /kubestash-tmp
      name: scratchDir
      required: false
      usage: Directory for holding temporary files and restic cache.
    singleton: true
    volumeMounts:
    - mountPath: /kubestash-tmp
      name: kubestash-tmp-volume
    volumeTemplate:
    - name: kubestash-tmp-volume
      source:
        emptyDir: {}
      usage: Holds temporary files and restic cache.
  restoreTasks:
  - driver: Restic
    executor: Job
    function: singlestore-restore
    name: logical-backup-restore
    parameters:
    - name: args
      required: false
      usage: Arguments to be passed to the dump command.
    - default: "true"
      name: enableCache
      required: false
      usage: Enable or disable caching. Disabling caching may impact backup performance.
    - default: /kubestash-tmp
      name: scratchDir
      required: false
      usage: Directory for holding temporary files and restic cache.
    singleton: true
    volumeMounts:
    - mountPath: /kubestash-tmp
      name: kubestash-tmp-volume
    volumeTemplate:
    - name: kubestash-tmp-volume
      source:
        emptyDir: {}
      usage: Holds temporary files and restic cache.
---
# Source: kubedb-kubestash-catalog/templates/zookeeper/zookeeper-addon.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Addon
metadata:
  name: 'zookeeper-addon'
  labels:
    helm.sh/chart: kubedb-kubestash-catalog-v2024.6.4
    app.kubernetes.io/name: kubedb-kubestash-catalog
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  backupTasks:
  - driver: Restic
    executor: Job
    function: zookeeper-backup
    name: logical-backup
    parameters:
    - name: args
      required: false
      usage: Arguments to be passed to the dump command.
    - default: /kubestash-interim/data
      name: interimDataDir
      required: false
      usage: Directory where data will be stored temporarily before uploading to the backend.
    - default: "true"
      name: enableCache
      required: false
      usage: Enable or disable caching. Disabling caching may impact backup performance.
    - default: /kubestash-tmp
      name: scratchDir
      required: false
      usage: Directory for holding temporary files and restic cache.
    singleton: true
    volumeMounts:
    - mountPath: /kubestash-interim
      name: kubestash-interim-volume
    - mountPath: /kubestash-tmp
      name: kubestash-tmp-volume
    volumeTemplate:
    - name: kubestash-interim-volume
      source:
        emptyDir: {}
      usage: Holds backed up data temporarily before uploading to the backend.
    - name: kubestash-tmp-volume
      source:
        emptyDir: {}
      usage: Holds temporary files and restic cache.
  restoreTasks:
  - driver: Restic
    executor: Job
    function: zookeeper-restore
    name: logical-backup-restore
    parameters:
    - name: args
      required: false
      usage: Arguments to be passed to the dump command.
    - default: /kubestash-interim/data
      name: interimDataDir
      required: false
      usage: Specifies the directory where data will be stored temporarily before dumping to the database.
    - default: "true"
      name: enableCache
      required: false
      usage: Enable or disable caching. Disabling caching may impact backup performance.
    - default: /kubestash-tmp
      name: scratchDir
      required: false
      usage: Directory for holding temporary files and restic cache.
    singleton: true
    volumeMounts:
    - mountPath: /kubestash-interim
      name: kubestash-interim-volume
    - mountPath: /kubestash-tmp
      name: kubestash-tmp-volume
    volumeTemplate:
    - name: kubestash-interim-volume
      source:
        emptyDir: {}
      usage: Holds backed up data temporarily before dumping to the database.
    - name: kubestash-tmp-volume
      source:
        emptyDir: {}
      usage: Holds temporary files and restic cache.
---
# Source: kubedb-kubestash-catalog/templates/elasticsearch/elasticsearch-backup.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Function
metadata:
  name: 'elasticsearch-backup'
  labels:
    helm.sh/chart: kubedb-kubestash-catalog-v2024.6.4
    app.kubernetes.io/name: kubedb-kubestash-catalog
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  args:
  - backup
  - --namespace=${namespace:=default}
  - --backupsession=${backupSession:=}
  - --enable-cache=${enableCache:=}
  - --scratch-dir=${scratchDir:=}
  - --wait-timeout=${waitTimeout:=300}
  - --es-args=${args:=}
  - --interim-data-dir=${interimDataDir:=}
  image: 'ghcr.io/kubedb/elasticsearch-restic-plugin:v0.9.0'
---
# Source: kubedb-kubestash-catalog/templates/elasticsearch/elasticsearch-dashboard-backup.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Function
metadata:
  name: 'elasticsearch-dashboard-backup'
  labels:
    helm.sh/chart: kubedb-kubestash-catalog-v2024.6.4
    app.kubernetes.io/name: kubedb-kubestash-catalog
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  args:
  - backup
  - --namespace=${namespace:=default}
  - --backupsession=${backupSession:=}
  - --enable-cache=${enableCache:=}
  - --scratch-dir=${scratchDir:=}
  - --interim-data-dir=${interimDataDir:=}
  image: 'ghcr.io/kubedb/dashboard-restic-plugin:v0.4.0'
---
# Source: kubedb-kubestash-catalog/templates/elasticsearch/elasticsearch-dashboard-restore.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Function
metadata:
  name: 'elasticsearch-dashboard-restore'
  labels:
    helm.sh/chart: kubedb-kubestash-catalog-v2024.6.4
    app.kubernetes.io/name: kubedb-kubestash-catalog
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  args:
  - restore
  - --namespace=${namespace:=default}
  - --restoresession=${restoreSession:=}
  - --snapshot=${snapshot:=}
  - --enable-cache=${enableCache:=}
  - --scratch-dir=${scratchDir:=}
  - --interim-data-dir=${interimDataDir:=}
  image: 'ghcr.io/kubedb/dashboard-restic-plugin:v0.4.0'
---
# Source: kubedb-kubestash-catalog/templates/elasticsearch/elasticsearch-restore.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Function
metadata:
  name: 'elasticsearch-restore'
  labels:
    helm.sh/chart: kubedb-kubestash-catalog-v2024.6.4
    app.kubernetes.io/name: kubedb-kubestash-catalog
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  args:
  - restore
  - --namespace=${namespace:=default}
  - --restoresession=${restoreSession:=}
  - --snapshot=${snapshot:=}
  - --enable-cache=${enableCache:=}
  - --scratch-dir=${scratchDir:=}
  - --wait-timeout=${waitTimeout:=300}
  - --es-args=${args:=}
  - --interim-data-dir=${interimDataDir:=}
  image: 'ghcr.io/kubedb/elasticsearch-restic-plugin:v0.9.0'
---
# Source: kubedb-kubestash-catalog/templates/kubedbmanifest/kubedbmanifest-backup.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Function
metadata:
  name: 'kubedbmanifest-backup'
  labels:
    helm.sh/chart: kubedb-kubestash-catalog-v2024.6.4
    app.kubernetes.io/name: kubedb-kubestash-catalog
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  args:
  - backup
  - --namespace=${namespace:=default}
  - --backupsession=${backupSession:=}
  - --enable-cache=${enableCache:=}
  - --scratch-dir=${scratchDir:=}
  image: 'ghcr.io/kubedb/kubedb-manifest-plugin:v0.9.0'
---
# Source: kubedb-kubestash-catalog/templates/kubedbmanifest/kubedbmanifest-restore.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Function
metadata:
  name: 'kubedbmanifest-restore'
  labels:
    helm.sh/chart: kubedb-kubestash-catalog-v2024.6.4
    app.kubernetes.io/name: kubedb-kubestash-catalog
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  args:
  - restore
  - --namespace=${namespace:=default}
  - --restoresession=${restoreSession:=}
  - --snapshot=${snapshot:=}
  - --enable-cache=${enableCache:=}
  - --scratch-dir=${scratchDir:=}
  image: 'ghcr.io/kubedb/kubedb-manifest-plugin:v0.9.0'
---
# Source: kubedb-kubestash-catalog/templates/mariadb/mariadb-backup.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Function
metadata:
  name: 'mariadb-backup'
  labels:
    helm.sh/chart: kubedb-kubestash-catalog-v2024.6.4
    app.kubernetes.io/name: kubedb-kubestash-catalog
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  args:
  - backup
  - --namespace=${namespace:=default}
  - --backupsession=${backupSession:=}
  - --enable-cache=${enableCache:=}
  - --scratch-dir=${scratchDir:=}
  - --wait-timeout=${waitTimeout:=300}
  - --mariadb-args=${args:=}
  image: 'ghcr.io/kubedb/mariadb-restic-plugin:v0.4.0_${DB_VERSION}'
---
# Source: kubedb-kubestash-catalog/templates/mariadb/mariadb-csi-snapshotter.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Function
metadata:
  name: 'mariadb-csi-snapshotter'
  labels:
    helm.sh/chart: kubedb-kubestash-catalog-v2024.6.4
    app.kubernetes.io/name: kubedb-kubestash-catalog
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  args:
  - backup
  - --namespace=${namespace:=default}
  - --volume-snapshot-class-name=${volumeSnapshotClassName:=}
  - --backupsession=${backupSession:=}
  image: 'ghcr.io/kubedb/mariadb-csi-snapshotter-plugin:v0.6.0'
---
# Source: kubedb-kubestash-catalog/templates/mariadb/mariadb-restore.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Function
metadata:
  name: 'mariadb-restore'
  labels:
    helm.sh/chart: kubedb-kubestash-catalog-v2024.6.4
    app.kubernetes.io/name: kubedb-kubestash-catalog
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  args:
  - restore
  - --namespace=${namespace:=default}
  - --restoresession=${restoreSession:=}
  - --snapshot=${snapshot:=}
  - --enable-cache=${enableCache:=}
  - --scratch-dir=${scratchDir:=}
  - --wait-timeout=${waitTimeout:=300}
  - --mariadb-args=${args:=}
  image: 'ghcr.io/kubedb/mariadb-restic-plugin:v0.4.0_${DB_VERSION}'
---
# Source: kubedb-kubestash-catalog/templates/mongodb/mongodb-backup.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Function
metadata:
  name: 'mongodb-backup'
  labels:
    helm.sh/chart: kubedb-kubestash-catalog-v2024.6.4
    app.kubernetes.io/name: kubedb-kubestash-catalog
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  args:
  - backup
  - --namespace=${namespace:=default}
  - --backupsession=${backupSession:=}
  - --enable-cache=${enableCache:=}
  - --scratch-dir=${scratchDir:=}
  - --wait-timeout=${waitTimeout:=300}
  - --mongo-args=${args:=}
  - --max-concurrency=${maxConcurrency:=3}
  - --authentication-database=${authenticationDatabase:=admin}
  - --db-version=${dbVersion:=}
  availableVersions:
  - 4.2.3
  - 4.4.6
  - 5.0.3
  - 5.0.15
  - 6.0.5
  image: 'ghcr.io/kubedb/mongodb-restic-plugin:v0.9.0_${DB_VERSION}'
---
# Source: kubedb-kubestash-catalog/templates/mongodb/mongodb-csi-snapshotter.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Function
metadata:
  name: 'mongodb-csi-snapshotter'
  labels:
    helm.sh/chart: kubedb-kubestash-catalog-v2024.6.4
    app.kubernetes.io/name: kubedb-kubestash-catalog
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  args:
  - backup
  - --namespace=${namespace:=default}
  - --volume-snapshot-class-name=${volumeSnapshotClassName:=}
  - --backupsession=${backupSession:=}
  image: 'ghcr.io/kubedb/mongodb-csi-snapshotter-plugin:v0.7.0'
---
# Source: kubedb-kubestash-catalog/templates/mongodb/mongodb-restore.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Function
metadata:
  name: 'mongodb-restore'
  labels:
    helm.sh/chart: kubedb-kubestash-catalog-v2024.6.4
    app.kubernetes.io/name: kubedb-kubestash-catalog
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  args:
  - restore
  - --namespace=${namespace:=default}
  - --restoresession=${restoreSession:=}
  - --snapshot=${snapshot:=}
  - --enable-cache=${enableCache:=}
  - --scratch-dir=${scratchDir:=}
  - --wait-timeout=${waitTimeout:=300}
  - --mongo-args=${args:=}
  - --max-concurrency=${maxConcurrency:=3}
  - --authentication-database=${authenticationDatabase:=admin}
  - --db-version=${dbVersion:=}
  availableVersions:
  - 4.2.3
  - 4.4.6
  - 5.0.3
  - 5.0.15
  - 6.0.5
  image: 'ghcr.io/kubedb/mongodb-restic-plugin:v0.9.0_${DB_VERSION}'
---
# Source: kubedb-kubestash-catalog/templates/mysql/mysql-backup.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Function
metadata:
  name: 'mysql-backup'
  labels:
    helm.sh/chart: kubedb-kubestash-catalog-v2024.6.4
    app.kubernetes.io/name: kubedb-kubestash-catalog
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  args:
  - backup
  - --namespace=${namespace:=default}
  - --backupsession=${backupSession:=}
  - --enable-cache=${enableCache:=}
  - --scratch-dir=${scratchDir:=}
  - --wait-timeout=${waitTimeout:=300}
  - --mysql-args=${args:=}
  - --db-version=${dbVersion:=}
  - --databases=${databases:=}
  availableVersions:
  - 5.7.25
  - 8.0.3
  - 8.0.21
  image: 'ghcr.io/kubedb/mysql-restic-plugin:v0.9.0_${DB_VERSION}'
---
# Source: kubedb-kubestash-catalog/templates/mysql/mysql-csi-snapshotter.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Function
metadata:
  name: 'mysql-csi-snapshotter'
  labels:
    helm.sh/chart: kubedb-kubestash-catalog-v2024.6.4
    app.kubernetes.io/name: kubedb-kubestash-catalog
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  args:
  - backup
  - --namespace=${namespace:=default}
  - --volume-snapshot-class-name=${volumeSnapshotClassName:=}
  - --backupsession=${backupSession:=}
  image: 'ghcr.io/kubedb/mysql-csi-snapshotter-plugin:v0.7.0'
---
# Source: kubedb-kubestash-catalog/templates/mysql/mysql-restore.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Function
metadata:
  name: 'mysql-restore'
  labels:
    helm.sh/chart: kubedb-kubestash-catalog-v2024.6.4
    app.kubernetes.io/name: kubedb-kubestash-catalog
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  args:
  - restore
  - --namespace=${namespace:=default}
  - --restoresession=${restoreSession:=}
  - --snapshot=${snapshot:=}
  - --enable-cache=${enableCache:=}
  - --scratch-dir=${scratchDir:=}
  - --wait-timeout=${waitTimeout:=300}
  - --mysql-args=${args:=}
  - --db-version=${dbVersion:=}
  availableVersions:
  - 5.7.25
  - 8.0.3
  - 8.0.21
  image: 'ghcr.io/kubedb/mysql-restic-plugin:v0.9.0_${DB_VERSION}'
---
# Source: kubedb-kubestash-catalog/templates/opensearch/opensearch-backup.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Function
metadata:
  name: 'opensearch-backup'
  labels:
    helm.sh/chart: kubedb-kubestash-catalog-v2024.6.4
    app.kubernetes.io/name: kubedb-kubestash-catalog
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  args:
  - backup
  - --namespace=${namespace:=default}
  - --backupsession=${backupSession:=}
  - --enable-cache=${enableCache:=}
  - --scratch-dir=${scratchDir:=}
  - --wait-timeout=${waitTimeout:=300}
  - --es-args=${args:=}
  - --interim-data-dir=${interimDataDir:=}
  image: 'ghcr.io/kubedb/elasticsearch-restic-plugin:v0.9.0'
---
# Source: kubedb-kubestash-catalog/templates/opensearch/opensearch-dashboard-backup.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Function
metadata:
  name: 'opensearch-dashboard-backup'
  labels:
    helm.sh/chart: kubedb-kubestash-catalog-v2024.6.4
    app.kubernetes.io/name: kubedb-kubestash-catalog
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  args:
  - backup
  - --namespace=${namespace:=default}
  - --backupsession=${backupSession:=}
  - --enable-cache=${enableCache:=}
  - --scratch-dir=${scratchDir:=}
  - --interim-data-dir=${interimDataDir:=}
  image: 'ghcr.io/kubedb/dashboard-restic-plugin:v0.1.0'
---
# Source: kubedb-kubestash-catalog/templates/opensearch/opensearch-dashboard-restore.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Function
metadata:
  name: 'opensearch-dashboard-restore'
  labels:
    helm.sh/chart: kubedb-kubestash-catalog-v2024.6.4
    app.kubernetes.io/name: kubedb-kubestash-catalog
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  args:
  - restore
  - --namespace=${namespace:=default}
  - --restoresession=${restoreSession:=}
  - --snapshot=${snapshot:=}
  - --enable-cache=${enableCache:=}
  - --scratch-dir=${scratchDir:=}
  - --interim-data-dir=${interimDataDir:=}
  image: 'ghcr.io/kubedb/dashboard-restic-plugin:v0.1.0'
---
# Source: kubedb-kubestash-catalog/templates/opensearch/opensearch-restore.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Function
metadata:
  name: 'opensearch-restore'
  labels:
    helm.sh/chart: kubedb-kubestash-catalog-v2024.6.4
    app.kubernetes.io/name: kubedb-kubestash-catalog
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  args:
  - restore
  - --namespace=${namespace:=default}
  - --restoresession=${restoreSession:=}
  - --snapshot=${snapshot:=}
  - --enable-cache=${enableCache:=}
  - --scratch-dir=${scratchDir:=}
  - --wait-timeout=${waitTimeout:=300}
  - --es-args=${args:=}
  - --interim-data-dir=${interimDataDir:=}
  image: 'ghcr.io/kubedb/elasticsearch-restic-plugin:v0.9.0'
---
# Source: kubedb-kubestash-catalog/templates/postgres/postgres-backup.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Function
metadata:
  name: 'postgres-backup'
  labels:
    helm.sh/chart: kubedb-kubestash-catalog-v2024.6.4
    app.kubernetes.io/name: kubedb-kubestash-catalog
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  args:
  - backup
  - --namespace=${namespace:=default}
  - --backupsession=${backupSession:=}
  - --enable-cache=${enableCache:=}
  - --scratch-dir=${scratchDir:=}
  - --wait-timeout=${waitTimeout:=300}
  - --pg-args=${args:=}
  - --backup-cmd=${backupCmd:=}
  - --user=${user:=}
  image: 'ghcr.io/kubedb/postgres-restic-plugin:v0.9.0'
---
# Source: kubedb-kubestash-catalog/templates/postgres/postgres-csi-snapshotter.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Function
metadata:
  name: 'postgres-csi-snapshotter'
  labels:
    helm.sh/chart: kubedb-kubestash-catalog-v2024.6.4
    app.kubernetes.io/name: kubedb-kubestash-catalog
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  args:
  - backup
  - --namespace=${namespace:=default}
  - --volume-snapshot-class-name=${volumeSnapshotClassName:=}
  - --backupsession=${backupSession:=}
  image: 'ghcr.io/kubedb/postgres-csi-snapshotter-plugin:v0.7.0'
---
# Source: kubedb-kubestash-catalog/templates/postgres/postgres-restore.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Function
metadata:
  name: 'postgres-restore'
  labels:
    helm.sh/chart: kubedb-kubestash-catalog-v2024.6.4
    app.kubernetes.io/name: kubedb-kubestash-catalog
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  args:
  - restore
  - --namespace=${namespace:=default}
  - --restoresession=${restoreSession:=}
  - --snapshot=${snapshot:=}
  - --enable-cache=${enableCache:=}
  - --scratch-dir=${scratchDir:=}
  - --wait-timeout=${waitTimeout:=300}
  - --pg-args=${args:=}
  - --user=${user:=}
  image: 'ghcr.io/kubedb/postgres-restic-plugin:v0.9.0'
---
# Source: kubedb-kubestash-catalog/templates/redis/redis-backup.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Function
metadata:
  name: 'redis-backup'
  labels:
    helm.sh/chart: kubedb-kubestash-catalog-v2024.6.4
    app.kubernetes.io/name: kubedb-kubestash-catalog
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  args:
  - backup
  - --namespace=${namespace:=default}
  - --backupsession=${backupSession:=}
  - --enable-cache=${enableCache:=}
  - --scratch-dir=${scratchDir:=}
  - --wait-timeout=${waitTimeout:=300}
  - --redis-args=${args:=}
  image: 'ghcr.io/kubedb/redis-restic-plugin:v0.9.0'
---
# Source: kubedb-kubestash-catalog/templates/redis/redis-restore.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Function
metadata:
  name: 'redis-restore'
  labels:
    helm.sh/chart: kubedb-kubestash-catalog-v2024.6.4
    app.kubernetes.io/name: kubedb-kubestash-catalog
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  args:
  - restore
  - --namespace=${namespace:=default}
  - --restoresession=${restoreSession:=}
  - --snapshot=${snapshot:=}
  - --enable-cache=${enableCache:=}
  - --scratch-dir=${scratchDir:=}
  - --wait-timeout=${waitTimeout:=300}
  - --redis-args=${args:=}
  image: 'ghcr.io/kubedb/redis-restic-plugin:v0.9.0'
---
# Source: kubedb-kubestash-catalog/templates/singlestore/singlestore-backup.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Function
metadata:
  name: 'singlestore-backup'
  labels:
    helm.sh/chart: kubedb-kubestash-catalog-v2024.6.4
    app.kubernetes.io/name: kubedb-kubestash-catalog
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  args:
  - backup
  - --namespace=${namespace:=default}
  - --backupsession=${backupSession:=}
  - --enable-cache=${enableCache:=}
  - --scratch-dir=${scratchDir:=}
  - --wait-timeout=${waitTimeout:=300}
  - --singlestore-args=${args:=}
  - --db-version=${dbVersion:=}
  availableVersions:
  - alma-8.1.32-e3d3cde6da
  - alma-8.5.7-bf633c1a54
  image: 'ghcr.io/kubedb/singlestore-restic-plugin:v0.4.0_${DB_VERSION}'
---
# Source: kubedb-kubestash-catalog/templates/singlestore/singlestore-restore.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Function
metadata:
  name: 'singlestore-restore'
  labels:
    helm.sh/chart: kubedb-kubestash-catalog-v2024.6.4
    app.kubernetes.io/name: kubedb-kubestash-catalog
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  args:
  - restore
  - --namespace=${namespace:=default}
  - --restoresession=${restoreSession:=}
  - --snapshot=${snapshot:=}
  - --enable-cache=${enableCache:=}
  - --scratch-dir=${scratchDir:=}
  - --wait-timeout=${waitTimeout:=300}
  - --singlestore-args=${args:=}
  - --db-version=${dbVersion:=}
  availableVersions:
  - alma-8.1.32-e3d3cde6da
  - alma-8.5.7-bf633c1a54
  image: 'ghcr.io/kubedb/singlestore-restic-plugin:v0.4.0_${DB_VERSION}'
---
# Source: kubedb-kubestash-catalog/templates/zookeeper/zookeeper-backup.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Function
metadata:
  name: 'zookeeper-backup'
  labels:
    helm.sh/chart: kubedb-kubestash-catalog-v2024.6.4
    app.kubernetes.io/name: kubedb-kubestash-catalog
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  args:
  - backup
  - --namespace=${namespace:=default}
  - --backupsession=${backupSession:=}
  - --enable-cache=${enableCache:=}
  - --scratch-dir=${scratchDir:=}
  - --wait-timeout=${waitTimeout:=300}
  - --zookeeper-args=${args:=}
  - --interim-data-dir=${interimDataDir:=}
  image: 'ghcr.io/kubedb/zookeeper-restic-plugin:v0.2.0'
---
# Source: kubedb-kubestash-catalog/templates/zookeeper/zookeeper-restore.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Function
metadata:
  name: 'zookeeper-restore'
  labels:
    helm.sh/chart: kubedb-kubestash-catalog-v2024.6.4
    app.kubernetes.io/name: kubedb-kubestash-catalog
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  args:
  - restore
  - --namespace=${namespace:=default}
  - --restoresession=${restoreSession:=}
  - --snapshot=${snapshot:=}
  - --enable-cache=${enableCache:=}
  - --scratch-dir=${scratchDir:=}
  - --wait-timeout=${waitTimeout:=300}
  - --zookeeper-args=${args:=}
  - --interim-data-dir=${interimDataDir:=}
  image: 'ghcr.io/kubedb/zookeeper-restic-plugin:v0.2.0'
