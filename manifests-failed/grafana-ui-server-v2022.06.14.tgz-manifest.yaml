---
# Source: grafana-ui-server/templates/serviceaccount.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: my-release-grafana-ui-server
  namespace: grafana-ui-server-v2022.06.14.tgz
  labels:
    helm.sh/chart: grafana-ui-server-v2022.06.14
    app.kubernetes.io/name: grafana-ui-server
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v0.0.1"
    app.kubernetes.io/managed-by: Helm
---
# Source: grafana-ui-server/templates/apiregistration.yaml
apiVersion: v1
kind: Secret
metadata:
  name: my-release-grafana-ui-server-apiserver-cert
  namespace: grafana-ui-server-v2022.06.14.tgz
  labels:
    helm.sh/chart: grafana-ui-server-v2022.06.14
    app.kubernetes.io/name: grafana-ui-server
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v0.0.1"
    app.kubernetes.io/managed-by: Helm
type: kubernetes.io/tls
data:
  tls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURzakNDQXBxZ0F3SUJBZ0lRUUtSMzh2TExyNFVVTWpGdXRCK2ZNREFOQmdrcWhraUc5dzBCQVFzRkFEQU4KTVFzd0NRWURWUVFERXdKallUQWVGdzB5TkRBMk1qQXhORFUyTlRGYUZ3MHpOREEyTVRneE5EVTJOVEZhTUNjeApKVEFqQmdOVkJBTVRIRzE1TFhKbGJHVmhjMlV0WjNKaFptRnVZUzExYVMxelpYSjJaWEl3Z2dFaU1BMEdDU3FHClNJYjNEUUVCQVFVQUE0SUJEd0F3Z2dFS0FvSUJBUURFN1JsQXFka203WGJlcWwzMnFnUWNqVVQxT0xlWXpwb1oKYmZkZWE3MVU0bTlkWFo0ZG91M2VLTlNNMmZWNGU1QkhPUXV2R045cTY1cUFvaTdjR3daUEloaWM4Y0pES3hnZgpxTGg0M1BPd2pRZG5JVmt0MlgyTzJjbDBEbnEvdEtMU0g4ZTRrTW9XbEFHeUl0alhLdkRGK2duVkxxUklBYjVzCm44dVpLVUJaV2hUYnFoQ0YrWDhjeEtUSXVCWnBxYUZBc0VxdmowS0I5U1A0UWtnQUp0aHRybjhOV0RFbEsvWCsKKzk4Z2h0bW1QQStQWU9zYlRGTlE4SU1xdGp2UzlnTmphR2RoQXZiZmFCQ1ZoYlpyRnBFWHl3bFkrR3NTVWh6QQpkMmFMM2E4Wmdqc1R6TkRlN1dmbjBpNS9lU2NWdUo3dWQyY1dZck9HblBZUTRpdzQ1RFQvQWdNQkFBR2pnZk13CmdmQXdEZ1lEVlIwUEFRSC9CQVFEQWdXZ01CMEdBMVVkSlFRV01CUUdDQ3NHQVFVRkJ3TUJCZ2dyQmdFRkJRY0QKQWpBTUJnTlZIUk1CQWY4RUFqQUFNQjhHQTFVZEl3UVlNQmFBRkxUazV6dXlXNEIzWjlPSXlJMExiVUtZeDRlbgpNSUdQQmdOVkhSRUVnWWN3Z1lTQ1BtMTVMWEpsYkdWaGMyVXRaM0poWm1GdVlTMTFhUzF6WlhKMlpYSXVaM0poClptRnVZUzExYVMxelpYSjJaWEl0ZGpJd01qSXVNRFl1TVRRdWRHZDZna0p0ZVMxeVpXeGxZWE5sTFdkeVlXWmgKYm1FdGRXa3RjMlZ5ZG1WeUxtZHlZV1poYm1FdGRXa3RjMlZ5ZG1WeUxYWXlNREl5TGpBMkxqRTBMblJuZWk1egpkbU13RFFZSktvWklodmNOQVFFTEJRQURnZ0VCQUYvMFM5TTFDQzVrN2EvV1hwRFo1SXJySGVOV2thc3VHL3RxCmtCd0JUbys3NWMrSzhiV1FhMjNuZUt4TFdUaGswSnlwVkwwWUkxVWtqTDNEVFlMSGx4dlR1aGxSK08zbndkWkkKSzJMWlBjOVk2bEdDRitBQzVCWE0zMHc0bUsyK0JQYnp2QWR2N1M4aVdjWitBRS8zOTViUnRmckdBTDlxMVZVcApMa0h5a3o5ZWZHNjEvZVRSQkU4OWlKMTl1TldjbS9qQVpKYWpoSXhjMW90bGUyQ2tsMWFzRU1aQWRoWXN3MUtRCkFXRnZtZkozbXI3aURBSG1VOEt3ZFNCU0I3ZlByN05LUXhTeE1nci9lVm11aFgwRGRJaDB2bGljNFBXVHIrTysKemhXa3VlOERRSmpjV1hwaFk2VHVRL1o1c1hNNU9VejlYRzN1YW5hZHVKdGFRMTh5VWRJPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
  tls.key: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFb3dJQkFBS0NBUUVBeE8wWlFLblpKdTEyM3FwZDlxb0VISTFFOVRpM21NNmFHVzMzWG11OVZPSnZYVjJlCkhhTHQzaWpVak5uMWVIdVFSemtMcnhqZmF1dWFnS0l1M0JzR1R5SVluUEhDUXlzWUg2aTRlTnp6c0kwSFp5RloKTGRsOWp0bkpkQTU2djdTaTBoL0h1SkRLRnBRQnNpTFkxeXJ3eGZvSjFTNmtTQUcrYkovTG1TbEFXVm9VMjZvUQpoZmwvSE1Ta3lMZ1dhYW1oUUxCS3I0OUNnZlVqK0VKSUFDYlliYTUvRFZneEpTdjEvdnZmSUliWnBqd1BqMkRyCkcweFRVUENES3JZNzB2WURZMmhuWVFMMjMyZ1FsWVcyYXhhUkY4c0pXUGhyRWxJY3dIZG1pOTJ2R1lJN0U4elEKM3UxbjU5SXVmM2tuRmJpZTduZG5GbUt6aHB6MkVPSXNPT1EwL3dJREFRQUJBb0lCQUN1QUtKemxLQ2YyT3RUegpFM0NpbStmbXVQM21lb0FSMjI2VW9SbEZlWHhmekxQMk16QmV4bWJWNUNYOUc4RnlvaXRwaVpBelVWOGdEbkF0CjQyWVJ2aklLMlI4S05KeDd6NGRtME9FNkJjYlJVSHBTbm8ySFJyb2dsK1RBTWhOWkJzS2Q3Sk56d0lCK1QyV1gKVndrbzNpa05rOUI0emlkdDR5L0JtTXNMbHNCbHh0UGl3RjB5Y256cFU1N0hUcUpObHJUcGUvNEM2aU5OdjdyRAprMkZVcm1NN2k1c1FDK1o0bDJPNDZHN1pVd2JrTHFoYnRhbnJmSmxuaEJQOTFHMVhGcWVxZ0xvVVFEUk1jMWE0ClozTXNtazVJR2ZjdnZwR1pndkU0RVFzZkNNb1FDeS8vb3Vjb1ZwVFBaY0JmZmpFNDNXRjc5RWRCQzlkOWlkOUEKZWRWSHpTRUNnWUVBL2Y4NmdKTjZkTy9hNFdYYUh3ck9LNXlwRFFCZ3Y1RmN1ay9PUUpsLzQ2czlOWUZLM2ZVTQo4RldHN3lFaXpWWk0yYzIwbjZHLytuWUhIcEI3T1EraDJWR240R3ZlTldZNEdZMWVFQTVJd2wxNER0V0FNbW53CkFmdlVBVTlPcGQ3b1dQT2FEL1RRUDBXK00wR01lNGNTUlUrcEp0N3ZSdzR6MFJQMzd4aUg1N0VDZ1lFQXhucW4KcnpaTURBSVdjSGU4Q3VaVEVaU0l6citxQWlxdnpwbzdCQUhvNXR5dmhIVHlQQ000cnRUdlArVU1EdjhNTTJVbAozZGhxZ29sUnU2N3didWtiMDE5ekNFaEtYT3E0UVljN0pzU1JjanFiMUQzeHZxZTF1QXdtS0lKUlVyeUJTQkdjCjJzbm9rc3p4UzNCNS9BVmJOQktiYnZlazRjbitqN0UwKy9mUnc2OENnWUVBL1lnclZEWmhzS0hPd05oUzdsTngKMGxTUTVkcHZ1Q2lYLzUwemlvWHVBMHBsVWFnYUhBM0QrWTNWbjVKYTA4NEY3ZzZIOGlPWnBwN3pvazJqd2lSWgpjTHd5THpCYzRMNkUxdlNtWks1dGNCMnVmbGdjbTdYbERZWGFhK2hHNEFqdHNnU096c2lXcWVHcTVpelMxbWJRCkZRRmNIZUcveEJSb0lwV2xFVE5TVFRFQ2dZQmg4M0JEeVFFWXdBTUErQ1pHSHNzS0Z3cTVOZCtaK0NVUlNnNHIKK1NGT3BjUzlFdFhsRmVESWIyK3ZVY04wdHl2M1JVaTl4aXN5UnNDZVprUmtDQWppZE8yWlBjdnROUzAvc1pSZwptb3ZKR3VHQ2lodCs0dGVNZi9wbzdYOWkzSUxVNVZSS3FYQnMybFdPekhCM0R0R216alFGUEpRVGxoTmFLTE1rClVuWWtJd0tCZ0NzOFJubFd1RjAvSFVITEx1eHhlV0pvZGpHdUZIcXdXa1hMbStQMjZxTkJqZXEwTnlvUnRHOXoKVGx5ZmlrTHYwZmJIU0hhOENWTElRZ0xhSnNMYTdzeVFMMWZidk5HdWw2ZEVQT0M2WU82VjJRaWdDNTZqTTEzVQprOWxxWGFmY2JQekxCdVUzd0wxbVY0YnU1dWtnM2tUcllFWDhzKzk0Z2x3VzljNXU3Skk3Ci0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tCg==
---
# Source: grafana-ui-server/templates/cluster-role.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: my-release-grafana-ui-server
  labels:
    helm.sh/chart: grafana-ui-server-v2022.06.14
    app.kubernetes.io/name: grafana-ui-server
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v0.0.1"
    app.kubernetes.io/managed-by: Helm
rules:
- apiGroups:
  - ui.openviz.dev
  resources:
  - "*"
  verbs: ["*"]
- apiGroups:
  - openviz.dev
  resources:
  - "*"
  verbs: ["get", "list", "watch"]
- apiGroups:
  - appcatalog.appscode.com
  resources:
  - "*"
  verbs: ["get", "list", "watch"]
- apiGroups:
  - ""
  resources:
  - configmaps
  - secrets
  verbs: ["get", "list", "watch"]
- apiGroups:
  - rbac.authorization.k8s.io
  resources:
  - clusterroles
  - clusterrolebindings
  - roles
  - rolebindings
  verbs: ["get", "list", "watch"]
---
# Source: grafana-ui-server/templates/apiregistration.yaml
# to delegate authentication and authorization
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: my-release-grafana-ui-server-apiserver-auth-delegator
  labels:
    helm.sh/chart: grafana-ui-server-v2022.06.14
    app.kubernetes.io/name: grafana-ui-server
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v0.0.1"
    app.kubernetes.io/managed-by: Helm
roleRef:
  kind: ClusterRole
  apiGroup: rbac.authorization.k8s.io
  name: system:auth-delegator
subjects:
- kind: ServiceAccount
  name: my-release-grafana-ui-server
  namespace: grafana-ui-server-v2022.06.14.tgz
---
# Source: grafana-ui-server/templates/cluster-role-binding.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: my-release-grafana-ui-server
  labels:
    helm.sh/chart: grafana-ui-server-v2022.06.14
    app.kubernetes.io/name: grafana-ui-server
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v0.0.1"
    app.kubernetes.io/managed-by: Helm
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: my-release-grafana-ui-server
subjects:
- kind: ServiceAccount
  name: my-release-grafana-ui-server
  namespace: grafana-ui-server-v2022.06.14.tgz
---
# Source: grafana-ui-server/templates/apiregistration.yaml
# to read the config for terminating authentication
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  name: my-release-grafana-ui-server-apiserver-extension-server-authentication-reader
  namespace: kube-system
  labels:
    helm.sh/chart: grafana-ui-server-v2022.06.14
    app.kubernetes.io/name: grafana-ui-server
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v0.0.1"
    app.kubernetes.io/managed-by: Helm
roleRef:
  kind: Role
  apiGroup: rbac.authorization.k8s.io
  name: extension-apiserver-authentication-reader
subjects:
- kind: ServiceAccount
  name: my-release-grafana-ui-server
  namespace: grafana-ui-server-v2022.06.14.tgz
---
# Source: grafana-ui-server/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: my-release-grafana-ui-server
  namespace: grafana-ui-server-v2022.06.14.tgz
  labels:
    helm.sh/chart: grafana-ui-server-v2022.06.14
    app.kubernetes.io/name: grafana-ui-server
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v0.0.1"
    app.kubernetes.io/managed-by: Helm
spec:
  ports:
  # Port used to expose admission webhook apiserver
  - name: api
    port: 443
    targetPort: 8443
  selector:
    app.kubernetes.io/name: grafana-ui-server
    app.kubernetes.io/instance: my-release
---
# Source: grafana-ui-server/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-release-grafana-ui-server
  namespace: grafana-ui-server-v2022.06.14.tgz
  labels:
    helm.sh/chart: grafana-ui-server-v2022.06.14
    app.kubernetes.io/name: grafana-ui-server
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v0.0.1"
    app.kubernetes.io/managed-by: Helm
spec:
  replicas: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: grafana-ui-server
      app.kubernetes.io/instance: my-release
  template:
    metadata:
      labels:
        app.kubernetes.io/name: grafana-ui-server
        app.kubernetes.io/instance: my-release
      annotations:
        checksum/apiregistration.yaml: 255edfd7e67dc7a7d80cd49251b539ff8bf2e0c9033e3568a2754bc693a581c4
    spec:
      
      serviceAccountName: my-release-grafana-ui-server
      containers:
      - name: ui-server
        securityContext:
          {}
        image: ghcr.io/appscode/grafana-tools:v0.0.1
        imagePullPolicy: IfNotPresent
        args:
        - ui-server
        - --v=3
        - --secure-port=8443
        - --audit-log-path=-
        - --tls-cert-file=/var/serving-cert/tls.crt
        - --tls-private-key-file=/var/serving-cert/tls.key
        - --use-kubeapiserver-fqdn-for-aks=true
        ports:
        - containerPort: 8443
        env:
        - name: MY_POD_NAME
          valueFrom:
            fieldRef:
              fieldPath: metadata.name
        - name: MY_POD_NAMESPACE
          valueFrom:
            fieldRef:
              fieldPath: metadata.namespace
        resources:
          {}
        volumeMounts:
        - mountPath: /var/serving-cert
          name: serving-cert
      volumes:
      - name: serving-cert
        secret:
          defaultMode: 420
          secretName: my-release-grafana-ui-server-apiserver-cert
      securityContext:
        fsGroup: 65535
---
# Source: grafana-ui-server/templates/apiregistration.yaml
# register as aggregated apiserver
apiVersion: apiregistration.k8s.io/v1
kind: APIService
metadata:
  name: v1alpha1.ui.openviz.dev
  labels:
    helm.sh/chart: grafana-ui-server-v2022.06.14
    app.kubernetes.io/name: grafana-ui-server
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v0.0.1"
    app.kubernetes.io/managed-by: Helm
spec:
  group: ui.openviz.dev
  version: v1alpha1
  service:
    namespace: grafana-ui-server-v2022.06.14.tgz
    name: my-release-grafana-ui-server
  caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURCVENDQWUyZ0F3SUJBZ0lRUjNXdGdpUWcxWkg5OFN2MUdmU09DVEFOQmdrcWhraUc5dzBCQVFzRkFEQU4KTVFzd0NRWURWUVFERXdKallUQWVGdzB5TkRBMk1qQXhORFUyTlRCYUZ3MHpOREEyTVRneE5EVTJOVEJhTUEweApDekFKQmdOVkJBTVRBbU5oTUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUE0eTZSCmNobkVEMnFNcXBncWpBNC9CakI0K3A4bmJSMGFDdFlKSjBSNTkwSTc5dHhLQTBFcEw5aDBFRXdBY0VBeEFKM3kKQ2J4N0xnN25PdGRoUTBBNU9JME11V0c1RnhLWDgzUWc1QzBraXZ2ZWFxWW9Od1djZ0ZKZW1pR2tEcHZVOEluWgprVFQwN1NuTXJQSndYamtwRmxuSWZQY1NRTWRCYmxob25naDR3aDZXVGNlMlc2V3dsd213clNrdEZQRW5UT3B2CnFUSGdnalN5SUlSZlROYkMrTEc0SVVSZ0dwWVRyMXhqQjNTUkJYNXo2T25WTjN0R1l4ZmMxbEJSNkRmb0tUbVgKRWxyZlRON0ZEZFE3c2tPNFBLOFFzRlUxTnRVYkthTUpDVzZ6Vm9HR0lCZ3Y5YTllV1FScmtvTHBkN0c3QWxhVwprYWVCSUVqZEQ2a0kyUkJPeFFJREFRQUJvMkV3WHpBT0JnTlZIUThCQWY4RUJBTUNBcVF3SFFZRFZSMGxCQll3CkZBWUlLd1lCQlFVSEF3RUdDQ3NHQVFVRkJ3TUNNQThHQTFVZEV3RUIvd1FGTUFNQkFmOHdIUVlEVlIwT0JCWUUKRkxUazV6dXlXNEIzWjlPSXlJMExiVUtZeDRlbk1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQkFRQXcwMnJFWXUzcgo5R092RWRnc3VFY1U4bkNLdm5ZM3dGbU5hZnc1YnRqVENuZHprd0w2K2VWdEgyOFRmKzg5aWlIRnVEMlRBcjV4CldMUzRNTW9PQnVJa3I5TDFQQmxpQlJxOVo1Q1B6WUhhSERQRFJ0bHlURFltRENlZzRjdEdoc0RNTUMyUWVKNlgKcE4xVU1VZmczZVRwWnlOQzBEb2pJMHNGdnp6eU85alF0eVJsUmUvTjlwWThPYWdlU0lDYVZJQlorU0lRRnNnLwpoTjdSVnBRMGRUVHJFVHo3aGFZamNjd0ZDdk1kWjZhM3hHeWVkUGl3eEFMV2lSbGhtVWxoSnlFNkVHRmlxRHZiCk51NW9BYVJ4NUJqL1V3TW51K3gwTElhclJ4UTFmV1RwNFhDeTNRUkh2dWFYTDdwRVplUDYxMGYyRDFaR0NJVG8KbG1zajVMZjhSRlJUCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
  groupPriorityMinimum: 10000
  versionPriority: 15
---
# Source: grafana-ui-server/templates/user-roles.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: kubeops:identity:admin
  labels:
    rbac.authorization.k8s.io/aggregate-to-admin: "true"
    rbac.authorization.k8s.io/aggregate-to-edit: "true"
    rbac.authorization.k8s.io/aggregate-to-view: "true"
  annotations:
    "helm.sh/hook": post-install,post-upgrade
    "helm.sh/hook-delete-policy": before-hook-creation
rules:
- apiGroups:
  - identity.k8s.appscode.com
  resources:
  - whoamis
  verbs: ["create"]
