---
# Source: featureform/charts/etcd/templates/pdb.yaml
apiVersion: policy/v1
kind: PodDisruptionBudget
metadata:
  name: featureform-etcd
  namespace: "default"
  labels:
    app.kubernetes.io/name: etcd
    helm.sh/chart: etcd-8.2.4
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/managed-by: Helm
spec:
  minAvailable: 51%
  selector:
    matchLabels:
      app.kubernetes.io/name: etcd
      app.kubernetes.io/instance: my-release
---
# Source: featureform/charts/coordinator/templates/serviceaccount.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: my-release-coordinator
  labels:
    helm.sh/chart: coordinator-0.1.0
    app.kubernetes.io/name: coordinator
    app.kubernetes.io/instance: featureform
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
---
# Source: featureform/charts/dashboard-metadata/templates/serviceaccount.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: my-release-dashboard-metadata
  labels:
    helm.sh/chart: dashboard-metadata-0.1.0
    app.kubernetes.io/name: dashboard-metadata
    app.kubernetes.io/instance: featureform
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
---
# Source: featureform/charts/ingress-nginx/templates/controller-serviceaccount.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  labels:
    helm.sh/chart: ingress-nginx-4.1.0
    app.kubernetes.io/name: ingress-nginx
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "1.2.0"
    app.kubernetes.io/part-of: ingress-nginx
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/component: controller
  name: my-release-ingress-nginx
  namespace: default
automountServiceAccountToken: true
---
# Source: featureform/charts/meilisearch/templates/serviceaccount.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: featureform-search
  labels:
    helm.sh/chart: meilisearch-0.1.49
    app.kubernetes.io/name: meilisearch
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v1.0.0"
    app.kubernetes.io/component: search-engine
    app.kubernetes.io/part-of: meilisearch
    app.kubernetes.io/managed-by: Helm
---
# Source: featureform/charts/prometheus/templates/clusterrole.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: featureform-prometheus
---
# Source: featureform/templates/serviceaccount.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: my-release-featureform
  labels:
    helm.sh/chart: featureform-6.9.9-rc
    app.kubernetes.io/name: featureform
    app.kubernetes.io/instance: featureform
    app.kubernetes.io/version: "6.9.9-rc"
    app.kubernetes.io/managed-by: Helm
---
# Source: featureform/charts/etcd/templates/secrets.yaml
apiVersion: v1
kind: Secret
metadata:
  name: featureform-etcd
  namespace: "default"
  labels:
    app.kubernetes.io/name: etcd
    helm.sh/chart: etcd-8.2.4
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/managed-by: Helm
type: Opaque
data:
  etcd-root-password: "c2VjcmV0cGFzc3dvcmQ="
---
# Source: featureform/charts/etcd/templates/token-secrets.yaml
apiVersion: v1
kind: Secret
metadata:
  name: featureform-etcd-jwt-token
  namespace: "default"
  labels:
    app.kubernetes.io/name: etcd
    helm.sh/chart: etcd-8.2.4
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/managed-by: Helm
type: Opaque
data:
  jwt-token.pem: "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlKS1FJQkFBS0NBZ0VBem0vdGJmN2FPSWhpamZ1OTZhdll6ZGZMVXYwdWNCM0RvREhWdlFIVUVHdjVtVDFICi9JK0VJWmNGUWFGWVcrOFJDR0NKMUMwNXZmTDYxeXRyNW5yaHg5dm1iY1VORzlXbVY1aXBoMjB3Q0IrZ2xOZ00KbmJOODJPQnN2bkk3MmVXMTRHZVFmNlhER0dHb2s2a0M3c1drYkhhZkE4b3NtQTFmLzNEVXRudld4K0lWMFBsdwpkMzdNZHk2OHlTSWx5QmtBL2RwZzNTeW9QakVaRGphVW03NDRPb0poNVZvK2FuYWRLT05ZbEd2Y0hRK2IyTUtkCm94OUdidzlyVzRERGpidWVOZ0gwVnYyWDZEL2c3cWtaeWVtRDNzS1lnVVd4TTBRUTJjNXRWSVVwNzJKNmtRL2kKWjZNbEhLSmtOckQ2WG5VRVJranZQS1NhQzNYbHljemt2NFFpZHVIZjc4Y0ZVTFh0RFZsbXg5Y3Iwc1g1bzJYbwp3L1BqeWswSUZad2hPNWJLV3lpclhXN3pCWDU1VlFlbUlRejk5MU1neWt1cXgwM1lQL1BBRTFSdmlralVtL0g4CkkrRjA5TUV3UkZkdERYbnQvOFliTGo1YVZwQWRiRlNBU0dRSlNtUzI0YmVPT3BSSG1iUkNZYUoyRXNpTHFoQ0YKdFZoNC9yeGtiTWd4NDEydXVlcTgyemRISDlqOTJBRU5lb1FLZzNHSUFiK2lpWVE3Q0NpU2VkZ3FZcUkxNzlKWgpjOThKeFg5QlBGTDNQem1BVW5lY2pCbWR4ajAxZnhzdnF3MHdhUThLbUprK1Bqdm5DZWwzcTVuMjJyUFNNaDJlCmZMNTZHdVJ0dkVGN0FET0MwV0k3ei9XTU1lTnh3Znc0K3N4WTdsV3ovQWhVbUlkZEJRcHU5QXJpK25rQ0F3RUEKQVFLQ0FnRUFsaTBla0hKaDFkYUJ1OEJ6Tzlaajlmc1NVdUVVTTBPejJJbm9iNE13L25GT05vZzZJaVZWZmdvYgpMTTl2TkJJS1ZnbkV1ckhiMjY4emcreDJwa2ltajNvTmU3VnAvK0hCRE9CbUU3cit3aW9mNjZmd0paazVMWnkxCi95V2pITFRiUnRDUWNndm9qWWdkMXEyUkVKcC9MdGhzZlpsS0w2TXJQdXlhRWRhdFBPUGY4eEpER3VzSFczeUkKb2RsUm11dDFxVGFBV09YdnpxNXhCOEgxQWdlelovMEpzb3VmOUZzdG9WMGlSM2JmdmRScEQ1c2tpbEpxTHNrTQoxSmdycXFQZVNIUExpSzBiSVQyM0tHZWo5eHNGYjd3b3JZSkJrb1hsckUxYmc2ME1BTFduYkhnZHdEOFM5RzIrCmNYcjE2RmxBTHRGSUdObTFwcml4M2NoTWNIWnppckMzdEh3TDNsdDFvVldwZ2RpNHJENmg0bEZjNlJXSEYrTVgKdDFMaTNKVXZ0enMyRzdsTjdhbXFMZ1ZlYzE4c3M1ZmVXR05hN1hXZ3UxSk9WOXNUcHdaT1d5R004RCtzN2FrRApwTnVldVJpeWdWMW55eHpFRnpYV1phaENKZGhyR0xnTnFmaVB2MXdod0Evb0VXTzlYYXozTDhWSnlYV1dldWVQCmQ5czdYTU1HQXJhSEhOVE10OWo2Vkt4NnBzV0lpM0dRN2VWUUVVYUpwT0kzNjhSNXZiRit4ZFVwZjRsa3NDY1YKZEZRNXVuRTZNRmlzczRHNGd3NzlnekRxSjlTc0dsVjFPTFlZaTUzMmxIRHJubDFaaStIUFZaODUzRFNKTCthTwpPbmdyR3FnemZNSHdpZENuTG9IMmppNXpwbzloWXg5YUNDYXdMWUFxQml1VTF2dDE2bkVDZ2dFQkFOTHJ0UUpxCmFOajZ6QUgwMUw3QzBONkc3NFl5MjV5aGN1c0hEZGRBN1lsU3Z0QkNqV1JObm1OM2Rqam9QU0N2bUFoa2VwUUsKV1BFRlQwWEZCSzR3bituUy8yV0NPTGhoYjVoL2lsbGtZaUFWRU85eC9LNm5xem9wc0Fxa0VBTDNiU3dSK25mNQpURmgvN05wUy83VkNvcGJUMEdtQ0RSR2hVTmxFSy9ITFFOalZGMVRMb0FrVWk1bSsycVJmSWg5MG1udXZLa2pnClpOeENwbU1tc3pSaUZMQ1NIK1JOaWRnTklQbnJWRFE3OENBRTAwMHI5MWs1a1oyMXBFU1Yyc25oTnByUW15U3oKaHdmc3ltL0UwRit0ODR3bVpkdnJHc2NST0wyL0w5NFc3N3prUVRsVDB6bytZdldZeVBXb2ZkcWRIK1pvY1prUApBTmtFRXd0NVBvZ1ZnbE1DZ2dFQkFQcU82Ty9jUzFVdWxXUFlKV0syTEgvVFE1YmNPN1RoMU9sdFNoK0F3REFuCk1aVVpsYnNxMytGV3dSc0NPdmRIK25LOVFVdlVxWGZKK29XWHI5dWt1NSt4Q2VVejZUN2UwNkZaTnI0SDN1eHEKNDNTYkw5eU5OaE5HV0FOMGszbjFSVGxNRkdKQ2o4dEZSNEg3RDB6dnV5UVlwaVVWWjdkZUlYNTNROW40YzMxMwoyME9iSzhmdVZzbmErbEdKbEJTRW90MkNsbS9mOFBHZ0MzTlpHY0k3QjZ2RXVIblV1NDNlbGhFeGx3MUh2Y2hyCmZLaXZCSDE4Zzh0MlpJWFFUTXpyMkFBZC9mN3cvSFVHQnRGNjdrQ1VFZ2QxTS91dko0M1dHU2lQZkRsRGNlK0gKNEhzand6L1IzSXBLTktUZkIyQ1AzcXNiSVozYlJockZ3MndlTG8ra1RvTUNnZ0VCQU1QZVY4M1NlMk5rSTZkOQpjVU5sTHdvM1RKL1hBdEpGcTY1T2NxLytmNWdTMjFnVE5iSjcwaWFVZlprRE1pRDBiNzc3Y0VtaUFrNXdtOWt5CnlOSHFIZGJLTnBwUmY5TFp5UVJaREdWUEwwQ1R6NUpNekZaMUpqRnhIU1lFalVuejg5SUZNQS9SMXZBb2ZBK1QKSEJ0N3NmbFc0aWZZdWNJeGlCNzdpOE9TK0xsanliTFpGZGpZMTNzREhZK2ZPTlQxTjdDOFRndzNOZkxGZ2paNQpiZG1yYTRNOWI1aFgyVFpsbXNYN244cVNEci90T3p4akkrUWI3Zm9EQUhVZ3BIanRTQVFreks0Y2ViMEdURWZYCkFacVlzNTdtMlppTWorVmxQTWdZajU4eXRaYzRjTW1INnBRZjgwNFhnQ2VCUEw2VFExaDRqV1dSNVR1aTZQeXkKcnpzNG5qa0NnZ0VBRkhNM2xlUXdEZHJJZkthMm5uRHAvdURhWW1URlJzVXI0SVY0Q0V3MDQzay9kY0RwMUtYeQpNZTBudzdHUjZIN3FkUlQzVUY0aUd0SFViYlRzdUl1Z2VLODFkSXloRysySjdtQmV0SEhtQXZ2U1pzRUh6Z09FCmgxdzFjTXJDQXJFL0hpY1VmdFNaOGVoTXB0STc5SGFZbXFDY1p1aHhWNmtLS00xSkwzQTAxT2ZFY0tjb2twL2sKVzROUTdQakNxazRORVBGSW9BYnlIbmFHbUxxTC9LdGV1K2xKZVVBZ3NycVpHdndtTFFKTy9oMnZ4Z0RLNkFjUwpwcmVhQ3NYdWpzY3RFUTFobnI1Q2pMYWFOZHpIdDJPZWVSZGF6ODhDOW5Pa0NBaDJCaUo0R1NuSTY2UUdtcDNoClZ6UXBTYytlUllaWWtUU2NzTXFsMVNlUkJMRU44ZEZpU3dLQ0FRQVkxeE9KZUVQMFJMcytjTkxicEdBVk91YkcKU0p3OElRSFZwRmE1d05CbkdpK3RRU3RvVC9Dd3hVODFWMzkrVlpEZkZxbit0a3Juc3E3a2Y0WENHYlBCU2ordgpaM0Z3dW55a2ZMY3Nlemd4emFtTDZ1YlU5cUdYS3ZCS3JpUVFKOWtFT2tYejVncmZQSzU1cy95OVdxZmIrMlFrCkNPeEtaZTdxUDhuYTlFL2phYkZKdklZM3k2V1pjTEdDb3lVa3QrVVRuVlVWU1pqMDZYUmNDZlJ3OXgwUWFWbWIKLzh1Qnlqd1FyMjRWc1dlaU1HMUQ2ODQxR3hta3pYZlhLM2hKNVFIN2gydlVuMWZZbEhRc1F0RElqZm11YmZoSApBTDBNUWcxZFMrSzNIR01oalhrNmc2S295WE1RMlRJY3FlOVRLZ2tPWmNCSUlCOG9TUWRoZWExeDRzcXQKLS0tLS1FTkQgUlNBIFBSSVZBVEUgS0VZLS0tLS0K"
---
# Source: featureform/charts/dashboard/templates/configmap.yaml
apiVersion: v1
data:
  REACT_APP_API_URL: featureform-metadata-server
kind: ConfigMap
metadata:
  creationTimestamp: null
  name: featureform-env
---
# Source: featureform/charts/ingress-nginx/templates/controller-configmap.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  labels:
    helm.sh/chart: ingress-nginx-4.1.0
    app.kubernetes.io/name: ingress-nginx
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "1.2.0"
    app.kubernetes.io/part-of: ingress-nginx
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/component: controller
  name: my-release-ingress-nginx-controller
  namespace: default
data:
  allow-snippet-annotations: "true"
---
# Source: featureform/charts/meilisearch/templates/configmap.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: featureform-search-environment
  labels:
    helm.sh/chart: meilisearch-0.1.49
    app.kubernetes.io/name: meilisearch
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v1.0.0"
    app.kubernetes.io/component: search-engine
    app.kubernetes.io/part-of: meilisearch
    app.kubernetes.io/managed-by: Helm
data:
  MEILI_ENV: "development"
  MEILI_NO_ANALYTICS: "true"
---
# Source: featureform/charts/prometheus/templates/config-map.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: featureform-prometheus-server-conf
  labels:
    name: featureform-prometheus-server-conf
data:
  prometheus.rules: |-
  prometheus.yml: |-
    global:
      scrape_interval: 5s
      evaluation_interval: 5s
    rule_files:
      - /etc/prometheus/prometheus.rules
    alerting:
      alertmanagers:
      - scheme: http
        static_configs:
        - targets:
          - "alertmanager.monitoring.svc:9093"
    scrape_configs:
      - job_name: 'kube-state-metrics'
        static_configs:
          - targets: ['kube-state-metrics.kube-system.svc.cluster.local:9090']
      - job_name: 'featureform-service-monitoring'
        scrape_interval: 10s
        metrics_path: /metrics
        static_configs:
          - targets: ["featureform-feature-server:2112"]
---
# Source: featureform/charts/ingress-nginx/templates/clusterrole.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  labels:
    helm.sh/chart: ingress-nginx-4.1.0
    app.kubernetes.io/name: ingress-nginx
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "1.2.0"
    app.kubernetes.io/part-of: ingress-nginx
    app.kubernetes.io/managed-by: Helm
  name: my-release-ingress-nginx
rules:
  - apiGroups:
      - ""
    resources:
      - configmaps
      - endpoints
      - nodes
      - pods
      - secrets
      - namespaces
    verbs:
      - list
      - watch
  - apiGroups:
      - ""
    resources:
      - nodes
    verbs:
      - get
  - apiGroups:
      - ""
    resources:
      - services
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - networking.k8s.io
    resources:
      - ingresses
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - ""
    resources:
      - events
    verbs:
      - create
      - patch
  - apiGroups:
      - networking.k8s.io
    resources:
      - ingresses/status
    verbs:
      - update
  - apiGroups:
      - networking.k8s.io
    resources:
      - ingressclasses
    verbs:
      - get
      - list
      - watch
---
# Source: featureform/charts/ingress-nginx/templates/clusterrolebinding.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  labels:
    helm.sh/chart: ingress-nginx-4.1.0
    app.kubernetes.io/name: ingress-nginx
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "1.2.0"
    app.kubernetes.io/part-of: ingress-nginx
    app.kubernetes.io/managed-by: Helm
  name: my-release-ingress-nginx
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: my-release-ingress-nginx
subjects:
  - kind: ServiceAccount
    name: my-release-ingress-nginx
    namespace: "default"
---
# Source: featureform/charts/coordinator/templates/role.yaml
kind: Role
apiVersion: rbac.authorization.k8s.io/v1
metadata:
  name: my-release-coordinator
rules:
  - apiGroups: ["", "extensions", "apps", "batch"]
    resources: ["*"]
    verbs: ["*"]
---
# Source: featureform/charts/ingress-nginx/templates/controller-role.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
  labels:
    helm.sh/chart: ingress-nginx-4.1.0
    app.kubernetes.io/name: ingress-nginx
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "1.2.0"
    app.kubernetes.io/part-of: ingress-nginx
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/component: controller
  name: my-release-ingress-nginx
  namespace: default
rules:
  - apiGroups:
      - ""
    resources:
      - namespaces
    verbs:
      - get
  - apiGroups:
      - ""
    resources:
      - configmaps
      - pods
      - secrets
      - endpoints
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - ""
    resources:
      - services
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - networking.k8s.io
    resources:
      - ingresses
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - networking.k8s.io
    resources:
      - ingresses/status
    verbs:
      - update
  - apiGroups:
      - networking.k8s.io
    resources:
      - ingressclasses
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - ""
    resources:
      - configmaps
    resourceNames:
      - ingress-controller-leader
    verbs:
      - get
      - update
  - apiGroups:
      - ""
    resources:
      - configmaps
    verbs:
      - create
  - apiGroups:
      - ""
    resources:
      - events
    verbs:
      - create
      - patch
---
# Source: featureform/charts/prometheus/templates/clusterrole.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
  name: featureform-prometheus
rules:
  - apiGroups: [""]
    resources:
      - nodes
      - nodes/proxy
      - services
      - endpoints
      - pods
    verbs: ["get", "list", "watch"]
  - apiGroups:
      - extensions
    resources:
      - ingresses
    verbs: ["get", "list", "watch"]
---
# Source: featureform/charts/coordinator/templates/rolebinding.yaml
kind: RoleBinding
apiVersion: rbac.authorization.k8s.io/v1
metadata:
  name: my-release-coordinator-binding
subjects:
  - kind: ServiceAccount
    name: my-release-coordinator
    apiGroup: ""
  - kind: ServiceAccount
    name: default
    apiGroup: ""
roleRef:
  kind: Role
  name: my-release-coordinator
  apiGroup: ""
---
# Source: featureform/charts/ingress-nginx/templates/controller-rolebinding.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  labels:
    helm.sh/chart: ingress-nginx-4.1.0
    app.kubernetes.io/name: ingress-nginx
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "1.2.0"
    app.kubernetes.io/part-of: ingress-nginx
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/component: controller
  name: my-release-ingress-nginx
  namespace: default
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: Role
  name: my-release-ingress-nginx
subjects:
  - kind: ServiceAccount
    name: my-release-ingress-nginx
    namespace: "default"
---
# Source: featureform/charts/prometheus/templates/clusterrole.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  name: featureform-prometheus
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: Role
  name: featureform-prometheus
subjects:
  - kind: ServiceAccount
    name: default
---
# Source: featureform/charts/api-server/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: featureform-api-server
  labels:
    run: featureform-api-server
spec:
  # bypass kube-proxy
  ports:
    - port: 7878
      protocol: TCP
      targetPort: 7878
  type: ClusterIP
  selector:
    app: featureform-api-server
---
# Source: featureform/charts/coordinator/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: featureform-coordinator
  labels:
    helm.sh/chart: coordinator-0.1.0
    app.kubernetes.io/name: coordinator
    app.kubernetes.io/instance: featureform
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
spec:
  type: ClusterIP
  ports:
    - port: 80
      targetPort: http
      protocol: TCP
      name: http
  selector:
    app.kubernetes.io/name: coordinator
    app.kubernetes.io/instance: featureform
---
# Source: featureform/charts/dashboard-metadata/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: featureform-dashboard-metadata
  labels:
    helm.sh/chart: dashboard-metadata-0.1.0
    app.kubernetes.io/name: dashboard-metadata
    app.kubernetes.io/instance: featureform
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
spec:
  type: ClusterIP
  ports:
    - port: 3001
      targetPort: 3001
      protocol: TCP
      name: http
  selector:
    app.kubernetes.io/name: dashboard-metadata
    app.kubernetes.io/instance: featureform
---
# Source: featureform/charts/dashboard/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: featureform-dashboard
spec:
  type: ClusterIP
  selector:
    app: featureform-dashboard
  ports:
    - port: 80
      targetPort: 80
      protocol: TCP
---
# Source: featureform/charts/etcd/templates/svc-headless.yaml
apiVersion: v1
kind: Service
metadata:
  name: featureform-etcd-headless
  namespace: "default"
  labels:
    app.kubernetes.io/name: etcd
    helm.sh/chart: etcd-8.2.4
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/managed-by: Helm
  annotations:
    service.alpha.kubernetes.io/tolerate-unready-endpoints: "true"
spec:
  type: ClusterIP
  clusterIP: None
  publishNotReadyAddresses: true
  ports:
    - name: client
      port: 2379
      targetPort: client
    - name: peer
      port: 2380
      targetPort: peer
  selector:
    app.kubernetes.io/name: etcd
    app.kubernetes.io/instance: my-release
---
# Source: featureform/charts/etcd/templates/svc.yaml
apiVersion: v1
kind: Service
metadata:
  name: featureform-etcd
  namespace: "default"
  labels:
    app.kubernetes.io/name: etcd
    helm.sh/chart: etcd-8.2.4
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/managed-by: Helm
  annotations:
spec:
  type: ClusterIP
  sessionAffinity: None
  ports:
    - name: "client"
      port: 2379
      targetPort: client
      nodePort: null
    - name: "peer"
      port: 2380
      targetPort: peer
      nodePort: null
  selector:
    app.kubernetes.io/name: etcd
    app.kubernetes.io/instance: my-release
---
# Source: featureform/charts/feature-server/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  creationTimestamp: null
  name: featureform-feature-server
spec:
  ports:
    - name: grpc
      port: 8080
      protocol: TCP
      targetPort: 8080
    - name: metrics
      port: 2112
      protocol: TCP
      targetPort: 2112
  selector:
    run: featureform-feature-server
status:
  loadBalancer: {}
---
# Source: featureform/charts/ingress-nginx/templates/controller-service-webhook.yaml
apiVersion: v1
kind: Service
metadata:
  labels:
    helm.sh/chart: ingress-nginx-4.1.0
    app.kubernetes.io/name: ingress-nginx
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "1.2.0"
    app.kubernetes.io/part-of: ingress-nginx
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/component: controller
  name: my-release-ingress-nginx-controller-admission
  namespace: default
spec:
  type: ClusterIP
  ports:
    - name: https-webhook
      port: 443
      targetPort: webhook
      appProtocol: https
  selector:
    app.kubernetes.io/name: ingress-nginx
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/component: controller
---
# Source: featureform/charts/ingress-nginx/templates/controller-service.yaml
apiVersion: v1
kind: Service
metadata:
  annotations:
  labels:
    helm.sh/chart: ingress-nginx-4.1.0
    app.kubernetes.io/name: ingress-nginx
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "1.2.0"
    app.kubernetes.io/part-of: ingress-nginx
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/component: controller
  name: my-release-ingress-nginx-controller
  namespace: default
spec:
  type: LoadBalancer
  ipFamilyPolicy: SingleStack
  ipFamilies: 
    - IPv4
  ports:
    - name: http
      port: 80
      protocol: TCP
      targetPort: http
      appProtocol: http
    - name: https
      port: 443
      protocol: TCP
      targetPort: https
      appProtocol: https
  selector:
    app.kubernetes.io/name: ingress-nginx
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/component: controller
---
# Source: featureform/charts/meilisearch/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: featureform-search
  labels:
    helm.sh/chart: meilisearch-0.1.49
    app.kubernetes.io/name: meilisearch
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v1.0.0"
    app.kubernetes.io/component: search-engine
    app.kubernetes.io/part-of: meilisearch
    app.kubernetes.io/managed-by: Helm
spec:
  type: ClusterIP
  ports:
    - port: 7700
      targetPort: http
      protocol: TCP
      name: http
  selector:
    app.kubernetes.io/name: meilisearch
    app.kubernetes.io/instance: my-release
---
# Source: featureform/charts/metadata/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  creationTimestamp: null
  name: featureform-metadata-server
spec:
  ports:
    - name: grpc
      port: 8080
      protocol: TCP
      targetPort: 8080
  selector:
    run: featureform-metadata-server
status:
  loadBalancer: {}
---
# Source: featureform/charts/prometheus/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: featureform-prometheus-service
  annotations:
    prometheus.io/scrape: "true"
    prometheus.io/port: "9090"

spec:
  selector:
    app: featureform-prometheus-server
  type: ClusterIP
  ports:
    - port: 9090
      targetPort: 9090
---
# Source: featureform/charts/api-server/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  creationTimestamp: null
  labels:
    run: featureform-api-server
    chart: featureform
  name: featureform-api-server
spec:
  replicas: 1
  selector:
    matchLabels:
      app: featureform-api-server
  strategy: {}
  template:
    metadata:
      creationTimestamp: null
      labels:
        app: featureform-api-server
    spec:
      containers:
        - image: "featureformcom/api-server:6.9.9-rc"
          imagePullPolicy: Always
          name: featureform-api-server
          ports:
            - containerPort: 7878
              protocol: TCP
          resources: {}
          env:
            - name: API_PORT
              value: "7878"
            - name: METADATA_HOST
              value: featureform-metadata-server
            - name: METADATA_PORT
              value: "8080"
            - name: SERVING_HOST
              value: featureform-feature-server
            - name: SERVING_PORT
              value: "8080"
            - name: POD_IP
              valueFrom:
                fieldRef:
                  fieldPath: status.podIP
          livenessProbe:
            httpGet:
              path: /_ah/
              port: 8443
            initialDelaySeconds: 300
            periodSeconds: 3
status: {}
---
# Source: featureform/charts/coordinator/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: featureform-coordinator
  labels:
    chart: featureform
    helm.sh/chart: coordinator-0.1.0
    app.kubernetes.io/name: coordinator
    app.kubernetes.io/instance: featureform
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
spec:
  replicas: 1
  selector:
    matchLabels:
      chart: featureform
      app: featureform-coordinator
      app.kubernetes.io/name: coordinator
      app.kubernetes.io/instance: featureform
  template:
    metadata:
      labels:
        chart: featureform
        app: featureform-coordinator
        app.kubernetes.io/name: coordinator
        app.kubernetes.io/instance: featureform
    spec:
      serviceAccountName: my-release-coordinator
      securityContext:
        {}
      containers:
        - name: coordinator
          securityContext:
            {}
          image: "featureformcom/coordinator:6.9.9-rc"
          imagePullPolicy: Always
          env:
            - name: ETCD_PORT
              value: "2379"
            - name: ETCD_HOST
              value: featureform-etcd
            - name: METADATA_PORT
              value: "8080"
            - name: METADATA_HOST
              value: featureform-metadata-server
            - name: K8S_RUNNER_ENABLE
              value: "false"
            - name: WORKER_IMAGE
              value: "featureformcom/worker:6.9.9-rc"
            - name: PANDAS_RUNNER_IMAGE
              value: "featureformcom/k8s_runner:6.9.9-rc"
            - name: DEBUG
              value: "false"


          ports:
            - name: http
              containerPort: 80
              protocol: TCP
#          livenessProbe:
#            httpGet:
#              path: /
#              port: http
#          readinessProbe:
#            httpGet:
#              path: /
#              port: http
          resources:
            {}
---
# Source: featureform/charts/dashboard-metadata/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: featureform-dashboard-metadata
  labels:
    chart: featureform
    helm.sh/chart: dashboard-metadata-0.1.0
    app.kubernetes.io/name: dashboard-metadata
    app.kubernetes.io/instance: featureform
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
spec:
  replicas: 1
  selector:
    matchLabels:
      app: featureform-dashboard-metadata
      app.kubernetes.io/name: dashboard-metadata
      app.kubernetes.io/instance: featureform
  template:
    metadata:
      labels:
        app: featureform-dashboard-metadata
        app.kubernetes.io/name: dashboard-metadata
        app.kubernetes.io/instance: featureform
    spec:
      serviceAccountName: my-release-dashboard-metadata
      securityContext:
        {}
      containers:
        - name: dashboard-metadata
          securityContext:
            {}
          image: "featureformcom/metadata-dashboard:6.9.9-rc"
          imagePullPolicy: Always
          env:
            - name: METADATA_HOST
              value: "featureform-metadata-server"
            - name: METADATA_PORT
              value: "8080"
            - name: METADATA_HTTP_PORT
              value: "3001"
            - name: MEILISEARCH_PORT
              value: "7700"
            - name: MEILISEARCH_HOST
              value: featureform-search
            - name: MEILISEARCH_APIKEY
              value: ""
            - name: FEATUREFORM_VERSION
              value: 6.9.9-rc
          ports:
            - name: http
              containerPort: 3001
              protocol: TCP
#          livenessProbe:
#            httpGet:
#              path: /
#              port: http
#          readinessProbe:
#            httpGet:
#              path: /
#              port: http
          resources:
            {}
---
# Source: featureform/charts/dashboard/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: featureform-dashboard
spec:
  replicas: 1
  selector:
    matchLabels:
      app: featureform-dashboard
  template:
    metadata:
      labels:
        chart: featureform
        app: featureform-dashboard
    spec:
      terminationGracePeriodSeconds: 30
      containers:
        - name: featureform-dashboard
          image: "featureformcom/dashboard:6.9.9-rc"
          imagePullPolicy: Always
          ports:
            - containerPort: 80
          env:
            - name: REACT_APP_API_URL
              valueFrom:
                configMapKeyRef:
                  key: REACT_APP_API_URL
                  name: featureform-env
---
# Source: featureform/charts/feature-server/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  labels:
    chart: featureform
    run: featureform-feature-server
    app: featureform-feature-server
  name: featureform-feature-server
spec:
  replicas: 1
  selector:
    matchLabels:
      run: featureform-feature-server
      app: featureform-feature-server
  strategy: {}
  template:
    metadata:
      labels:
        chart: featureform
        run: featureform-feature-server
        app: featureform-feature-server
    spec:
      containers:
        - image: "featureformcom/serving:6.9.9-rc"
          imagePullPolicy: Always
          name: featureform-feature-server
          ports:
            - containerPort: 8080
            - containerPort: 2112
          env:
            - name: SERVING_PORT
              value: "8080"
            - name: METRICS_PORT
              value: 0.0.0.0:2112
            - name: METADATA_HOST
              value: featureform-metadata-server
            - name: METADATA_PORT
              value: "8080"
          resources: {}
status: {}
---
# Source: featureform/charts/ingress-nginx/templates/controller-deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  labels:
    helm.sh/chart: ingress-nginx-4.1.0
    app.kubernetes.io/name: ingress-nginx
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "1.2.0"
    app.kubernetes.io/part-of: ingress-nginx
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/component: controller
  name: my-release-ingress-nginx-controller
  namespace: default
spec:
  selector:
    matchLabels:
      app.kubernetes.io/name: ingress-nginx
      app.kubernetes.io/instance: my-release
      app.kubernetes.io/component: controller
  replicas: 1
  revisionHistoryLimit: 10
  minReadySeconds: 0
  template:
    metadata:
      labels:
        app.kubernetes.io/name: ingress-nginx
        app.kubernetes.io/instance: my-release
        app.kubernetes.io/component: controller
    spec:
      dnsPolicy: ClusterFirst
      containers:
        - name: controller
          image: "k8s.gcr.io/ingress-nginx/controller:v1.2.0@sha256:d8196e3bc1e72547c5dec66d6556c0ff92a23f6d0919b206be170bc90d5f9185"
          imagePullPolicy: IfNotPresent
          lifecycle: 
            preStop:
              exec:
                command:
                - /wait-shutdown
          args:
            - /nginx-ingress-controller
            - --publish-service=$(POD_NAMESPACE)/my-release-ingress-nginx-controller
            - --election-id=ingress-controller-leader
            - --controller-class=k8s.io/ingress-nginx
            - --ingress-class=nginx
            - --configmap=$(POD_NAMESPACE)/my-release-ingress-nginx-controller
            - --validating-webhook=:8443
            - --validating-webhook-certificate=/usr/local/certificates/cert
            - --validating-webhook-key=/usr/local/certificates/key
          securityContext: 
            capabilities:
              drop:
              - ALL
              add:
              - NET_BIND_SERVICE
            runAsUser: 101
            allowPrivilegeEscalation: true
          env:
            - name: POD_NAME
              valueFrom:
                fieldRef:
                  fieldPath: metadata.name
            - name: POD_NAMESPACE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.namespace
            - name: LD_PRELOAD
              value: /usr/local/lib/libmimalloc.so
          livenessProbe: 
            failureThreshold: 5
            httpGet:
              path: /healthz
              port: 10254
              scheme: HTTP
            initialDelaySeconds: 10
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          readinessProbe: 
            failureThreshold: 3
            httpGet:
              path: /healthz
              port: 10254
              scheme: HTTP
            initialDelaySeconds: 10
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          ports:
            - name: http
              containerPort: 80
              protocol: TCP
            - name: https
              containerPort: 443
              protocol: TCP
            - name: webhook
              containerPort: 8443
              protocol: TCP
          volumeMounts:
            - name: webhook-cert
              mountPath: /usr/local/certificates/
              readOnly: true
          resources: 
            requests:
              cpu: 100m
              memory: 90Mi
      nodeSelector: 
        kubernetes.io/os: linux
      serviceAccountName: my-release-ingress-nginx
      terminationGracePeriodSeconds: 300
      volumes:
        - name: webhook-cert
          secret:
            secretName: my-release-ingress-nginx-admission
---
# Source: featureform/charts/metadata/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  labels:
    chart: featureform
    run: featureform-metadata-server
    app: featureform-metadata-server
  name: featureform-metadata-server
spec:
  replicas: 1
  selector:
    matchLabels:
      chart: featureform
      run: featureform-metadata-server
      app: featureform-metadata-server
  strategy: {}
  template:
    metadata:
      labels:
        chart: featureform
        run: featureform-metadata-server
        app: featureform-metadata-server
    spec:
      containers:
        - image: "featureformcom/metadata:6.9.9-rc"
          name: featureform-metadata-server
          imagePullPolicy: Always
          ports:
            - containerPort: 8080
          resources: {}
          env:
            - name: MEILISEARCH_PORT
              value: "7700"
            - name: MEILISEARCH_HOST
              value: featureform-search
            - name: MEILISEARCH_APIKEY
              value: ""
            - name: ETCD_HOST
              value: featureform-etcd
            - name: ETCD_PORT
              value: "2379"
status: {}
---
# Source: featureform/charts/prometheus/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: featureform-prometheus-deployment
  labels:
    app: featureform-prometheus-server
spec:
  replicas: 1
  selector:
    matchLabels:
      app: featureform-prometheus-server
  template:
    metadata:
      labels:
        app: featureform-prometheus-server
    spec:
      containers:
        - name: featureform-prometheus
          image: prom/prometheus
          args:
            - "--config.file=/etc/prometheus/prometheus.yml"
            - "--storage.tsdb.path=/prometheus/"
            - "--web.route-prefix=/prometheus"
            - "--web.external-url=http://my-release-featureform.featureform.com/prometheus"
          ports:
            - containerPort: 9090
          volumeMounts:
            - name: featureform-prometheus-config-volume
              mountPath: /etc/prometheus/
            - name: featureform-prometheus-storage-volume
              mountPath: /prometheus/
      volumes:
        - name: featureform-prometheus-config-volume
          configMap:
            defaultMode: 420
            name: featureform-prometheus-server-conf

        - name: featureform-prometheus-storage-volume
          emptyDir: {}
---
# Source: featureform/charts/etcd/templates/statefulset.yaml
apiVersion: apps/v1
kind: StatefulSet
metadata:
  name: featureform-etcd
  namespace: "default"
  labels:
    app.kubernetes.io/name: etcd
    helm.sh/chart: etcd-8.2.4
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/managed-by: Helm
spec:
  replicas: 3
  selector:
    matchLabels:
      app.kubernetes.io/name: etcd
      app.kubernetes.io/instance: my-release
  serviceName: featureform-etcd-headless
  podManagementPolicy: Parallel
  updateStrategy:
    type: RollingUpdate
  template:
    metadata:
      labels:
        app.kubernetes.io/name: etcd
        helm.sh/chart: etcd-8.2.4
        app.kubernetes.io/instance: my-release
        app.kubernetes.io/managed-by: Helm
      annotations:
        checksum/token-secret: 2e84668a8c62e4734a3cc5d4efc854a9ca2860d9af6d1dc3535070c1cfeae119
    spec:
      
      affinity:
        podAffinity:
          
        podAntiAffinity:
          preferredDuringSchedulingIgnoredDuringExecution:
            - podAffinityTerm:
                labelSelector:
                  matchLabels:
                    app.kubernetes.io/name: etcd
                    app.kubernetes.io/instance: my-release
                namespaces:
                  - "default"
                topologyKey: kubernetes.io/hostname
              weight: 1
        nodeAffinity:
          
      securityContext:
        fsGroup: 1001
      serviceAccountName: "default"
      containers:
        - name: etcd
          image: docker.io/bitnami/etcd:3.5.4-debian-10-r25
          imagePullPolicy: "IfNotPresent"
          securityContext:
            runAsNonRoot: true
            runAsUser: 1001
          env:
            - name: BITNAMI_DEBUG
              value: "false"
            - name: MY_POD_IP
              valueFrom:
                fieldRef:
                  fieldPath: status.podIP
            - name: MY_POD_NAME
              valueFrom:
                fieldRef:
                  fieldPath: metadata.name
            - name: MY_STS_NAME
              value: "featureform-etcd"
            - name: ETCDCTL_API
              value: "3"
            - name: ETCD_ON_K8S
              value: "yes"
            - name: ETCD_START_FROM_SNAPSHOT
              value: "no"
            - name: ETCD_DISASTER_RECOVERY
              value: "no"
            - name: ETCD_NAME
              value: "$(MY_POD_NAME)"
            - name: ETCD_DATA_DIR
              value: "/bitnami/etcd/data"
            - name: ETCD_LOG_LEVEL
              value: "info"
            - name: ALLOW_NONE_AUTHENTICATION
              value: "no"
            - name: ETCD_ROOT_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: featureform-etcd
                  key: etcd-root-password
            - name: ETCD_AUTH_TOKEN
              value: "jwt,priv-key=/opt/bitnami/etcd/certs/token/jwt-token.pem,sign-method=RS256,ttl=100h"
            - name: ETCD_ADVERTISE_CLIENT_URLS
              value: "http://$(MY_POD_NAME).featureform-etcd-headless.default.svc.cluster.local:2379,http://featureform-etcd.default.svc.cluster.local:2379"
            - name: ETCD_LISTEN_CLIENT_URLS
              value: "http://0.0.0.0:2379"
            - name: ETCD_INITIAL_ADVERTISE_PEER_URLS
              value: "http://$(MY_POD_NAME).featureform-etcd-headless.default.svc.cluster.local:2380"
            - name: ETCD_LISTEN_PEER_URLS
              value: "http://0.0.0.0:2380"
            - name: ETCD_INITIAL_CLUSTER_TOKEN
              value: "etcd-cluster-k8s"
            - name: ETCD_INITIAL_CLUSTER_STATE
              value: "new"
            - name: ETCD_INITIAL_CLUSTER
              value: "featureform-etcd-0=http://featureform-etcd-0.featureform-etcd-headless.default.svc.cluster.local:2380,featureform-etcd-1=http://featureform-etcd-1.featureform-etcd-headless.default.svc.cluster.local:2380,featureform-etcd-2=http://featureform-etcd-2.featureform-etcd-headless.default.svc.cluster.local:2380"
            - name: ETCD_CLUSTER_DOMAIN
              value: "featureform-etcd-headless.default.svc.cluster.local"
          envFrom:
          ports:
            - name: client
              containerPort: 2379
              protocol: TCP
            - name: peer
              containerPort: 2380
              protocol: TCP
          livenessProbe:
            exec:
              command:
                - /opt/bitnami/scripts/etcd/healthcheck.sh
            initialDelaySeconds: 60
            periodSeconds: 30
            timeoutSeconds: 5
            successThreshold: 1
            failureThreshold: 5
          readinessProbe:
            exec:
              command:
                - /opt/bitnami/scripts/etcd/healthcheck.sh
            initialDelaySeconds: 60
            periodSeconds: 10
            timeoutSeconds: 5
            successThreshold: 1
            failureThreshold: 5
          lifecycle:
            preStop:
              exec:
                command:
                  - /opt/bitnami/scripts/etcd/prestop.sh
          resources:
            limits: {}
            requests: {}
          volumeMounts:
            - name: data
              mountPath: /bitnami/etcd
            - name: etcd-jwt-token
              mountPath: /opt/bitnami/etcd/certs/token/
              readOnly: true
      volumes:
        - name: etcd-jwt-token
          secret:
            secretName: featureform-etcd-jwt-token
            defaultMode: 256
  volumeClaimTemplates:
    - metadata:
        name: data
      spec:
        accessModes:
          - "ReadWriteOnce"
        resources:
          requests:
            storage: "8Gi"
---
# Source: featureform/charts/meilisearch/templates/statefulset.yaml
apiVersion: apps/v1
kind: StatefulSet
metadata:
  name: featureform-search
  labels:
    helm.sh/chart: meilisearch-0.1.49
    app.kubernetes.io/name: meilisearch
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v1.0.0"
    app.kubernetes.io/component: search-engine
    app.kubernetes.io/part-of: meilisearch
    app.kubernetes.io/managed-by: Helm
spec:
  replicas: 1
  serviceName: featureform-search
  selector:
    matchLabels:
      app.kubernetes.io/name: meilisearch
      app.kubernetes.io/instance: my-release
  template:
    metadata:
      labels:
        helm.sh/chart: meilisearch-0.1.49
        app.kubernetes.io/name: meilisearch
        app.kubernetes.io/instance: my-release
        app.kubernetes.io/version: "v1.0.0"
        app.kubernetes.io/component: search-engine
        app.kubernetes.io/part-of: meilisearch
        app.kubernetes.io/managed-by: Helm
    spec:
      serviceAccountName: featureform-search
      containers:
        - name: meilisearch
          image: "getmeili/meilisearch:v1.0.0"
          imagePullPolicy: IfNotPresent
          envFrom:
          - configMapRef:
              name: featureform-search-environment
          ports:
            - name: http
              containerPort: 7700
              protocol: TCP
          startupProbe:
            httpGet:
              path: /health
              port: http
            periodSeconds: 1
            initialDelaySeconds: 1
            failureThreshold: 60
          livenessProbe:
            httpGet:
              path: /health
              port: http
            periodSeconds: 10
            initialDelaySeconds: 0
          readinessProbe:
            httpGet:
              path: /health
              port: http
            periodSeconds: 10
            initialDelaySeconds: 0
          resources:
            {}
---
# Source: featureform/charts/ingress-nginx/templates/controller-ingressclass.yaml
# We don't support namespaced ingressClass yet
# So a ClusterRole and a ClusterRoleBinding is required
apiVersion: networking.k8s.io/v1
kind: IngressClass
metadata:
  labels:
    helm.sh/chart: ingress-nginx-4.1.0
    app.kubernetes.io/name: ingress-nginx
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "1.2.0"
    app.kubernetes.io/part-of: ingress-nginx
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/component: controller
  name: nginx
spec:
  controller: k8s.io/ingress-nginx
---
# Source: featureform/charts/grpc-ingress/templates/grpc-ingress.yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  annotations:
    allowed-values: CN=client
    kubernetes.io/ingress.class: nginx
    nginx.ingress.kubernetes.io/auth-tls-pass-certificate-to-upstream: "false"
    nginx.ingress.kubernetes.io/auth-tls-verify-client: "on"
    nginx.ingress.kubernetes.io/auth-tls-verify-depth: "1"
    nginx.ingress.kubernetes.io/backend-protocol: GRPC
    nginx.ingress.kubernetes.io/proxy-body-size: 64ms
    nginx.ingress.kubernetes.io/ssl-redirect: "false"
    cert-manager.io/issuer: letsencrypt-prod
    kots.io/exclude: "true"
  name: grpc-ingress
spec:
  rules:
    - host: localhost
      http:
        paths:
          - path: /featureform.serving.metadata.proto.Api/
            pathType: Prefix
            backend:
              service:
                name: featureform-api-server
                port:
                  number: 7878

          - path: /featureform.serving.proto.Feature/
            pathType: Prefix
            backend:
              service:
                name: featureform-api-server
                port:
                  number: 7878



  tls:
    - hosts:
        -  localhost
      secretName: featureform-ca-secret
---
# Source: featureform/charts/grpc-ingress/templates/http-ingress.yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  annotations:
    allowed-values: CN=client
    kubernetes.io/ingress.class: nginx
    nginx.ingress.kubernetes.io/auth-tls-pass-certificate-to-upstream: "false"
    nginx.ingress.kubernetes.io/backend-protocol: HTTP
    nginx.ingress.kubernetes.io/proxy-body-size: 64ms
    nginx.ingress.kubernetes.io/ssl-redirect: "false"
    cert-manager.io/issuer: letsencrypt-prod
    kots.io/exclude: "true"
  name: http-ingress
spec:
  defaultBackend:
    service:
      name: featureform-dashboard
      port:
        number: 80
  rules:
    - host: localhost
      http:
        paths:
          - path: /data/
            pathType: Prefix
            backend:
              service:
                name: featureform-dashboard-metadata
                port:
                  number: 3001
          - path: /search/
            pathType: Prefix
            backend:
              service:
                name: featureform-dashboard-metadata
                port:
                  number: 3001
          - path: /prometheus/
            pathType: Prefix
            backend:
              service:
                name: featureform-prometheus-service
                port:
                  number: 9090
          - path: /
            pathType: Prefix
            backend:
              service:
                name: featureform-dashboard
                port:
                  number: 80
---
# Source: featureform/charts/grpc-ingress/templates/localhostcert.yaml
apiVersion: cert-manager.io/v1
kind: Certificate
metadata:
  name: featureform-ca-cert
spec:
  secretName: featureform-ca
  dnsNames:
    - localhost
  issuerRef:
    name: letsencrypt-prod
---
# Source: featureform/charts/grpc-ingress/templates/localhostcert.yaml
apiVersion: cert-manager.io/v1
kind: Issuer
metadata:
  name: letsencrypt-prod
spec:
  selfSigned: {}
---
# Source: featureform/charts/ingress-nginx/templates/admission-webhooks/validating-webhook.yaml
# before changing this value, check the required kubernetes version
# https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#prerequisites
apiVersion: admissionregistration.k8s.io/v1
kind: ValidatingWebhookConfiguration
metadata:
  labels:
    helm.sh/chart: ingress-nginx-4.1.0
    app.kubernetes.io/name: ingress-nginx
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "1.2.0"
    app.kubernetes.io/part-of: ingress-nginx
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/component: admission-webhook
  name: my-release-ingress-nginx-admission
webhooks:
  - name: validate.nginx.ingress.kubernetes.io
    matchPolicy: Equivalent
    rules:
      - apiGroups:
          - networking.k8s.io
        apiVersions:
          - v1
        operations:
          - CREATE
          - UPDATE
        resources:
          - ingresses
    failurePolicy: Fail
    sideEffects: None
    admissionReviewVersions:
      - v1
    clientConfig:
      service:
        namespace: "default"
        name: my-release-ingress-nginx-controller-admission
        path: /networking/v1/ingresses
---
# Source: featureform/charts/ingress-nginx/templates/admission-webhooks/job-patch/serviceaccount.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: my-release-ingress-nginx-admission
  namespace: default
  annotations:
    "helm.sh/hook": pre-install,pre-upgrade,post-install,post-upgrade
    "helm.sh/hook-delete-policy": before-hook-creation,hook-succeeded
  labels:
    helm.sh/chart: ingress-nginx-4.1.0
    app.kubernetes.io/name: ingress-nginx
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "1.2.0"
    app.kubernetes.io/part-of: ingress-nginx
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/component: admission-webhook
---
# Source: featureform/charts/ingress-nginx/templates/admission-webhooks/job-patch/clusterrole.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: my-release-ingress-nginx-admission
  annotations:
    "helm.sh/hook": pre-install,pre-upgrade,post-install,post-upgrade
    "helm.sh/hook-delete-policy": before-hook-creation,hook-succeeded
  labels:
    helm.sh/chart: ingress-nginx-4.1.0
    app.kubernetes.io/name: ingress-nginx
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "1.2.0"
    app.kubernetes.io/part-of: ingress-nginx
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/component: admission-webhook
rules:
  - apiGroups:
      - admissionregistration.k8s.io
    resources:
      - validatingwebhookconfigurations
    verbs:
      - get
      - update
---
# Source: featureform/charts/ingress-nginx/templates/admission-webhooks/job-patch/clusterrolebinding.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name:  my-release-ingress-nginx-admission
  annotations:
    "helm.sh/hook": pre-install,pre-upgrade,post-install,post-upgrade
    "helm.sh/hook-delete-policy": before-hook-creation,hook-succeeded
  labels:
    helm.sh/chart: ingress-nginx-4.1.0
    app.kubernetes.io/name: ingress-nginx
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "1.2.0"
    app.kubernetes.io/part-of: ingress-nginx
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/component: admission-webhook
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: my-release-ingress-nginx-admission
subjects:
  - kind: ServiceAccount
    name: my-release-ingress-nginx-admission
    namespace: "default"
---
# Source: featureform/charts/ingress-nginx/templates/admission-webhooks/job-patch/role.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
  name:  my-release-ingress-nginx-admission
  namespace: default
  annotations:
    "helm.sh/hook": pre-install,pre-upgrade,post-install,post-upgrade
    "helm.sh/hook-delete-policy": before-hook-creation,hook-succeeded
  labels:
    helm.sh/chart: ingress-nginx-4.1.0
    app.kubernetes.io/name: ingress-nginx
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "1.2.0"
    app.kubernetes.io/part-of: ingress-nginx
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/component: admission-webhook
rules:
  - apiGroups:
      - ""
    resources:
      - secrets
    verbs:
      - get
      - create
---
# Source: featureform/charts/ingress-nginx/templates/admission-webhooks/job-patch/rolebinding.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  name: my-release-ingress-nginx-admission
  namespace: default
  annotations:
    "helm.sh/hook": pre-install,pre-upgrade,post-install,post-upgrade
    "helm.sh/hook-delete-policy": before-hook-creation,hook-succeeded
  labels:
    helm.sh/chart: ingress-nginx-4.1.0
    app.kubernetes.io/name: ingress-nginx
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "1.2.0"
    app.kubernetes.io/part-of: ingress-nginx
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/component: admission-webhook
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: Role
  name: my-release-ingress-nginx-admission
subjects:
  - kind: ServiceAccount
    name: my-release-ingress-nginx-admission
    namespace: "default"
---
# Source: featureform/charts/api-server/templates/tests/test-connection.yaml
apiVersion: v1
kind: Pod
metadata:
  name: "my-release-api-server-test-connection"
  labels:
    helm.sh/chart: api-server-0.1.0
    app.kubernetes.io/name: api-server
    app.kubernetes.io/instance: featureform
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": test
spec:
  containers:
    - name: wget
      image: busybox
      command: ['wget']
      args: ['my-release-api-server:7878']
  restartPolicy: Never
---
# Source: featureform/charts/coordinator/templates/tests/test-connection.yaml
apiVersion: v1
kind: Pod
metadata:
  name: "my-release-coordinator-test-connection"
  labels:
    helm.sh/chart: coordinator-0.1.0
    app.kubernetes.io/name: coordinator
    app.kubernetes.io/instance: featureform
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": test
spec:
  containers:
    - name: wget
      image: busybox
      command: ['wget']
      args: ['my-release-coordinator:80']
  restartPolicy: Never
---
# Source: featureform/charts/dashboard-metadata/templates/tests/test-connection.yaml
apiVersion: v1
kind: Pod
metadata:
  name: "my-release-dashboard-metadata-test-connection"
  labels:
    helm.sh/chart: dashboard-metadata-0.1.0
    app.kubernetes.io/name: dashboard-metadata
    app.kubernetes.io/instance: featureform
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": test
spec:
  containers:
    - name: wget
      image: busybox
      command: ['wget']
      args: ['my-release-dashboard-metadata:3001']
  restartPolicy: Never
---
# Source: featureform/charts/dashboard/templates/tests/test-connection.yaml
apiVersion: v1
kind: Pod
metadata:
  name: "my-release-dashboard-test-connection"
  labels:
    helm.sh/chart: dashboard-0.1.0
    app.kubernetes.io/name: dashboard
    app.kubernetes.io/instance: featureform
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": test
spec:
  containers:
    - name: wget
      image: busybox
      command: ['wget']
      args: ['my-release-dashboard:3001']
  restartPolicy: Never
---
# Source: featureform/charts/feature-server/templates/tests/test-connection.yaml
apiVersion: v1
kind: Pod
metadata:
  name: "my-release-feature-server-test-connection"
  labels:
    helm.sh/chart: feature-server-0.1.0
    app.kubernetes.io/name: feature-server
    app.kubernetes.io/instance: featureform
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": test
spec:
  containers:
    - name: wget
      image: busybox
      command: ['wget']
      args: ['my-release-feature-server:80']
  restartPolicy: Never
---
# Source: featureform/charts/meilisearch/templates/tests/test-connection.yaml
apiVersion: v1
kind: Pod
metadata:
  name: featureform-search-test-connection
  labels:
    app.kubernetes.io/name: meilisearch
    helm.sh/chart: meilisearch-0.1.49
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": test-success
spec:
  containers:
    - name: wget
      image: busybox
      command: ['wget']
      args:  ['featureform-search:7700']
  restartPolicy: Never
---
# Source: featureform/charts/metadata/templates/tests/test-connection.yaml
apiVersion: v1
kind: Pod
metadata:
  name: "my-release-metadata-server-test-connection"
  labels:
    helm.sh/chart: metadata-0.1.0
    app.kubernetes.io/name: metadata-server
    app.kubernetes.io/instance: featureform
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": test
spec:
  containers:
    - name: wget
      image: busybox
      command: ['wget']
      args: ['my-release-metadata-server:80']
  restartPolicy: Never
---
# Source: featureform/charts/prometheus/templates/tests/test-connection.yaml
apiVersion: v1
kind: Pod
metadata:
  name: "my-release-prometheus-test-connection"
  labels:
    helm.sh/chart: prometheus-0.1.0
    app.kubernetes.io/name: prometheus
    app.kubernetes.io/instance: featureform
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": test
spec:
  containers:
    - name: wget
      image: busybox
      command: ['wget']
      args: ['my-release-prometheus:80']
  restartPolicy: Never
---
# Source: featureform/templates/tests/test-connection.yaml
apiVersion: v1
kind: Pod
metadata:
  name: "my-release-featureform-test-connection"
  labels:
    helm.sh/chart: featureform-6.9.9-rc
    app.kubernetes.io/name: featureform
    app.kubernetes.io/instance: featureform
    app.kubernetes.io/version: "6.9.9-rc"
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": test
spec:
  containers:
    - name: wget
      image: busybox
      command: ['wget']
      args: ['my-release-featureform:80']
  restartPolicy: Never
---
# Source: featureform/charts/ingress-nginx/templates/admission-webhooks/job-patch/job-createSecret.yaml
apiVersion: batch/v1
kind: Job
metadata:
  name: my-release-ingress-nginx-admission-create
  namespace: default
  annotations:
    "helm.sh/hook": pre-install,pre-upgrade
    "helm.sh/hook-delete-policy": before-hook-creation,hook-succeeded
  labels:
    helm.sh/chart: ingress-nginx-4.1.0
    app.kubernetes.io/name: ingress-nginx
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "1.2.0"
    app.kubernetes.io/part-of: ingress-nginx
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/component: admission-webhook
spec:
  template:
    metadata:
      name: my-release-ingress-nginx-admission-create
      labels:
        helm.sh/chart: ingress-nginx-4.1.0
        app.kubernetes.io/name: ingress-nginx
        app.kubernetes.io/instance: my-release
        app.kubernetes.io/version: "1.2.0"
        app.kubernetes.io/part-of: ingress-nginx
        app.kubernetes.io/managed-by: Helm
        app.kubernetes.io/component: admission-webhook
    spec:
      containers:
        - name: create
          image: "k8s.gcr.io/ingress-nginx/kube-webhook-certgen:v1.1.1@sha256:64d8c73dca984af206adf9d6d7e46aa550362b1d7a01f3a0a91b20cc67868660"
          imagePullPolicy: IfNotPresent
          args:
            - create
            - --host=my-release-ingress-nginx-controller-admission,my-release-ingress-nginx-controller-admission.$(POD_NAMESPACE).svc
            - --namespace=$(POD_NAMESPACE)
            - --secret-name=my-release-ingress-nginx-admission
          env:
            - name: POD_NAMESPACE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.namespace
          securityContext:
            allowPrivilegeEscalation: false
      restartPolicy: OnFailure
      serviceAccountName: my-release-ingress-nginx-admission
      nodeSelector: 
        kubernetes.io/os: linux
      securityContext:
        runAsNonRoot: true
        runAsUser: 2000
        fsGroup: 2000
---
# Source: featureform/charts/ingress-nginx/templates/admission-webhooks/job-patch/job-patchWebhook.yaml
apiVersion: batch/v1
kind: Job
metadata:
  name: my-release-ingress-nginx-admission-patch
  namespace: default
  annotations:
    "helm.sh/hook": post-install,post-upgrade
    "helm.sh/hook-delete-policy": before-hook-creation,hook-succeeded
  labels:
    helm.sh/chart: ingress-nginx-4.1.0
    app.kubernetes.io/name: ingress-nginx
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "1.2.0"
    app.kubernetes.io/part-of: ingress-nginx
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/component: admission-webhook
spec:
  template:
    metadata:
      name: my-release-ingress-nginx-admission-patch
      labels:
        helm.sh/chart: ingress-nginx-4.1.0
        app.kubernetes.io/name: ingress-nginx
        app.kubernetes.io/instance: my-release
        app.kubernetes.io/version: "1.2.0"
        app.kubernetes.io/part-of: ingress-nginx
        app.kubernetes.io/managed-by: Helm
        app.kubernetes.io/component: admission-webhook
    spec:
      containers:
        - name: patch
          image: "k8s.gcr.io/ingress-nginx/kube-webhook-certgen:v1.1.1@sha256:64d8c73dca984af206adf9d6d7e46aa550362b1d7a01f3a0a91b20cc67868660"
          imagePullPolicy: IfNotPresent
          args:
            - patch
            - --webhook-name=my-release-ingress-nginx-admission
            - --namespace=$(POD_NAMESPACE)
            - --patch-mutating=false
            - --secret-name=my-release-ingress-nginx-admission
            - --patch-failure-policy=Fail
          env:
            - name: POD_NAMESPACE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.namespace
          securityContext:
            allowPrivilegeEscalation: false
      restartPolicy: OnFailure
      serviceAccountName: my-release-ingress-nginx-admission
      nodeSelector: 
        kubernetes.io/os: linux
      securityContext:
        runAsNonRoot: true
        runAsUser: 2000
        fsGroup: 2000
