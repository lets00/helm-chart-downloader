---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-kafka-connectcluster-connect
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: ConnectCluster
    k8s.io/resource: connectclusters
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - builtIn: 1
        datasource: ${datasource}
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        type: dashboard
    editable: true
    gnetId: null
    graphTooltip: 0
    iteration: 1710489752047
    links: []
    panels:
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 0
      id: 2
      panels: []
      title: ConnectCluster Server
      type: row
    - datasource: ${datasource}
      description: Status of Connect Cluster
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 4
        w: 4
        x: 0
        "y": 1
      id: 4
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: /^phase$/
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kafka_kubedb_com_connectcluster_status_phase{namespace="$namespace", app="$app"}
          == 1
        format: table
        interval: ""
        legendFormat: ""
        refId: A
      timeFrom: null
      timeShift: null
      title: Status
      type: stat
    - datasource: ${datasource}
      description: Cluster Uptime
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: s
        overrides: []
      gridPos:
        h: 4
        w: 4
        x: 4
        "y": 1
      id: 6
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: time() - process_start_time_seconds{namespace=~"$namespace",pod=~"$app-.+$"}
        format: table
        interval: ""
        legendFormat: ""
        refId: A
      timeFrom: null
      timeShift: null
      title: Uptime
      type: stat
    - datasource: ${datasource}
      description: Total connector in this cluster
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings:
          - from: ""
            id: 1
            text: "0"
            to: ""
            type: 1
            value: "null"
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
        overrides: []
      gridPos:
        h: 4
        w: 4
        x: 8
        "y": 1
      id: 23763571995
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: sum(kafka_connect_connector_status{namespace=~"$namespace", pod=~"$app-.+$"})
        format: table
        interval: ""
        legendFormat: ""
        refId: A
      title: Connector count
      type: stat
    - datasource: ${datasource}
      description: Total tasks in pods
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings:
          - from: ""
            id: 1
            text: "0"
            to: ""
            type: 1
            value: "null"
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
        overrides: []
      gridPos:
        h: 4
        w: 4
        x: 12
        "y": 1
      id: 23763571997
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: sum(kafka_connect_worker_connector_total_task_count{namespace=~"$namespace",
          pod=~"$app-.+$"})
        format: table
        interval: ""
        legendFormat: ""
        refId: A
      title: Task count
      type: stat
    - datasource: ${datasource}
      description: JVM version of the cluster
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 4
        w: 8
        x: 16
        "y": 1
      id: 147
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: /^jdk$/
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: label_join(jvm_info{namespace="$namespace", pod=~"$app-.+$"}, "jdk", ",
          ", "vendor", "runtime", "version")
        format: table
        interval: ""
        legendFormat: ""
        refId: A
      title: JVM Version
      type: stat
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 5
      id: 23763572001
      panels: []
      title: Connect Worker
      type: row
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: right
            filterable: false
          displayName: ""
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: Time
          properties:
          - id: unit
            value: short
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: client_id
          properties:
          - id: unit
            value: short
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: start_time_ms
          properties:
          - id: displayName
            value: Startup time
          - id: unit
            value: short
          - id: unit
            value: 'time: MMMM D, YYYY LT'
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #C'
          properties:
          - id: displayName
            value: Connector Count
          - id: unit
            value: short
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #D'
          properties:
          - id: displayName
            value: Connector Startup Success Total
          - id: unit
            value: short
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #E'
          properties:
          - id: displayName
            value: Connector Startup Failure Total
          - id: unit
            value: short
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #F'
          properties:
          - id: displayName
            value: Number of rebalances
          - id: unit
            value: short
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #G'
          properties:
          - id: displayName
            value: Average time of Rebalances
          - id: unit
            value: ms
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #H'
          properties:
          - id: displayName
            value: Time since last rebalance
          - id: unit
            value: ms
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: instance
          properties:
          - id: displayName
            value: Worker instance
          - id: unit
            value: short
        - matcher:
            id: byName
            options: 'Value #I'
          properties:
          - id: displayName
            value: Number of tasks
          - id: unit
            value: short
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: ""
          properties:
          - id: unit
            value: short
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #J'
          properties:
          - id: displayName
            value: 'Task Startup Success '
          - id: unit
            value: short
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #K'
          properties:
          - id: displayName
            value: Task Startup Failure
          - id: unit
            value: short
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: Connector Startup Success Total
          properties:
          - id: custom.width
            value: 248
        - matcher:
            id: byName
            options: clientId
          properties:
          - id: custom.width
            value: 228
        - matcher:
            id: byName
            options: pod
          properties:
          - id: displayName
            value: Worker
        - matcher:
            id: byName
            options: Number of tasks
          properties:
          - id: custom.width
            value: 248
        - matcher:
            id: byName
            options: Task Startup Failure
          properties:
          - id: custom.width
            value: 272
        - matcher:
            id: byName
            options: 'Task Startup Success '
          properties:
          - id: custom.width
            value: 275
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 6
      id: 23763571999
      options:
        showHeader: true
        sortBy: []
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kafka_connect_app_info{instance=~"$instance",start_time_ms!=""}
        hide: false
        interval: ""
        legendFormat: ""
        refId: B
      - exemplar: true
        expr: kafka_connect_app_info{instance=~"$instance",version!=""}
        hide: false
        interval: ""
        legendFormat: ""
        refId: A
      - exemplar: true
        expr: sum by (pod) (kafka_connect_worker_connector_count{namespace=~"$namespace",pod=~"$app-.+$"})
        format: table
        instant: true
        interval: ""
        legendFormat: ""
        refId: C
      - expr: sum by (pod) (kafka_connect_worker_connector_startup_success_total{namespace=~"$namespace",pod=~"$app-.+$"})
        format: table
        instant: true
        interval: ""
        legendFormat: ""
        refId: D
      - expr: sum by (pod) (kafka_connect_worker__connector_startup_failure_total{namespace=~"$namespace",pod=~"$app-.+$"})
        format: table
        instant: true
        interval: ""
        legendFormat: ""
        refId: E
      - exemplar: true
        expr: sum by (pod) (kafka_connect_worker_task_count{namespace=~"$namespace",pod=~"$app-.+$"})
        format: table
        instant: true
        interval: ""
        legendFormat: ""
        refId: I
      - exemplar: true
        expr: sum by (pod) (kafka_connect_worker_task_startup_success_total{namespace=~"$namespace",pod=~"$app-.+$"})
        format: table
        instant: true
        interval: ""
        legendFormat: ""
        refId: J
      - expr: sum by (pod) (kafka_connect_worker_task_startup_failure_total{namespace=~"$namespace",pod=~"$app-.+$"})
        format: table
        instant: true
        interval: ""
        legendFormat: ""
        refId: K
      timeFrom: null
      timeShift: null
      title: Connect Worker
      transformations:
      - id: merge
        options: {}
      - id: filterFieldsByName
        options:
          include: {}
      transparent: true
      type: table
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 14
      id: 23763572025
      panels: []
      title: Connector Details
      type: row
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: right
            filterable: false
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides:
        - matcher:
            id: byName
            options: Time
          properties:
          - id: unit
            value: short
          - id: custom.align
            value: auto
        - matcher:
            id: byName
            options: connector_class
          properties:
          - id: displayName
            value: Class
          - id: unit
            value: short
          - id: custom.align
            value: left
        - matcher:
            id: byName
            options: env
          properties:
          - id: unit
            value: short
          - id: custom.align
        - matcher:
            id: byName
            options: instance
          properties:
          - id: unit
            value: short
          - id: custom.align
        - matcher:
            id: byName
            options: job
          properties:
          - id: unit
            value: short
          - id: custom.align
        - matcher:
            id: byName
            options: pod
          properties:
          - id: displayName
            value: Worker
          - id: unit
            value: short
          - id: custom.align
        - matcher:
            id: byName
            options: 'Value #B'
          properties:
          - id: displayName
            value: No. of Tasks destroyed
          - id: unit
            value: short
          - id: custom.align
        - matcher:
            id: byName
            options: 'Value #A'
          properties:
          - id: unit
            value: short
          - id: custom.align
        - matcher:
            id: byName
            options: 'Value #C'
          properties:
          - id: unit
            value: short
          - id: custom.align
        - matcher:
            id: byName
            options: 'Value #D'
          properties:
          - id: unit
            value: short
          - id: custom.align
        - matcher:
            id: byName
            options: status
          properties:
          - id: unit
            value: short
          - id: custom.align
        - matcher:
            id: byName
            options: connector
          properties:
          - id: displayName
            value: Name
          - id: unit
            value: short
          - id: custom.align
            value: left
        - matcher:
            id: byName
            options: connector_type
          properties:
          - id: displayName
            value: Type
          - id: unit
            value: short
          - id: custom.align
            value: left
        - matcher:
            id: byName
            options: connector_version
          properties:
          - id: displayName
            value: Version
          - id: unit
            value: short
          - id: custom.align
            value: left
        - matcher:
            id: byName
            options: 'Value #E'
          properties:
          - id: displayName
            value: No. of tasks
          - id: unit
            value: short
          - id: custom.align
        - matcher:
            id: byName
            options: 'Value #F'
          properties:
          - id: displayName
            value: No. of Tasks running
          - id: unit
            value: short
          - id: custom.align
        - matcher:
            id: byName
            options: 'Value #G'
          properties:
          - id: displayName
            value: No. of Tasks failed
          - id: unit
            value: short
          - id: custom.align
        - matcher:
            id: byName
            options: 'Value #H'
          properties:
          - id: displayName
            value: No. of Tasks paused
          - id: unit
            value: short
          - id: custom.align
        - matcher:
            id: byName
            options: 'Value #I'
          properties:
          - id: unit
            value: short
          - id: custom.align
        - matcher:
            id: byName
            options: 'Value #J'
          properties:
          - id: displayName
            value: No. of Tasks unassigned
          - id: unit
            value: short
          - id: custom.align
        - matcher:
            id: byName
            options: name
          properties:
          - id: custom.width
            value: 195
        - matcher:
            id: byName
            options: namespace
          properties:
          - id: displayName
            value: Namespace
          - id: custom.width
            value: 106
        - matcher:
            id: byName
            options: type
          properties:
          - id: custom.width
            value: 96
        - matcher:
            id: byName
            options: version
          properties:
          - id: custom.width
            value: 116
        - matcher:
            id: byName
            options: class
          properties:
          - id: custom.width
            value: 252
        - matcher:
            id: byName
            options: Worker
          properties:
          - id: custom.width
            value: 160
        - matcher:
            id: byName
            options: No. of Tasks destroyed
          properties:
          - id: custom.width
            value: 162
        - matcher:
            id: byName
            options: No. of Tasks unassigned
          properties:
          - id: custom.width
            value: 168
        - matcher:
            id: byName
            options: Name
          properties:
          - id: custom.width
            value: 183
      gridPos:
        h: 9
        w: 24
        x: 0
        "y": 15
      id: 23763572023
      options:
        cellHeight: sm
        footer:
          countRows: false
          fields: ""
          reducer:
          - sum
          show: false
        frameIndex: 3
        showHeader: true
        sortBy: []
      pluginVersion: 7.5.5
      targets:
      - datasource:
          type: prometheus
          uid: prometheus
        editorMode: code
        exemplar: true
        expr: label_replace(label_replace(label_replace(kafka_connect_connector_info{namespace="$namespace",pod=~"$app-.+$",status!=""},
          "status", "1", "status", "running"), "status", "2", "status", "paused"), "status",
          "3", "status", "stopped")
        format: table
        hide: false
        instant: true
        interval: ""
        legendFormat: ""
        refId: I
      - datasource:
          type: prometheus
          uid: prometheus
        editorMode: code
        exemplar: true
        expr: kafka_connect_connector_info{namespace="$namespace",pod=~"$app-.+$",connector_type!=""}
        format: table
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      - datasource:
          type: prometheus
          uid: prometheus
        editorMode: code
        expr: kafka_connect_connector_info{namespace="$namespace",pod=~"$app-.+$",connector_version!=""}
        format: table
        hide: false
        instant: true
        interval: ""
        legendFormat: ""
        refId: C
      - datasource:
          type: prometheus
          uid: prometheus
        editorMode: code
        expr: kafka_connect_connector_info{namespace="$namespace",pod=~"$app-.+$",connector_class!=""}
        format: table
        instant: true
        interval: ""
        legendFormat: ""
        refId: D
      - datasource:
          type: prometheus
          uid: prometheus
        editorMode: code
        expr: sum by (connector) (kafka_connect_worker_connector_total_task_count{namespace="$namespace",pod=~"$app-.+$"})
        format: table
        hide: false
        instant: true
        interval: ""
        legendFormat: ""
        refId: E
      - datasource:
          type: prometheus
          uid: prometheus
        editorMode: code
        expr: sum by (connector) (kafka_connect_worker_connector_running_task_count{namespace="$namespace",pod=~"$app-.+$"})
        format: table
        instant: true
        interval: ""
        legendFormat: ""
        refId: F
      - datasource:
          type: prometheus
          uid: prometheus
        editorMode: code
        expr: sum by (connector) (kafka_connect_worker_connector_failed_task_count{namespace="$namespace",pod=~"$app-.+$"})
        format: table
        instant: true
        interval: ""
        legendFormat: ""
        refId: G
      - datasource:
          type: prometheus
          uid: prometheus
        editorMode: code
        expr: sum by (connector) (kafka_connect_worker_connector_paused_task_count{namespace="$namespace",pod=~"$app-.+$"})
        format: table
        instant: true
        interval: ""
        legendFormat: ""
        refId: H
      - datasource:
          type: prometheus
          uid: prometheus
        editorMode: code
        expr: sum by (connector) (kafka_connect_worker_connector_destroyed_task_count{namespace="$namespace",pod=~"$app-.+$"})
        format: table
        instant: true
        interval: ""
        legendFormat: ""
        refId: B
      - datasource:
          type: prometheus
          uid: prometheus
        editorMode: code
        exemplar: true
        expr: sum by (pod) (kafka_connect_worker_connector_unassigned_task_count{namespace="$namespace",pod=~"$app-.+$"})
        format: table
        instant: true
        interval: ""
        legendFormat: ""
        refId: J
      timeFrom: null
      timeShift: null
      title: Connectors
      transformations:
      - id: seriesToRows
        options:
          reducers: []
      - id: merge
        options: {}
      - id: filterFieldsByName
        options:
          include:
            names:
            - Time
            - connector
            - namespace
            - pod
            - connector_type
            - connector_version
            - connector_class
            - 'Value #E'
            - 'Value #F'
            - 'Value #G'
            - 'Value #H'
            - 'Value #B'
            - 'Value #J'
      type: table
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 24
      id: 23763572003
      panels: []
      title: I/O Info
      type: row
    - datasource: ${datasource}
      description: Average number of requests sent per second
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: none
            hideFrom:
              graph: false
              legend: false
              tooltip: false
              viz: false
            lineInterpolation: smooth
            lineStyle:
              fill: solid
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: false
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: reqps
        overrides:
        - __systemRef: hideSeriesFrom
          matcher:
            id: byNames
            options:
              mode: exclude
              names:
              - connect-cluster-0
              prefix: 'All except:'
              readOnly: true
          properties:
          - id: custom.hideFrom
            value:
              graph: true
              legend: false
              tooltip: false
      gridPos:
        h: 9
        w: 12
        x: 0
        "y": 25
      id: 23763572017
      options:
        legend:
          calcs: []
          displayMode: list
          placement: bottom
          showLegend: true
        tooltip:
          mode: multi
          sort: none
        tooltipOptions:
          mode: single
      targets:
      - datasource:
          type: prometheus
          uid: ${datasource}
        editorMode: code
        expr: kafka_connect_request_size_avg{namespace=~"$namespace",pod=~"$app-.+$"}
        hide: false
        instant: false
        legendFormat: '{{pod}}'
        range: true
        refId: A
      title: Average number of requests
      type: timeseries
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Fraction of time the I/O thread spent doing I/O
      fieldConfig:
        defaults:
          unit: percent
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 9
        w: 12
        x: 12
        "y": 25
      hiddenSeries: false
      id: 23763572021
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - datasource:
          type: prometheus
          uid: ${datasource}
        editorMode: code
        exemplar: true
        expr: kafka_connect_io_ratio{namespace=~"$namespace",pod=~"$app-.+$"}
        hide: false
        instant: false
        interval: ""
        legendFormat: '{{pod}}'
        range: true
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: IO Ratio
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: percent
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      description: Bytes read off all sockets
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: none
            hideFrom:
              graph: false
              legend: false
              tooltip: false
              viz: false
            lineInterpolation: smooth
            lineStyle:
              fill: solid
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: false
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: decbytes
        overrides: []
      gridPos:
        h: 9
        w: 12
        x: 0
        "y": 34
      id: 23763572007
      options:
        legend:
          calcs: []
          displayMode: list
          placement: bottom
          showLegend: true
        tooltip:
          mode: multi
          sort: none
        tooltipOptions:
          mode: single
      targets:
      - datasource:
          type: prometheus
          uid: ${datasource}
        editorMode: code
        expr: kafka_connect_incoming_byte_total{namespace=~"$namespace",pod=~"$app-.+$"}
        hide: false
        instant: false
        legendFormat: '{{pod}}'
        range: true
        refId: A
      title: Incoming Byte Total
      type: timeseries
    - datasource: ${datasource}
      description: Average number of outgoing bytes sent to all servers
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: none
            hideFrom:
              graph: false
              legend: false
              tooltip: false
              viz: false
            lineInterpolation: smooth
            lineStyle:
              fill: solid
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: false
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: decbytes
        overrides: []
      gridPos:
        h: 9
        w: 12
        x: 12
        "y": 34
      id: 23763572009
      options:
        legend:
          calcs: []
          displayMode: list
          placement: bottom
          showLegend: true
        tooltip:
          mode: multi
          sort: none
        tooltipOptions:
          mode: single
      targets:
      - datasource:
          type: prometheus
          uid: ${datasource}
        disableTextWrap: false
        editorMode: code
        expr: kafka_connect_outgoing_byte_total{namespace=~"$namespace",pod=~"$app-.+$"}
        fullMetaSearch: false
        hide: false
        includeNullMetadata: true
        instant: false
        legendFormat: '{{pod}}'
        range: true
        refId: A
        useBackend: false
      title: Outgoing Byte Total
      type: timeseries
    - datasource: null
      description: Current number of active connections
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: none
            hideFrom:
              graph: false
              legend: false
              tooltip: false
              viz: false
            lineInterpolation: smooth
            lineStyle:
              fill: solid
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: false
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: connections
        overrides:
        - __systemRef: hideSeriesFrom
          matcher:
            id: byNames
            options:
              mode: exclude
              names:
              - kafka-connect-0
              prefix: 'All except:'
              readOnly: true
          properties:
          - id: custom.hideFrom
            value:
              legend: false
              tooltip: false
              viz: true
      gridPos:
        h: 9
        w: 12
        x: 0
        "y": 43
      id: 23763572011
      options:
        legend:
          calcs: []
          displayMode: list
          placement: bottom
          showLegend: true
        tooltip:
          mode: multi
          sort: none
        tooltipOptions:
          mode: single
      targets:
      - datasource:
          type: prometheus
          uid: ${datasource}
        editorMode: code
        expr: kafka_connect_connection_count{namespace=~"$namespace",pod=~"$app-.+$"}
        hide: false
        instant: false
        legendFormat: '{{pod}}'
        range: true
        refId: A
      title: Current number of active connections
      type: timeseries
    - datasource: ${datasource}
      description: ""
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: none
            hideFrom:
              graph: false
              legend: false
              tooltip: false
              viz: false
            lineInterpolation: smooth
            lineStyle:
              fill: solid
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: false
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides: []
      gridPos:
        h: 9
        w: 12
        x: 12
        "y": 43
      id: 23763572019
      options:
        legend:
          calcs: []
          displayMode: list
          placement: bottom
          showLegend: true
        tooltip:
          mode: multi
          sort: none
        tooltipOptions:
          mode: single
      targets:
      - datasource:
          type: prometheus
          uid: ${datasource}
        editorMode: code
        expr: kafka_connect_response_total{namespace=~"$namespace",pod=~"$app-.+$"}
        hide: false
        instant: false
        legendFormat: '{{pod}}'
        range: true
        refId: A
      title: Responses received and sent
      type: timeseries
    - datasource: ${datasource}
      description: Connections that were successfully authenticated using SASL or SSL
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: none
            hideFrom:
              graph: false
              legend: false
              tooltip: false
              viz: false
            lineInterpolation: smooth
            lineStyle:
              fill: solid
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: false
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: connections
        overrides: []
      gridPos:
        h: 9
        w: 12
        x: 0
        "y": 52
      id: 23763572015
      options:
        legend:
          calcs: []
          displayMode: list
          placement: bottom
          showLegend: true
        tooltip:
          mode: multi
          sort: none
        tooltipOptions:
          mode: single
      targets:
      - datasource:
          type: prometheus
          uid: ${datasource}
        editorMode: code
        expr: kafka_connect_successful_authentication_total{namespace=~"$namespace",pod=~"$app-.+$"}
        hide: false
        instant: false
        legendFormat: '{{pod}}'
        range: true
        refId: A
      title: Success authentication connections
      type: timeseries
    - datasource: ${datasource}
      description: Connections that failed authentication
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: none
            hideFrom:
              graph: false
              legend: false
              tooltip: false
            lineInterpolation: linear
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: true
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: connections
        overrides: []
      gridPos:
        h: 9
        w: 12
        x: 12
        "y": 52
      id: 23763572013
      options:
        graph: {}
        legend:
          calcs: []
          displayMode: list
          placement: bottom
        tooltip:
          mode: multi
          sort: none
        tooltipOptions:
          mode: single
      pluginVersion: 7.5.5
      targets:
      - datasource:
          type: prometheus
          uid: ${datasource}
        editorMode: code
        expr: kafka_connect_failed_authentication_total{namespace=~"$namespace",pod=~"$app-.+$"}
        hide: false
        instant: false
        legendFormat: '{{pod}}'
        range: true
        refId: A
      timeFrom: null
      timeShift: null
      title: Failed authentication connections
      type: timeseries
    - datasource: ${datasource}
      description: Total number of network operations (reads or writes) on all connections
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: none
            hideFrom:
              graph: false
              legend: false
              tooltip: false
              viz: false
            lineInterpolation: smooth
            lineStyle:
              fill: solid
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: false
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides: []
      gridPos:
        h: 9
        w: 12
        x: 0
        "y": 61
      id: 23763572005
      options:
        legend:
          calcs: []
          displayMode: list
          placement: bottom
          showLegend: true
        tooltip:
          mode: multi
          sort: none
        tooltipOptions:
          mode: single
      targets:
      - datasource:
          type: prometheus
          uid: ${datasource}
        editorMode: code
        exemplar: true
        expr: kafka_connect_network_io_total{namespace=~"$namespace",pod=~"$app-.+$"}
        hide: false
        instant: false
        interval: ""
        legendFormat: '{{pod}}'
        range: true
        refId: A
      title: Network IO Total
      type: timeseries
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 70
      id: 23763572029
      panels: []
      title: Rebalance
      type: row
    - datasource: ${datasource}
      description: Rebalances average time
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: none
            hideFrom:
              graph: false
              legend: false
              tooltip: false
            lineInterpolation: linear
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: true
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: ms
        overrides:
        - __systemRef: hideSeriesFrom
          matcher:
            id: byNames
            options:
              mode: exclude
              names:
              - connect-cluster-1
              prefix: 'All except:'
              readOnly: true
          properties:
          - id: custom.hideFrom
            value:
              graph: true
              legend: false
              tooltip: false
      gridPos:
        h: 9
        w: 12
        x: 0
        "y": 71
      id: 23763572027
      links: []
      options:
        graph: {}
        legend:
          calcs: []
          displayMode: list
          placement: bottom
        tooltip:
          mode: multi
          sort: desc
        tooltipOptions:
          mode: single
      pluginVersion: 7.5.5
      targets:
      - datasource:
          type: prometheus
          uid: prometheus
        exemplar: true
        expr: kafka_connect_worker_rebalance_rebalance_avg_time_ms{namespace=~"$namespace",pod=~"$app-.+$"}
        format: time_series
        hide: false
        instant: false
        interval: ""
        intervalFactor: 1
        legendFormat: '{{pod}}'
        refId: A
      timeFrom: null
      timeShift: null
      title: Rebalances average time
      type: timeseries
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Time since last rebalance
      fieldConfig:
        defaults:
          unit: clockms
        overrides:
        - matcher:
            id: byName
            options: Field
          properties:
          - id: displayName
            value: Worker
      fill: 1
      fillGradient: 0
      gridPos:
        h: 9
        w: 12
        x: 12
        "y": 71
      hiddenSeries: false
      id: 242
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      maxDataPoints: 100
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      repeat: pod
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - datasource:
          type: prometheus
          uid: prometheus
        editorMode: code
        exemplar: true
        expr: kafka_connect_worker_rebalance_time_since_last_rebalance_ms{namespace=~"$namespace",pod=~"$app-.+$"}
          >= 0
        format: time_series
        instant: false
        interval: ""
        intervalFactor: 1
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: 'Time since last rebalance '
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      transformations: []
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: clockms
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    refresh: 5s
    schemaVersion: 27
    style: dark
    tags: []
    templating:
      list:
      - current:
          selected: false
          text: default
          value: default
        description: null
        error: null
        hide: 0
        includeAll: false
        label: null
        multi: false
        name: datasource
        options: []
        query: prometheus
        queryValue: ""
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: null
        current:
          selected: false
          text: demo
          value: demo
        datasource: ${datasource}
        definition: label_values(kube_namespace_created,namespace)
        description: null
        error: null
        hide: 0
        includeAll: false
        label: null
        multi: false
        name: namespace
        options: []
        query:
          query: label_values(kube_namespace_created,namespace)
          refId: StandardVariableQuery
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text: connect-cluster
          value: connect-cluster
        datasource: ${datasource}
        definition: label_values(kafka_kubedb_com_connectcluster_status_phase{namespace=~"$namespace"},app)
        description: null
        error: null
        hide: 0
        includeAll: false
        label: ConnectCluster
        multi: false
        name: app
        options: []
        query:
          query: label_values(kafka_kubedb_com_connectcluster_status_phase{namespace=~"$namespace"},app)
          refId: StandardVariableQuery
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-6h
      to: now
    timepicker:
      refresh_intervals:
      - 5s
      - 10s
      - 30s
      - 1m
      - 5m
      - 15m
      - 30m
      - 1h
      - 2h
      - 1d
      time_options:
      - 5m
      - 15m
      - 1h
      - 6h
      - 12h
      - 24h
      - 2d
      - 7d
      - 30d
    timezone: ""
    title: KubeDB / Kafka / ConnectCluster / Connect
    version: 25
  overwrite: true
  templatize:
    title: false
    datasource: false
---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-kafka-connectcluster-pod
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: ConnectCluster
    k8s.io/resource: connectclusters
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - builtIn: 1
        datasource:
          type: datasource
          uid: grafana
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        target:
          limit: 100
          matchAny: false
          tags: []
          type: dashboard
        type: dashboard
    description: Kafka Connect dashboard for metrics exported by Prometheus Operator
    editable: true
    gnetId: 8878
    graphTooltip: 0
    iteration: 1711612175110
    links: []
    panels:
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 0
      id: 261
      panels: []
      title: Info
      type: row
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 4
        w: 6
        x: 0
        "y": 1
      id: 253
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: /^phase$/
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kube_pod_status_phase{namespace=~"$namespace",pod=~"$pod"}
        format: table
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Status
      type: stat
    - datasource: ${datasource}
      description: Pod uptime
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: s
        overrides: []
      gridPos:
        h: 4
        w: 6
        x: 6
        "y": 1
      id: 255
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: time() - process_start_time_seconds{namespace=~"$namespace",pod=~"$pod"}
        format: table
        interval: ""
        legendFormat: ""
        refId: A
      title: Uptime
      type: stat
    - datasource: ${datasource}
      description: Total connector in this cluster
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings:
          - from: ""
            id: 1
            text: "0"
            to: ""
            type: 1
            value: "null"
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
        overrides: []
      gridPos:
        h: 4
        w: 6
        x: 12
        "y": 1
      id: 23763571995
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: sum(kafka_connect_connector_status{namespace=~"$namespace", pod=~"$pod"})
        format: table
        interval: ""
        legendFormat: ""
        refId: A
      title: Connector count
      type: stat
    - datasource: ${datasource}
      description: Total tasks in pods
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings:
          - from: ""
            id: 1
            text: "0"
            to: ""
            type: 1
            value: "null"
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
        overrides: []
      gridPos:
        h: 4
        w: 6
        x: 18
        "y": 1
      id: 259
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: sum(kafka_connect_worker_connector_total_task_count{namespace=~"$namespace",
          pod=~"$pod"})
        format: table
        interval: ""
        legendFormat: ""
        refId: A
      title: Task count
      type: stat
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 5
      id: 23763572001
      panels: []
      title: Networking
      type: row
    - datasource: null
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: none
            hideFrom:
              graph: false
              legend: false
              tooltip: false
            lineInterpolation: linear
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: true
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides: []
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 6
      id: 23763571999
      options:
        graph: {}
        legend:
          calcs: []
          displayMode: list
          placement: bottom
        tooltipOptions:
          mode: single
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kafka_connect_network_io_total{namespace=~"$namespace",pod=~"$pod"}
        interval: ""
        legendFormat: '{{ pod }}'
        refId: A
      timeFrom: null
      timeShift: null
      title: Network-I/O Total
      type: timeseries
    - datasource: null
      description: The average number of network operations (reads or writes) on all connections
        per second.
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: none
            hideFrom:
              graph: false
              legend: false
              tooltip: false
            lineInterpolation: linear
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: true
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides: []
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 6
      id: 23763571997
      options:
        graph: {}
        legend:
          calcs: []
          displayMode: list
          placement: bottom
        tooltipOptions:
          mode: single
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kafka_connect_connect_metrics_network_io_rate{namespace="$namespace",pod=~"$pod"}
        interval: ""
        legendFormat: '{{ pod }}'
        refId: A
      timeFrom: null
      timeShift: null
      title: Network-I/O-rate
      type: timeseries
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 14
      id: 148
      panels: []
      title: Task Metrics
      type: row
    - datasource: null
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings:
          - from: ""
            id: 1
            text: "0"
            to: ""
            type: 1
            value: "null"
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
        overrides: []
      gridPos:
        h: 4
        w: 4
        x: 0
        "y": 15
      id: 50
      options:
        colorMode: value
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text:
          valueSize: 75
        textMode: auto
        wideLayout: true
      pluginVersion: 7.5.5
      targets:
      - datasource:
          type: prometheus
          uid: ${datasource}
        editorMode: code
        exemplar: false
        expr: sum(kafka_connect_worker_connector_total_task_count{namespace=~"$namespace",pod=~"$pod",connector=~"$connector"})
        instant: true
        interval: ""
        legendFormat: ""
        range: false
        refId: A
      title: Task Total
      type: stat
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings:
          - from: ""
            id: 1
            text: "0"
            to: ""
            type: 1
            value: "null"
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 4
        w: 4
        x: 4
        "y": 15
      id: 51
      options:
        colorMode: value
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text:
          valueSize: 75
        textMode: auto
        wideLayout: true
      pluginVersion: 7.5.5
      targets:
      - datasource:
          type: prometheus
          uid: prometheus
        editorMode: code
        exemplar: false
        expr: sum(kafka_connect_worker_connector_running_task_count{namespace=~"$namespace",pod=~"$pod"})
        instant: true
        interval: ""
        legendFormat: ""
        range: false
        refId: A
      timeFrom: null
      timeShift: null
      title: Tasks Running
      type: stat
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings:
          - from: ""
            id: 1
            text: "0"
            to: ""
            type: 1
            value: "null"
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
        overrides: []
      gridPos:
        h: 4
        w: 4
        x: 8
        "y": 15
      id: 52
      options:
        colorMode: value
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text:
          valueSize: 75
        textMode: auto
        wideLayout: true
      pluginVersion: 7.5.5
      targets:
      - datasource:
          type: prometheus
          uid: prometheus
        editorMode: code
        exemplar: false
        expr: sum(kafka_connect_worker_connector_paused_task_count{namespace=~"$namespace",pod=~"$pod"})
        instant: true
        interval: ""
        legendFormat: __auto
        range: false
        refId: A
      title: Tasks Paused
      type: stat
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings:
          - from: ""
            id: 1
            text: "0"
            to: ""
            type: 1
            value: "null"
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
        overrides: []
      gridPos:
        h: 4
        w: 4
        x: 12
        "y": 15
      id: 53
      options:
        colorMode: value
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text:
          valueSize: 75
        textMode: auto
        wideLayout: true
      pluginVersion: 7.5.5
      targets:
      - datasource:
          type: prometheus
          uid: prometheus
        editorMode: code
        exemplar: false
        expr: sum(kafka_connect_worker_connector_failed_task_count{pod=~"$pod"})
        instant: true
        legendFormat: __auto
        range: false
        refId: A
      title: Tasks Tasks Failed
      type: stat
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings:
          - from: ""
            id: 1
            text: "0"
            to: ""
            type: 1
            value: "null"
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
        overrides: []
      gridPos:
        h: 4
        w: 4
        x: 16
        "y": 15
      id: 54
      options:
        colorMode: value
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text:
          valueSize: 75
        textMode: auto
        wideLayout: true
      pluginVersion: 7.5.5
      targets:
      - datasource:
          type: prometheus
          uid: prometheus
        editorMode: code
        exemplar: false
        expr: sum(kafka_connect_worker_connector_unassigned_task_count{namespace=~"$namespace",pod=~"$pod"})
        instant: true
        legendFormat: __auto
        range: false
        refId: A
      title: Tasks Unassigned
      type: stat
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings:
          - from: ""
            id: 1
            text: "0"
            to: ""
            type: 1
            value: "null"
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
        overrides: []
      gridPos:
        h: 4
        w: 4
        x: 20
        "y": 15
      id: 55
      options:
        colorMode: value
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text:
          valueSize: 75
        textMode: auto
        wideLayout: true
      pluginVersion: 7.5.5
      targets:
      - datasource:
          type: prometheus
          uid: prometheus
        editorMode: code
        exemplar: false
        expr: sum(kafka_connect_worker_connector_destroyed_task_count{namespace=~"$namespace",pod=~"$pod"})
        instant: true
        legendFormat: __auto
        range: false
        refId: A
      title: Tasks Destroyed
      type: stat
    - datasource: ${datasource}
      description: Average size of the batches processed by the connector
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: none
            hideFrom:
              graph: false
              legend: false
              tooltip: false
              viz: false
            lineInterpolation: linear
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: false
          links: []
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: decbytes
        overrides: []
      gridPos:
        h: 9
        w: 12
        x: 0
        "y": 19
      id: 113
      links: []
      options:
        legend:
          calcs:
          - max
          displayMode: table
          placement: bottom
          showLegend: true
        tooltip:
          mode: multi
          sort: none
        tooltipOptions:
          mode: single
      pluginVersion: 10.2.2
      targets:
      - datasource:
          type: prometheus
          uid: prometheus
        editorMode: code
        expr: kafka_connect_connector_task_batch_size_avg{namespace=~"$namespace",pod=~"$pod",connector=~"$connector",task!=""}
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: '{{connector}}-{{task}}'
        range: true
        refId: A
      title: Batch Size Average
      type: timeseries
    - datasource: ${datasource}
      description: The fraction of time this task has spent in the running state.
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: none
            hideFrom:
              graph: false
              legend: false
              tooltip: false
              viz: false
            lineInterpolation: linear
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: false
          links: []
          mappings: []
          max: 1
          min: 0
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: percentunit
        overrides: []
      gridPos:
        h: 9
        w: 12
        x: 12
        "y": 19
      id: 117
      links: []
      options:
        legend:
          calcs:
          - max
          displayMode: table
          placement: bottom
          showLegend: true
        tooltip:
          mode: multi
          sort: desc
        tooltipOptions:
          mode: single
      pluginVersion: 10.2.2
      targets:
      - datasource:
          type: prometheus
          uid: prometheus
        editorMode: code
        expr: kafka_connect_connector_task_running_ratio{namespace=~"$namespace",pod=~"$pod",connector=~"$connector",task!=""}
        format: time_series
        hide: false
        interval: ""
        intervalFactor: 1
        legendFormat: '{{connector}}-{{task}}'
        range: true
        refId: A
      title: Running ratio
      type: timeseries
    - datasource: ${datasource}
      description: The average time in milliseconds taken by this task to commit offsets
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: none
            hideFrom:
              graph: false
              legend: false
              tooltip: false
              viz: false
            lineInterpolation: linear
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: false
          links: []
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: ms
        overrides: []
      gridPos:
        h: 9
        w: 12
        x: 0
        "y": 28
      id: 116
      links: []
      options:
        legend:
          calcs:
          - max
          displayMode: table
          placement: bottom
          showLegend: true
        tooltip:
          mode: multi
          sort: desc
        tooltipOptions:
          mode: single
      pluginVersion: 10.2.2
      targets:
      - datasource:
          type: prometheus
          uid: prometheus
        editorMode: code
        expr: kafka_connect_connector_task_offset_commit_avg_time_ms{namespace=~"$namespace",pod=~"$pod",connector=~"$connector",task!=""}
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: '{{connector}}-{{task}}'
        range: true
        refId: A
      title: Offset commit Average Time
      type: timeseries
    - datasource: ${datasource}
      description: Average size of the batches processed by the connector
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: none
            hideFrom:
              graph: false
              legend: false
              tooltip: false
              viz: false
            lineInterpolation: linear
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: false
          links: []
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: decbytes
        overrides: []
      gridPos:
        h: 9
        w: 12
        x: 12
        "y": 28
      id: 114
      links: []
      options:
        legend:
          calcs:
          - mean
          - lastNotNull
          - max
          displayMode: table
          placement: bottom
          showLegend: true
        tooltip:
          mode: multi
          sort: none
        tooltipOptions:
          mode: single
      pluginVersion: 10.2.2
      targets:
      - datasource:
          type: prometheus
          uid: prometheus
        editorMode: code
        expr: kafka_connect_connector_task_batch_size_avg{namespace=~"$namespace",pod=~"$pod",connector=~"$connector",task!=""}
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: '{{connector}}-{{task}}'
        range: true
        refId: A
      title: Batch Size Avg
      type: timeseries
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 37
      id: 23763572003
      panels: []
      title: JVM Info
      type: row
    - datasource: ${datasource}
      description: JVM threads info
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: none
            hideFrom:
              graph: false
              legend: false
              tooltip: false
            lineInterpolation: linear
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: true
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides: []
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 38
      id: 23763572005
      options:
        graph: {}
        legend:
          calcs: []
          displayMode: table
          placement: bottom
        tooltipOptions:
          mode: single
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: jvm_threads_current{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        interval: ""
        intervalFactor: 5
        legendFormat: '{{ pod }}-current'
        refId: A
        step: 50
      - exemplar: true
        expr: ' jvm_threads_daemon{namespace=~"$namespace",pod=~"$pod"}'
        format: time_series
        interval: ""
        intervalFactor: 5
        legendFormat: '{{ pod }}-daemon'
        refId: B
        step: 50
      - exemplar: true
        expr: ' jvm_threads_peak{namespace=~"$namespace",pod=~"$pod"}'
        format: time_series
        interval: ""
        intervalFactor: 5
        legendFormat: '{{ pod }}-peak'
        refId: C
        step: 50
      - exemplar: true
        expr: ' jvm_threads_deadlocked{namespace=~"$namespace",pod=~"$pod"}'
        format: time_series
        interval: ""
        intervalFactor: 5
        legendFormat: '{{ pod }}-deadlocked'
        refId: D
        step: 50
      timeFrom: null
      timeShift: null
      title: JVM Threads used
      transformations: []
      type: timeseries
    - datasource: ${datasource}
      description: used non-heap memory in Mi
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: none
            hideFrom:
              graph: false
              legend: false
              tooltip: false
            lineInterpolation: linear
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: true
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: mbytes
        overrides:
        - __systemRef: hideSeriesFrom
          matcher:
            id: byNames
            options:
              mode: exclude
              names:
              - connect-cluster-2
              prefix: 'All except:'
              readOnly: true
          properties:
          - id: custom.hideFrom
            value:
              graph: true
              legend: false
              tooltip: false
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 38
      id: 23763572007
      options:
        graph: {}
        legend:
          calcs: []
          displayMode: list
          placement: bottom
        tooltipOptions:
          mode: single
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: jvm_memory_bytes_used{namespace=~"$namespace",pod=~"$pod",area="nonheap"}
          / 1024 / 1024
        instant: false
        interval: ""
        legendFormat: '{{ pod }}'
        refId: A
      timeFrom: null
      timeShift: null
      title: JVM memory used [non-heap]
      type: timeseries
    - datasource: ${datasource}
      description: used heap memory in Mi
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: none
            hideFrom:
              graph: false
              legend: false
              tooltip: false
            lineInterpolation: linear
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: true
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: mbytes
        overrides: []
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 46
      id: 23763572009
      options:
        graph: {}
        legend:
          calcs: []
          displayMode: list
          placement: bottom
        tooltipOptions:
          mode: single
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: jvm_memory_bytes_used{namespace=~"$namespace",pod=~"$pod",area="heap"} /
          1024 / 1024
        instant: false
        interval: ""
        legendFormat: '{{ pod }}'
        refId: A
      timeFrom: null
      timeShift: null
      title: JVM memory used [heap]
      type: timeseries
    - datasource: ${datasource}
      description: JVM pool usage info
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: none
            hideFrom:
              graph: false
              legend: false
              tooltip: false
            lineInterpolation: linear
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: false
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: mbytes
        overrides: []
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 46
      id: 23763572011
      options:
        graph: {}
        legend:
          calcs:
          - mean
          - lastNotNull
          - max
          - min
          - sum
          displayMode: table
          placement: bottom
        tooltipOptions:
          mode: single
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: jvm_memory_pool_bytes_used{namespace=~"$namespace",pod=~"$pod"} / 1024 /
          1024
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{ pool }}'
        refId: A
        step: 20
      timeFrom: null
      timeShift: null
      title: JVM pool bytes used
      type: timeseries
    - datasource: ${datasource}
      description: GC count increase
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: none
            hideFrom:
              graph: false
              legend: false
              tooltip: false
            lineInterpolation: linear
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: true
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: mbytes
        overrides: []
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 54
      id: 23763572013
      options:
        graph: {}
        legend:
          calcs: []
          displayMode: list
          placement: bottom
        tooltipOptions:
          mode: single
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: increase(jvm_gc_collection_seconds_count{namespace=~"$namespace",pod=~"$pod"}[5m])
        instant: false
        interval: ""
        legendFormat: '{{ pod }}-{{ gc }}'
        refId: A
      timeFrom: null
      timeShift: null
      title: GC count increase
      type: timeseries
    - datasource: ${datasource}
      description: GC time increase
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: none
            hideFrom:
              graph: false
              legend: false
              tooltip: false
            lineInterpolation: linear
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: true
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: mbytes
        overrides: []
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 54
      id: 23763572015
      options:
        graph: {}
        legend:
          calcs: []
          displayMode: list
          placement: bottom
        tooltipOptions:
          mode: single
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: increase(jvm_gc_collection_seconds_sum{namespace=~"$namespace",pod=~"$pod"}[5m])
        instant: false
        interval: ""
        legendFormat: '{{ pod }}-{{ gc }}'
        refId: A
      timeFrom: null
      timeShift: null
      title: GC time increase
      type: timeseries
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 62
      id: 210
      panels: []
      title: Source Metrics
      type: row
    - datasource: ${datasource}
      description: The average time in milliseconds taken by this task to poll for a batch
        of source records
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: none
            hideFrom:
              graph: false
              legend: false
              tooltip: false
              viz: false
            lineInterpolation: linear
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: false
          links: []
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: ms
        overrides: []
      gridPos:
        h: 9
        w: 12
        x: 0
        "y": 63
      id: 140
      links: []
      options:
        legend:
          calcs:
          - mean
          - lastNotNull
          - max
          displayMode: table
          placement: bottom
          showLegend: true
        tooltip:
          mode: multi
          sort: none
        tooltipOptions:
          mode: single
      pluginVersion: 10.2.2
      targets:
      - datasource:
          type: prometheus
          uid: prometheus
        editorMode: code
        exemplar: true
        expr: kafka_connect_source_task_poll_batch_avg_time_ms{namespace=~"$namespace",pod=~"$pod",connector=~"$connector",task!=""}
        format: time_series
        instant: false
        interval: ""
        intervalFactor: 1
        legendFormat: '{{connector}}-{{task}}'
        refId: A
      title: Poll Batch Average time
      type: timeseries
    - datasource: ${datasource}
      description: The total records produced/polled (before transformation) by this task
        belonging to the named source connector in this worker.
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: none
            hideFrom:
              graph: false
              legend: false
              tooltip: false
              viz: false
            lineInterpolation: linear
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: false
          links: []
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides: []
      gridPos:
        h: 9
        w: 12
        x: 12
        "y": 63
      id: 144
      links: []
      options:
        legend:
          calcs:
          - mean
          - lastNotNull
          - max
          displayMode: table
          placement: bottom
          showLegend: true
        tooltip:
          mode: multi
          sort: desc
        tooltipOptions:
          mode: single
      pluginVersion: 10.2.2
      targets:
      - datasource:
          type: prometheus
          uid: ${datasource}
        editorMode: code
        exemplar: false
        expr: kafka_connect_source_task_source_record_poll_total{namespace=~"$namespace",pod=~"$pod",connector=~"$connector",task!=""}
        format: time_series
        instant: false
        interval: ""
        intervalFactor: 1
        legendFormat: '{{connector}}-{{task}}'
        range: true
        refId: A
      title: Source Record Poll Total
      type: timeseries
    - datasource: ${datasource}
      description: Total records output from the transformations and written to Kafka
        for this task belonging to the named source connector in this worker. This is
        after transformations are applied and excludes any records filtered out by the
        transformations.
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: none
            hideFrom:
              graph: false
              legend: false
              tooltip: false
              viz: false
            lineInterpolation: linear
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: false
          links: []
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides: []
      gridPos:
        h: 9
        w: 12
        x: 0
        "y": 72
      id: 143
      links: []
      options:
        legend:
          calcs:
          - mean
          - lastNotNull
          - max
          displayMode: table
          placement: bottom
          showLegend: true
        tooltip:
          mode: multi
          sort: none
        tooltipOptions:
          mode: single
      pluginVersion: 10.2.2
      targets:
      - datasource:
          type: prometheus
          uid: prometheus
        editorMode: code
        exemplar: false
        expr: kafka_connect_source_task_source_record_write_total{namespace=~"$namespace",pod=~"$pod",connector=~"$connector",task!=""}
        format: time_series
        instant: false
        interval: ""
        intervalFactor: 1
        legendFormat: '{{connector}}-{{task}}'
        range: true
        refId: A
      title: Source Record Write Total
      type: timeseries
    - datasource: ${datasource}
      description: The average number of records that have been produced by this task
        but not yet completely written to Kafka.
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: none
            hideFrom:
              graph: false
              legend: false
              tooltip: false
              viz: false
            lineInterpolation: linear
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: false
          links: []
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides: []
      gridPos:
        h: 9
        w: 12
        x: 12
        "y": 72
      id: 142
      links: []
      options:
        legend:
          calcs:
          - mean
          - lastNotNull
          - max
          displayMode: table
          placement: bottom
          showLegend: true
        tooltip:
          mode: multi
          sort: none
        tooltipOptions:
          mode: single
      pluginVersion: 10.2.2
      targets:
      - datasource:
          type: prometheus
          uid: prometheus
        disableTextWrap: false
        editorMode: builder
        exemplar: true
        expr: avg by(connector, task) (kafka_connect_source_task_source_record_active_count{namespace=~"$namespace",pod=~"$pod",
          connector=~"$connector", task!=""})
        format: time_series
        fullMetaSearch: false
        includeNullMetadata: true
        instant: false
        interval: ""
        intervalFactor: 1
        legendFormat: '{{connector}}-{{task}}'
        refId: A
        useBackend: false
      title: Source Record Active Count average
      type: timeseries
    - datasource: ${datasource}
      description: The maximum time in milliseconds taken by this task to poll for a batch
        of source records
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: none
            hideFrom:
              graph: false
              legend: false
              tooltip: false
              viz: false
            lineInterpolation: linear
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: false
          links: []
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: ms
        overrides: []
      gridPos:
        h: 9
        w: 12
        x: 0
        "y": 81
      id: 141
      links: []
      options:
        legend:
          calcs:
          - mean
          - lastNotNull
          - max
          displayMode: table
          placement: bottom
          showLegend: true
        tooltip:
          mode: multi
          sort: desc
        tooltipOptions:
          mode: single
      pluginVersion: 10.2.2
      targets:
      - datasource:
          type: prometheus
          uid: prometheus
        expr: kafka_connect_source_task_poll_batch_max_time_ms{namespace=~"$namespace",pod=~"$pod",connector=~"$connector",task!=""}
        format: time_series
        hide: false
        instant: false
        interval: ""
        intervalFactor: 1
        legendFormat: '{{connector}}-{{task}}'
        refId: A
      title: Poll Batch Max time
      type: timeseries
    - datasource: ${datasource}
      description: The maximum number of records that have been produced by this task
        but not yet completely written to Kafka.
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: none
            hideFrom:
              graph: false
              legend: false
              tooltip: false
              viz: false
            lineInterpolation: linear
            lineStyle:
              fill: solid
            lineWidth: 2
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: auto
            spanNulls: false
          links: []
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - __systemRef: hideSeriesFrom
          matcher:
            id: byNames
            options:
              mode: exclude
              names:
              - '-'
              prefix: 'All except:'
              readOnly: true
          properties:
          - id: custom.hideFrom
            value:
              legend: false
              tooltip: false
              viz: false
      gridPos:
        h: 9
        w: 12
        x: 12
        "y": 81
      id: 145
      links: []
      options:
        legend:
          calcs:
          - mean
          - lastNotNull
          - max
          displayMode: table
          placement: bottom
          showLegend: true
        tooltip:
          mode: multi
          sort: none
        tooltipOptions:
          mode: single
      pluginVersion: 10.2.2
      targets:
      - datasource:
          type: prometheus
          uid: prometheus
        disableTextWrap: false
        editorMode: builder
        exemplar: false
        expr: max by(connector, task) (kafka_connect_source_task_source_record_active_count{namespace=~"$namespace",pod=~"$pod",
          connector=~"$connector", task!=""})
        format: time_series
        fullMetaSearch: false
        includeNullMetadata: true
        instant: false
        interval: ""
        intervalFactor: 1
        legendFormat: '{{connector}}-{{task}}'
        range: true
        refId: A
        useBackend: false
      title: Source Record Active Count max
      type: timeseries
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 90
      id: 211
      panels: []
      title: Sink Metrics
      type: row
    - datasource: ${datasource}
      description: The average time in milliseconds taken by this task to put a batch
        of sinks records
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: none
            hideFrom:
              graph: false
              legend: false
              tooltip: false
              viz: false
            lineInterpolation: linear
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: false
          links: []
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: ms
        overrides: []
      gridPos:
        h: 9
        w: 12
        x: 0
        "y": 91
      id: 136
      links: []
      options:
        legend:
          calcs:
          - lastNotNull
          - min
          - max
          displayMode: table
          placement: bottom
          showLegend: true
          sortBy: Name
          sortDesc: false
        tooltip:
          mode: multi
          sort: desc
        tooltipOptions:
          mode: single
      pluginVersion: 10.2.2
      targets:
      - datasource:
          type: prometheus
          uid: prometheus
        editorMode: code
        expr: kafka_connect_sink_task_put_batch_avg_time_ms{namespace=~"$namespace",pod=~"$pod",connector=~"$connector",task!=""}
        format: time_series
        hide: false
        instant: false
        interval: ""
        intervalFactor: 1
        legendFormat: '{{connector}}-{{task}}'
        refId: A
      title: Put Batch Average time
      type: timeseries
    - datasource: ${datasource}
      description: The maximum time in milliseconds taken by this task to put a batch
        of sinks records
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: none
            hideFrom:
              graph: false
              legend: false
              tooltip: false
              viz: false
            lineInterpolation: linear
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: false
          links: []
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: ms
        overrides: []
      gridPos:
        h: 9
        w: 12
        x: 12
        "y": 91
      id: 137
      links: []
      options:
        legend:
          calcs:
          - lastNotNull
          - min
          - max
          displayMode: table
          placement: bottom
          showLegend: true
        tooltip:
          mode: multi
          sort: desc
        tooltipOptions:
          mode: single
      pluginVersion: 10.2.2
      targets:
      - datasource:
          type: prometheus
          uid: prometheus
        expr: kafka_connect_sink_task_put_batch_max_time_ms{namespace=~"$namespace",pod=~"$pod",connector=~"$connector",task!=""}
        format: time_series
        hide: false
        instant: false
        interval: ""
        intervalFactor: 1
        legendFormat: '{{connector}}-{{task}}'
        refId: A
      title: Put Batch Max time
      type: timeseries
    - datasource: ${datasource}
      description: The number of topic partitions assigned to this task belonging to the
        named sink connector in this worker.
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            filterable: false
          mappings:
          - from: ""
            id: 1
            text: ""
            to: ""
            type: 1
            value: ""
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: Field
          properties:
          - id: displayName
            value: Sink Task Name
      gridPos:
        h: 9
        w: 12
        x: 0
        "y": 100
      id: 135
      links: []
      options:
        showHeader: true
      pluginVersion: 7.5.5
      targets:
      - datasource:
          type: prometheus
          uid: prometheus
        editorMode: builder
        exemplar: true
        expr: kafka_connect_sink_task_partition_count{namespace=~"$namespace",pod=~"$pod",connector=~"$connector",task!=""}
        format: time_series
        instant: false
        interval: ""
        intervalFactor: 1
        legendFormat: '{{connector}}-{{task}}'
        refId: A
      timeFrom: null
      timeShift: null
      title: Partition Count
      transformations:
      - id: reduce
        options:
          reducers:
          - lastNotNull
      type: table
    - datasource: ${datasource}
      description: The total record send from kafka
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            filterable: false
          links: []
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: none
        overrides:
        - matcher:
            id: byName
            options: Field
          properties:
          - id: displayName
            value: Sink Task Name
      gridPos:
        h: 9
        w: 12
        x: 12
        "y": 100
      id: 249
      links: []
      options:
        showHeader: true
      pluginVersion: 7.5.5
      targets:
      - datasource:
          type: prometheus
          uid: prometheus
        disableTextWrap: false
        editorMode: code
        exemplar: true
        expr: kafka_connect_sink_task_sink_record_send_total{namespace=~"$namespace",pod=~"$pod",connector=~"$connector",task!=""}
        format: time_series
        fullMetaSearch: false
        hide: false
        includeNullMetadata: true
        instant: false
        interval: ""
        intervalFactor: 1
        legendFormat: '{{connector}}-{{task}}'
        refId: A
        useBackend: false
      title: Record Send Total
      transformations:
      - id: reduce
        options:
          reducers:
          - lastNotNull
      type: table
    - datasource: ${datasource}
      description: The total record read from kafka
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            filterable: false
          links: []
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: none
        overrides:
        - matcher:
            id: byName
            options: Field
          properties:
          - id: displayName
            value: Sink Task Name
      gridPos:
        h: 9
        w: 12
        x: 0
        "y": 109
      id: 247
      links: []
      options:
        showHeader: true
      pluginVersion: 7.5.5
      targets:
      - datasource:
          type: prometheus
          uid: prometheus
        disableTextWrap: false
        editorMode: code
        exemplar: false
        expr: kafka_connect_sink_task_sink_record_read_total{namespace=~"$namespace",pod=~"$pod",
          connector=~"$connector",task!=""}
        format: time_series
        fullMetaSearch: false
        hide: false
        includeNullMetadata: true
        instant: false
        interval: ""
        intervalFactor: 1
        legendFormat: '{{connector}}-{{task}}'
        range: true
        refId: A
        useBackend: false
      title: Record Read Total
      transformations:
      - id: reduce
        options:
          reducers:
          - lastNotNull
      type: table
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 118
      id: 149
      panels: []
      title: Task Error Metrics
      type: row
    - datasource: ${datasource}
      description: Total number of failures seen by task
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: none
            hideFrom:
              graph: false
              legend: false
              tooltip: false
            lineInterpolation: linear
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: true
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides: []
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 119
      id: 203
      links: []
      options:
        graph: {}
        legend:
          calcs: []
          displayMode: list
          placement: bottom
        tooltipOptions:
          mode: single
      pluginVersion: 7.5.5
      targets:
      - datasource:
          type: prometheus
          uid: prometheus
        editorMode: code
        exemplar: true
        expr: kafka_connect_task_error_total_record_failures{namespace=~"$namespace",pod=~"$pod",connector=~"$connector",task!=""}
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: '{{connector}}-{{task}}'
        range: true
        refId: A
      timeFrom: null
      timeShift: null
      title: Total record failures
      type: timeseries
    - datasource: ${datasource}
      description: Number of produce requests to the dead letter queue
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: none
            hideFrom:
              graph: false
              legend: false
              tooltip: false
              viz: false
            lineInterpolation: linear
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: false
          decimals: 0
          links: []
          mappings: []
          min: 0
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: none
        overrides: []
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 119
      id: 204
      links: []
      options:
        legend:
          calcs:
          - mean
          - lastNotNull
          - max
          displayMode: table
          placement: bottom
          showLegend: true
        tooltip:
          mode: multi
          sort: none
        tooltipOptions:
          mode: single
      pluginVersion: 7.5.5
      targets:
      - datasource:
          type: prometheus
          uid: prometheus
        editorMode: code
        expr: kafka_connect_task_error_deadletterqueue_produce_requests{namespace=~"$namespace",pod=~"$pod",connector=~"$connector",task!=""}
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: '{{connector}}-{{task}}'
        range: true
        refId: A
      title: Dead letter queue Produce requests
      type: timeseries
    - datasource: ${datasource}
      description: Number of produce failures to the dead letter queue
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: none
            hideFrom:
              graph: false
              legend: false
              tooltip: false
              viz: false
            lineInterpolation: linear
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: false
          decimals: 0
          links: []
          mappings: []
          min: 0
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: none
        overrides: []
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 127
      id: 251
      links: []
      options:
        legend:
          calcs:
          - mean
          - lastNotNull
          - max
          displayMode: table
          placement: bottom
          showLegend: true
        tooltip:
          mode: multi
          sort: none
        tooltipOptions:
          mode: single
      pluginVersion: 10.2.2
      targets:
      - datasource:
          type: prometheus
          uid: prometheus
        disableTextWrap: false
        editorMode: code
        expr: kafka_connect_task_error_deadletterqueue_produce_failures{namespace=~"$namespace",pod=~"$pod",
          connector=~"$connector",task!=""}
        format: time_series
        fullMetaSearch: false
        includeNullMetadata: true
        interval: ""
        intervalFactor: 1
        legendFormat: '{{connector}}-{{task}}'
        range: true
        refId: A
        useBackend: false
      title: Dead letter queue Produce failures
      type: timeseries
    - datasource: ${datasource}
      description: Total number of records skipped by task
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: none
            hideFrom:
              graph: false
              legend: false
              tooltip: false
              viz: false
            lineInterpolation: linear
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: false
          decimals: 0
          links: []
          mappings: []
          min: 0
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: none
        overrides: []
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 127
      id: 206
      links: []
      options:
        legend:
          calcs:
          - mean
          - lastNotNull
          - max
          displayMode: table
          placement: bottom
          showLegend: true
        tooltip:
          mode: multi
          sort: none
        tooltipOptions:
          mode: single
      pluginVersion: 10.2.2
      targets:
      - datasource:
          type: prometheus
          uid: prometheus
        editorMode: code
        expr: kafka_connect_task_error_total_records_skipped{namespace=~"$namespace",pod=~"$pod",connector=~"$connector",task!=""}
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: '{{connector}}-{{task}}'
        range: true
        refId: A
      title: Total record skipped
      type: timeseries
    - datasource: ${datasource}
      description: Total number of errors seen by task
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 0
            gradientMode: none
            hideFrom:
              graph: false
              legend: false
              tooltip: false
              viz: false
            lineInterpolation: linear
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: auto
            spanNulls: false
          decimals: 0
          links: []
          mappings: []
          min: 0
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: none
        overrides: []
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 135
      id: 205
      links: []
      options:
        legend:
          calcs:
          - lastNotNull
          - max
          displayMode: table
          placement: bottom
          showLegend: true
        tooltip:
          mode: single
          sort: none
        tooltipOptions:
          mode: single
      pluginVersion: 10.2.2
      targets:
      - datasource:
          type: prometheus
          uid: prometheus
        editorMode: code
        expr: kafka_connect_task_error_total_record_errors{namespace=~"$namespace",pod=~"$pod",connector=~"$connector",task!=""}
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: '{{connector}}-{{task}}'
        range: true
        refId: A
      title: Total record errors
      type: timeseries
    - datasource: ${datasource}
      description: The number of messages that was logged into either the dead letter
        queue or with Log4j
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: none
            hideFrom:
              graph: false
              legend: false
              tooltip: false
            lineInterpolation: linear
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: true
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: none
        overrides: []
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 135
      id: 208
      links: []
      options:
        graph: {}
        legend:
          calcs: []
          displayMode: list
          placement: bottom
        tooltipOptions:
          mode: single
      pluginVersion: 7.5.5
      targets:
      - datasource:
          type: prometheus
          uid: prometheus
        editorMode: code
        expr: kafka_connect_task_error_total_errors_logged{namespace=~"$namespace",pod=~"$pod",connector=~"$connector",task!=""}
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: '{{connector}}-{{task}}'
        range: true
        refId: A
      timeFrom: null
      timeShift: null
      title: Total errors logged
      type: timeseries
    - datasource: ${datasource}
      description: Total number of retries made by task
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: none
            hideFrom:
              graph: false
              legend: false
              tooltip: false
              viz: false
            lineInterpolation: linear
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: false
          decimals: 0
          links: []
          mappings: []
          min: 0
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: none
        overrides: []
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 143
      id: 207
      links: []
      options:
        legend:
          calcs:
          - mean
          - lastNotNull
          - max
          displayMode: table
          placement: bottom
          showLegend: true
        tooltip:
          mode: multi
          sort: none
        tooltipOptions:
          mode: single
      pluginVersion: 10.2.2
      targets:
      - datasource:
          type: prometheus
          uid: prometheus
        editorMode: code
        expr: kafka_connect_task_error_total_retries{namespace=~"$namespace",pod=~"$pod",connector=~"$connector",task!=""}
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: '{{connector}}-{{task}}'
        range: true
        refId: A
      title: Total retries
      type: timeseries
    refresh: 5s
    schemaVersion: 27
    style: dark
    tags:
    - kafka
    - kubedb
    - JMX exporter
    - kafka-connect
    - connectcluster
    - connector
    templating:
      list:
      - current:
          selected: false
          text: default
          value: default
        description: null
        error: null
        hide: 0
        includeAll: false
        label: null
        multi: false
        name: datasource
        options: []
        query: prometheus
        queryValue: ""
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: null
        current:
          selected: false
          text: demo
          value: demo
        datasource: null
        definition: label_values(kube_namespace_created,namespace)
        description: null
        error: null
        hide: 0
        includeAll: false
        label: null
        multi: false
        name: namespace
        options: []
        query:
          query: label_values(kube_namespace_created,namespace)
          refId: StandardVariableQuery
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text: connect-cluster
          value: connect-cluster
        datasource: null
        definition: label_values(kafka_kubedb_com_connectcluster_status_phase{namespace=~"$namespace"},app)
        description: null
        error: null
        hide: 0
        includeAll: false
        label: ConnectCluster
        multi: false
        name: app
        options: []
        query:
          query: label_values(kafka_kubedb_com_connectcluster_status_phase{namespace=~"$namespace"},app)
          refId: StandardVariableQuery
        refresh: 0
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: true
          tags: []
          text:
          - All
          value:
          - $__all
        datasource: null
        definition: label_values(kafka_connect_app_info{namespace=~"$namespace",pod=~"$app.+$"},pod)
        description: null
        error: null
        hide: 0
        includeAll: true
        label: null
        multi: true
        name: pod
        options: []
        query:
          query: label_values(kafka_connect_app_info{namespace=~"$namespace",pod=~"$app.+$"},pod)
          refId: StandardVariableQuery
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: true
          tags: []
          text:
          - All
          value:
          - $__all
        datasource: null
        definition: label_values(kafka_connect_connector_status{namespace=~"$namespace",pod=~"$pod"},connector)
        description: null
        error: null
        hide: 0
        includeAll: true
        label: null
        multi: true
        name: connector
        options: []
        query:
          query: label_values(kafka_connect_connector_status{namespace=~"$namespace",pod=~"$pod"},connector)
          refId: StandardVariableQuery
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-6h
      to: now
    timepicker:
      refresh_intervals:
      - 5s
      - 10s
      - 30s
      - 1m
      - 5m
      - 15m
      - 30m
      - 1h
      - 2h
      - 1d
      time_options:
      - 5m
      - 15m
      - 1h
      - 6h
      - 12h
      - 24h
      - 2d
      - 7d
      - 30d
    timezone: ""
    title: KubeDB / Kafka / ConnectCluster / Pod
    version: 32
  overwrite: true
  templatize:
    title: false
    datasource: false
---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-kafka-connectcluster-summary
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: ConnectCluster
    k8s.io/resource: connectclusters
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - builtIn: 1
        datasource: ${datasource}
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        target:
          limit: 100
          matchAny: false
          tags: []
          type: dashboard
        type: dashboard
    description: The dashboard is designed for KubeDB managed ConnectCluster
    editable: true
    gnetId: 9628
    graphTooltip: 0
    iteration: 1711605261005
    links: []
    panels:
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 0
      id: 136
      panels: []
      title: General Info
      type: row
    - datasource: ${datasource}
      description: Represent connect cluster status
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          mappings:
          - options:
              Critical:
                color: dark-yellow
                index: 1
              DataRestoring:
                color: dark-red
                index: 4
              Halted:
                color: dark-red
                index: 5
              NotReady:
                color: dark-red
                index: 2
              Provisioning:
                color: text
                index: 3
              Ready:
                color: semi-dark-green
                index: 0
            type: value
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 8
        x: 0
        "y": 1
      id: 78
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: /^phase$/
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kafka_kubedb_com_connectcluster_status_phase{namespace="$namespace", app="$app"}
          == 1
        format: table
        instant: true
        interval: ""
        legendFormat: '{{phase}}'
        refId: A
      title: Connect Cluster Status
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      description: ConnectCluster Version
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: palette-classic
          mappings:
          - options:
              match: "null"
              result:
                index: 0
                text: N/A
            type: special
          noValue: N/A
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 8
        x: 8
        "y": 1
      id: 36
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - mean
          fields: ""
          values: false
        text:
          valueSize: 50
        textMode: name
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kafka_kubedb_com_connectcluster_info{namespace="$namespace", app="$app"}
        format: time_series
        instant: true
        interval: ""
        intervalFactor: 1
        legendFormat: '{{ version }}'
        refId: A
      title: Version
      type: stat
    - datasource: ${datasource}
      description: When this option is enabled, connections attempted using insecure transport
        will be rejected.
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings:
          - from: ""
            id: 1
            text: "True"
            to: ""
            type: 1
            value: "1"
          - from: ""
            id: 2
            text: "False"
            to: ""
            type: 1
            value: "0"
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 16
        "y": 1
      id: 82
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: value
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kafka_kubedb_com_connectcluster_info{namespace="$namespace", app="$app"}
        format: time_series
        instant: true
        interval: ""
        legendFormat: '{{requireSSL}}'
        refId: A
      timeFrom: null
      timeShift: null
      title: Require Secure Transport
      type: stat
    - datasource: ${datasource}
      description: KubeDB Database Resource deletionPolicy
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          mappings:
          - options:
              Delete:
                color: yellow
                index: 1
              DoNotTerminate:
                color: green
                index: 2
              Halt:
                color: blue
                index: 3
              WipeOut:
                color: dark-red
                index: 0
            type: value
          thresholds:
            mode: absolute
            steps:
            - color: text
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 20
        "y": 1
      id: 84
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: /^deletionPolicy$/
          values: false
        text: {}
        textMode: value
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kafka_kubedb_com_connectcluster_info{namespace="$namespace", app="$app"}
        format: table
        instant: true
        interval: ""
        legendFormat: '{{deletionPolicy}}'
        refId: A
      title: Deletion Policy
      type: stat
    - datasource: ${datasource}
      description: Total node count of connect cluster
      fieldConfig:
        defaults:
          color:
            fixedColor: green
            mode: fixed
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 0
        "y": 4
      id: 76
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kafka_kubedb_com_connectcluster_replicas{namespace="$namespace",app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Total Nodes
      type: stat
    - datasource: ${datasource}
      description: Initial Requested CPU amount by ConnectCluster Instance
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          min: 0
          thresholds:
            mode: percentage
            steps:
            - color: green
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 4
        "y": 4
      id: 92
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kafka_kubedb_com_connectcluster_resource_request_cpu{namespace="$namespace",
          app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: CPU Request (Core)
      type: stat
    - datasource: ${datasource}
      description: CPU Limit in core by ConnectCluster instance
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 8
        "y": 4
      id: 114
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kafka_kubedb_com_connectcluster_resource_limit_cpu{namespace="$namespace",
          app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: CPU Limit (Core)
      type: stat
    - datasource: ${datasource}
      description: Initial Requested Memory amount by ConnectCluster Instance
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          min: 0
          thresholds:
            mode: percentage
            steps:
            - color: green
              value: null
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 12
        "y": 4
      id: 94
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kafka_kubedb_com_connectcluster_resource_request_memory{namespace="$namespace",
          app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Memory Request
      type: stat
    - datasource: ${datasource}
      description: KubeDB ConnectCluster Total Memory Limit
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 16
        "y": 4
      id: 116
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kafka_kubedb_com_connectcluster_resource_limit_memory{namespace="$namespace",
          app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Memory Limit
      type: stat
    - datasource: ${datasource}
      description: KubeDB Kafka that connect cluster is using
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          mappings:
          - options:
              Delete:
                color: yellow
                index: 1
              DoNotTerminate:
                color: green
                index: 2
              Halt:
                color: blue
                index: 3
              WipeOut:
                color: dark-red
                index: 0
            type: value
          thresholds:
            mode: absolute
            steps:
            - color: text
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 20
        "y": 4
      id: 153
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: /^kafkaRef$/
          values: false
        text: {}
        textMode: value
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kafka_kubedb_com_connectcluster_info{namespace="$namespace", app="$app"}
        format: table
        instant: true
        interval: ""
        legendFormat: '{{kafkaRef}}'
        refId: A
      title: Kafka Reference
      type: stat
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 14
      id: 138
      panels: []
      title: CPU Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: CPU Usage by ConnectCluster pods
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 15
      hiddenSeries: false
      id: 98
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(sum by (namespace, pod, container) (irate(container_cpu_usage_seconds_total{image!="",job="kubelet",metrics_path="/metrics/cadvisor",namespace="$namespace",
          pod=~"$app-.+$"}[5m])) * on (namespace, pod) group_left (node) topk by (namespace,
          pod) (1, max by (namespace, pod, node) (kube_pod_info{node!="",namespace="$namespace",
          pod=~"$app-.+$"}))) by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: CPU Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      description: CPU Quote information in details
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            displayMode: auto
            filterable: false
          decimals: 2
          displayName: ""
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: Time
          properties:
          - id: displayName
            value: Time
          - id: custom.align
            value: null
          - id: custom.width
            value: null
        - matcher:
            id: byName
            options: 'Value #A'
          properties:
          - id: displayName
            value: CPU Usage
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #B'
          properties:
          - id: displayName
            value: CPU Requests
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #C'
          properties:
          - id: displayName
            value: CPU Requests %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #D'
          properties:
          - id: displayName
            value: CPU Limits
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #E'
          properties:
          - id: displayName
            value: CPU Limits %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: pod
          properties:
          - id: displayName
            value: Pod
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: links
            value:
            - targetBlank: false
              title: Drill down
              url: ./d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-pod=$__cell
          - id: custom.align
            value: null
      gridPos:
        h: 6
        w: 24
        x: 0
        "y": 28
      id: 122
      links: []
      options:
        showHeader: true
        sortBy:
        - desc: true
          displayName: CPU Usage
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: sum(sum by (namespace, pod, container) (irate(container_cpu_usage_seconds_total{image!="",job="kubelet",metrics_path="/metrics/cadvisor",namespace="$namespace",
          pod=~"$app-.+$"}[5m])) * on (namespace, pod) group_left (node) topk by (namespace,
          pod) (1, max by (namespace, pod, node) (kube_pod_info{node!="",namespace="$namespace",
          pod=~"$app-.+$"}))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
        step: 10
      - exemplar: true
        expr: sum(kube_pod_container_resource_requests{job="kube-state-metrics",resource="cpu",namespace="$namespace",
          pod=~"$app-.+$"} * on (namespace,pod) group_left () max by (namespace,pod) ((kube_pod_status_phase{phase=~"Pending|Running"}
          == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: B
        step: 10
      - exemplar: true
        expr: sum(sum by (namespace, pod, container) (irate(container_cpu_usage_seconds_total{image!="",job="kubelet",metrics_path="/metrics/cadvisor",namespace="$namespace",
          pod=~"$app-.+$"}[5m])) * on (namespace, pod) group_left (node) topk by (namespace,
          pod) (1, max by (namespace, pod, node) (kube_pod_info{node!="",namespace="$namespace",
          pod=~"$app-.+$"}))) by (pod) / sum(kube_pod_container_resource_requests{job="kube-state-metrics",resource="cpu",namespace="$namespace",
          pod=~"$app-.+$"} * on (namespace,pod) group_left () max by (namespace,pod) ((kube_pod_status_phase{phase=~"Pending|Running"}
          == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: C
        step: 10
      - exemplar: true
        expr: sum(kube_pod_container_resource_limits{job="kube-state-metrics",resource="cpu",namespace="$namespace",
          pod=~"$app-.+$"} * on (namespace,pod) group_left() max by (namespace, pod) ((kube_pod_status_phase{phase=~"Pending|Running"}
          == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: D
        step: 10
      - exemplar: true
        expr: sum(sum by (namespace, pod, container) (irate(container_cpu_usage_seconds_total{image!="",job="kubelet",metrics_path="/metrics/cadvisor",namespace="$namespace",
          pod=~"$app-.+$"}[5m])) * on (namespace, pod) group_left (node) topk by (namespace,
          pod) (1, max by (namespace, pod, node) (kube_pod_info{node!="",namespace="$namespace",
          pod=~"$app-.+$"}))) by (pod) / sum(kube_pod_container_resource_limits{job="kube-state-metrics",resource="cpu",namespace="$namespace",
          pod=~"$app-.+$"} * on (namespace,pod) group_left() max by (namespace, pod) ((kube_pod_status_phase{phase=~"Pending|Running"}
          == 1))) by (pod)
        format: table
        hide: false
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: E
        step: 10
      timeFrom: null
      timeShift: null
      title: CPU Quota
      transformations:
      - id: merge
        options:
          reducers: []
      type: table
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 34
      id: 140
      panels: []
      title: Memory Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Memory Usage by ConnectCluster pods
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 35
      hiddenSeries: false
      id: 100
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{image!="",job="kubelet",metrics_path="/metrics/cadvisor",namespace="$namespace",
          pod=~"$app-.+$",container!=""} * on (namespace, pod) group_left (node) topk
          by (namespace, pod) (1, max by (namespace, pod, node) (kube_pod_info{node!=""})))
          by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Memory Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      description: Memory Quota for ConnectCluster pods
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            displayMode: auto
            filterable: false
          decimals: 2
          displayName: ""
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: Time
          properties:
          - id: displayName
            value: Time
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #A'
          properties:
          - id: displayName
            value: Memory Usage
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #B'
          properties:
          - id: displayName
            value: Memory Requests
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #C'
          properties:
          - id: displayName
            value: Memory Requests %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #D'
          properties:
          - id: displayName
            value: Memory Limits
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #E'
          properties:
          - id: displayName
            value: Memory Limits %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #F'
          properties:
          - id: displayName
            value: Memory Usage (RSS)
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #G'
          properties:
          - id: displayName
            value: Memory Usage (Cache)
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #H'
          properties:
          - id: displayName
            value: Memory Usage (Swap)
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: pod
          properties:
          - id: displayName
            value: Pod
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: links
            value:
            - targetBlank: false
              title: Drill down
              url: ./d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-pod=$__cell
          - id: custom.align
            value: null
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 50
      id: 124
      links: []
      options:
        showHeader: true
        sortBy:
        - desc: true
          displayName: Memory Usage
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{namespace="$namespace",pod=~"$app-.+$",container!="",
          image!=""}) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
        step: 10
      - exemplar: true
        expr: sum (kube_pod_container_resource_requests{job="kube-state-metrics",resource="memory",namespace="$namespace",pod=~"$app-.+$"}
          * on (namespace, pod, cluster) group_left () max by (namespace, pod, cluster)
          ((kube_pod_status_phase{phase=~"Pending|Running"} == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: B
        step: 10
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{namespace="$namespace",pod=~"$app-.+$",container!="",
          image!=""}) by (pod) / sum(kube_pod_container_resource_requests{job="kube-state-metrics",resource="memory",namespace="$namespace",pod=~"$app-.+$"}
          * on (namespace, pod, cluster) group_left () max by (namespace, pod, cluster)
          ((kube_pod_status_phase{phase=~"Pending|Running"} == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: C
        step: 10
      - exemplar: true
        expr: sum(kube_pod_container_resource_limits{job="kube-state-metrics",resource="memory",namespace="$namespace",pod=~"$app-.+$"}
          * on (namespace, pod, cluster) group_left () max by (namespace, pod, cluster)
          ((kube_pod_status_phase{phase=~"Pending|Running"} == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: D
        step: 10
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{namespace="$namespace",pod=~"$app-.+$",container!="",
          image!=""}) by (pod) / sum(kube_pod_container_resource_limits{job="kube-state-metrics",resource="memory",namespace="$namespace",pod=~"$app-.+$"}
          * on (namespace, pod, cluster) group_left () max by (namespace, pod, cluster)
          ((kube_pod_status_phase{phase=~"Pending|Running"} == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: E
        step: 10
      - exemplar: true
        expr: sum(container_memory_rss{namespace="$namespace",pod=~"$app-.+$",container!=""})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: F
        step: 10
      - exemplar: true
        expr: sum(container_memory_cache{namespace="$namespace",pod=~"$app-.+$",container!=""})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: G
        step: 10
      - exemplar: true
        expr: sum(container_memory_swap{namespace="$namespace",pod=~"$app-.+$",container!=""})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: H
        step: 10
      timeFrom: null
      timeShift: null
      title: Memory Quota
      transformations:
      - id: merge
        options:
          reducers: []
      type: table
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 57
      id: 142
      panels: []
      title: Storage Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Disk usage by ConnectCluster pods
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 9
        w: 12
        x: 0
        "y": 58
      hiddenSeries: false
      id: 112
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: avg(container_blkio_device_usage_total{namespace="$namespace", pod=~"$app-.+$"})
          by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Disk Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: System Disk Usage Information
      fieldConfig:
        defaults:
          unit: none
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 9
        w: 12
        x: 12
        "y": 58
      hiddenSeries: false
      id: 108
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(rate(container_fs_writes_total{namespace="$namespace", pod=~"$app-.+$"}[5m]))
          by (pod)
        instant: false
        interval: ""
        intervalFactor: 1
        legendFormat: '{{pod}}-disk-write'
        refId: A
      - exemplar: true
        expr: sum(rate(container_fs_reads_total{namespace="$namespace", pod=~"$app-.+$"}[5m]))
          by (pod)
        hide: false
        instant: false
        interval: ""
        legendFormat: '{{pod}}-disk-read'
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Disk R/W Info
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: none
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: ""
      fieldConfig:
        defaults:
          unit: short
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 67
      hiddenSeries: false
      id: 126
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: ceil(sum by(pod) (rate(container_fs_reads_total{container!="", namespace=~"$namespace",
          pod=~"$app-.+$"}[5m]) + rate(container_fs_writes_total{container!="" ,namespace=~"$namespace",
          pod=~"$app-.+$"}[5m])))
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: IOPS (Reads+Writes)
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: Bps
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 67
      hiddenSeries: false
      id: 128
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_bytes_total{container!="", namespace=~"$namespace",
          pod=~"$app-.+$"}[5m]) + rate(container_fs_writes_bytes_total{container!="" ,namespace=~"$namespace",
          pod=~"$app-.+$"}[5m]))
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: ThroughPut (Read+Write)
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: Bps
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            displayMode: auto
            filterable: false
          decimals: 2
          displayName: ""
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: Time
          properties:
          - id: displayName
            value: Time
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #A'
          properties:
          - id: displayName
            value: IOPS(Reads)
          - id: unit
            value: short
          - id: decimals
            value: -1
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #B'
          properties:
          - id: displayName
            value: IOPS(Writes)
          - id: unit
            value: short
          - id: decimals
            value: -1
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #C'
          properties:
          - id: displayName
            value: IOPS(Reads + Writes)
          - id: unit
            value: short
          - id: decimals
            value: -1
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #D'
          properties:
          - id: displayName
            value: Throughput(Read)
          - id: unit
            value: Bps
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #E'
          properties:
          - id: displayName
            value: Throughput(Write)
          - id: unit
            value: Bps
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #F'
          properties:
          - id: displayName
            value: Throughput(Read + Write)
          - id: unit
            value: Bps
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: pod
          properties:
          - id: displayName
            value: Pod
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: links
            value:
            - targetBlank: false
              title: Drill down to pods
              url: ./d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-pod=$__cell
          - id: custom.align
            value: null
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 74
      id: 130
      links: []
      options:
        showHeader: true
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_total{container!="", pod=~"$app-.+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_writes_total{container!="", pod=~"$app-.+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: B
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_total{container!="", pod=~"$app-.+$",namespace=~"$namespace"}[5m])
          + rate(container_fs_writes_total{container!="",pod=~"$app-.+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: C
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_bytes_total{container!="", pod=~"$app-.+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: D
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_writes_bytes_total{container!="", pod=~"$app-.+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: E
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_bytes_total{container!="", pod=~"$app-.+$",namespace=~"$namespace"}[5m])
          + rate(container_fs_writes_bytes_total{container!="",pod=~"$app-.+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: F
        step: 10
      timeFrom: null
      timeShift: null
      title: Current Storage IO
      transformations:
      - id: merge
        options:
          reducers: []
      type: table
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 81
      id: 144
      panels: []
      title: Network Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 82
      hiddenSeries: false
      id: 132
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(irate(container_network_receive_bytes_total{namespace=~"$namespace",
          pod=~"$app-.+$"}[$__rate_interval])) by (pod)
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Receive Bandwidth
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: Bps
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: Bps
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 82
      hiddenSeries: false
      id: 134
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(irate(container_network_transmit_bytes_total{namespace=~"$namespace",
          pod=~"$app-.+$"}[$__rate_interval])) by (pod)
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Transmit Bandwidth
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: Bps
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    refresh: false
    schemaVersion: 27
    style: dark
    tags:
    - db
    - stats
    - kubedb
    - kafka
    - connectcluster
    templating:
      list:
      - current:
          selected: false
          text: default
          value: default
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Datasource
        multi: false
        name: datasource
        options: []
        query: prometheus
        queryValue: ""
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: '".+"'
        current:
          selected: false
          text: demo
          value: demo
        datasource: ${datasource}
        definition: ""
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Namespace
        multi: false
        name: namespace
        options: []
        query:
          query: label_values(kube_namespace_created,namespace)
          refId: Prometheus-namespace-Variable-Query
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text: connect-cluster
          value: connect-cluster
        datasource: ${datasource}
        definition: label_values(kafka_kubedb_com_connectcluster_info{namespace=~"$namespace"},app)
        description: null
        error: null
        hide: 0
        includeAll: false
        label: ConnectCluster
        multi: false
        name: app
        options: []
        query:
          query: label_values(kafka_kubedb_com_connectcluster_info{namespace=~"$namespace"},app)
          refId: StandardVariableQuery
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-6h
      to: now
    timepicker:
      refresh_intervals:
      - 5s
      - 10s
      - 30s
      - 1m
      - 5m
      - 15m
      - 30m
      - 1h
      - 2h
      - 1d
      time_options:
      - 5m
      - 15m
      - 1h
      - 6h
      - 12h
      - 24h
      - 2d
      - 7d
      - 30d
    timezone: ""
    title: KubeDB / Kafka / ConnectCluster / Summary
    version: 16
  overwrite: true
  templatize:
    title: false
    datasource: false
---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-druid-database
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: Druid
    k8s.io/resource: druids
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - builtIn: 1
        datasource: ${datasource}
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        type: dashboard
    description: KubeDB Managed Druid Grafana Dashboard that captures metrics emitted
      by Druid builtin prometheus exporter.
    editable: true
    gnetId: 12155
    graphTooltip: 0
    iteration: 1712296562063
    links: []
    panels:
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 0
      id: 24
      panels: []
      title: Druid Overview
      type: row
    - datasource: ${datasource}
      description: Metric indicating the druid service is up.
      fieldConfig:
        defaults:
          mappings:
          - from: ""
            id: 0
            text: UP
            to: ""
            type: 1
            value: "1"
          - from: ""
            id: 1
            text: Down
            to: ""
            type: 1
            value: "0"
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 0
            - color: dark-green
              value: 1
        overrides: []
      gridPos:
        h: 4
        w: 6
        x: 0
        "y": 1
      id: 48
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - mean
          fields: ""
          values: false
        text: {}
        textMode: value
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: min(druid_service_heartbeat{service="$app-stats", namespace="$namespace"})
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      timeFrom: null
      timeShift: null
      title: Druid Status
      type: stat
    - datasource: ${datasource}
      description: Indicator of connection status. 1 for connected, 0 for disconnected.
        Emitted once per monitor period.
      fieldConfig:
        defaults:
          mappings:
          - from: ""
            id: 0
            text: Connected
            to: ""
            type: 1
            value: "1"
          - from: ""
            id: 1
            text: Disconnected
            to: ""
            type: 1
            value: "0"
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 0
            - color: dark-green
              value: 1
        overrides: []
      gridPos:
        h: 4
        w: 7
        x: 6
        "y": 1
      id: 50
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - mean
          fields: ""
          values: false
        text: {}
        textMode: value
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: min(druid_zk_connected{service="$app-stats", namespace="$namespace"})
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      timeFrom: null
      timeShift: null
      title: ZooKeeper Connection
      type: stat
    - datasource: ${datasource}
      description: Number of total datasources
      fieldConfig:
        defaults:
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: white
              value: null
            - color: white
              value: 80
        overrides: []
      gridPos:
        h: 4
        w: 6
        x: 13
        "y": 1
      id: 4
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - mean
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: floor(count(count_values("dataSource", druid_segment_size{service="$app-stats",
          namespace="$namespace"})))
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
      timeFrom: null
      timeShift: null
      title: Total Datasources
      type: stat
    - datasource: ${datasource}
      description: Number of segments to load.
      fieldConfig:
        defaults:
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: white
              value: null
            - color: white
              value: 80
        overrides: []
      gridPos:
        h: 4
        w: 5
        x: 19
        "y": 1
      id: 28
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - mean
          fields: ""
          values: false
        text: {}
        textMode: value
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: ceil(sum(druid_segment_loadqueue_count{service="$app-stats", namespace="$namespace"}))
        interval: ""
        legendFormat: ""
        refId: A
      timeFrom: null
      timeShift: null
      title: Unloaded Segments
      type: stat
    - datasource: ${datasource}
      description: Number of task actions that were executed successfully during the emission
        period.
      fieldConfig:
        defaults:
          mappings:
          - from: ""
            id: 0
            text: ""
            to: ""
            type: 1
            value: ""
          thresholds:
            mode: absolute
            steps:
            - color: white
              value: null
        overrides: []
      gridPos:
        h: 4
        w: 7
        x: 0
        "y": 5
      id: 42
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - mean
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: count_over_time(druid_task_success_count_created{service="$app-stats", namespace="$namespace"}[$__range])
        interval: ""
        legendFormat: '{{task_status}}'
        refId: A
      timeFrom: null
      timeShift: null
      title: Sucess Tasks
      type: stat
    - datasource: ${datasource}
      description: Total size of used segments in all the data sources.
      fieldConfig:
        defaults:
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: white
              value: null
            - color: white
              value: 80
          unit: MiB
        overrides: []
      gridPos:
        h: 4
        w: 9
        x: 7
        "y": 5
      id: 5
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - mean
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: sum(druid_segment_size{service="$app-stats", namespace="$namespace"}) /
          (1024 * 1024)
        interval: ""
        intervalFactor: 1
        legendFormat: ""
        refId: A
      timeFrom: null
      timeShift: null
      title: Total Segment Size
      type: stat
    - datasource: ${datasource}
      description: Size in bytes of segments to load.
      fieldConfig:
        defaults:
          mappings:
          - from: ""
            id: 0
            text: test
            to: ""
            type: 1
            value: '#A'
          thresholds:
            mode: absolute
            steps:
            - color: white
              value: null
            - color: white
              value: 80
          unit: MiB
        overrides: []
      gridPos:
        h: 4
        w: 8
        x: 16
        "y": 5
      id: 30
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - mean
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: sum(druid_segment_loadqueue_size{service="$app-stats", namespace="$namespace"})
          / (1024 * 1024)
        interval: ""
        legendFormat: ""
        refId: A
      timeFrom: null
      timeShift: null
      title: Unloaded Segments Size
      type: stat
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 9
      id: 35
      panels: []
      title: JVM Overview
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Used memory
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 9
        w: 12
        x: 0
        "y": 10
      hiddenSeries: false
      id: 32
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: avg(increase(druid_jvm_mem_used{service="$app-stats", namespace="$namespace"}[$__range]))
          by (pod)
        interval: ""
        intervalFactor: 1
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: JVM Memory Used
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Pool used
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 9
        w: 12
        x: 12
        "y": 10
      hiddenSeries: false
      id: 33
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: avg(increase(druid_jvm_pool_used{service="$app-stats", namespace="$namespace"}[$__range]))
          by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: JVM Memory Pool
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      description: Bufferpool count
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 0
            gradientMode: none
            hideFrom:
              graph: false
              legend: false
              tooltip: false
              viz: false
            lineInterpolation: linear
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: auto
            spanNulls: false
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 19
      id: 46
      options:
        legend:
          calcs: []
          displayMode: list
          placement: bottom
          showLegend: true
        tooltip:
          mode: single
          sort: none
        tooltipOptions:
          mode: single
      targets:
      - datasource:
          type: prometheus
          uid: prometheusdata
        editorMode: builder
        exemplar: true
        expr: druid_jvm_bufferpool_count{bufferpoolName="direct", service="$app-stats",
          namespace="$namespace"}
        hide: false
        interval: ""
        legendFormat: '{{pod}}'
        range: true
        refId: E
      title: JVM Bufferpool Count
      type: timeseries
    - datasource: ${datasource}
      description: Count of CPU time in Nanoseconds spent on garbage collection.
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 2750
        overrides: []
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 19
      id: 52
      options:
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        showThresholdLabels: false
        showThresholdMarkers: true
        text: {}
      pluginVersion: 7.5.5
      targets:
      - datasource:
          type: prometheus
          uid: prometheusdata
        editorMode: builder
        exemplar: true
        expr: druid_jvm_gc_cpu_total{service="$app-stats", namespace="$namespace"}
        interval: ""
        legendFormat: '{{pod}}'
        range: true
        refId: A
      title: JVM GC Cpu Total
      type: gauge
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 27
      id: 20
      panels: []
      title: Druid Datasource Overview
      type: row
    - datasource: ${datasource}
      description: Total size of used segments.
      fieldConfig:
        defaults:
          mappings:
          - from: ""
            id: 0
            text: test
            to: ""
            type: 1
            value: '#A'
          thresholds:
            mode: absolute
            steps:
            - color: dark-blue
              value: null
          unit: bytes
        overrides: []
      gridPos:
        h: 7
        w: 9
        x: 0
        "y": 28
      id: 44
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - mean
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: sum(druid_segment_size{service="$app-stats", namespace="$namespace"})
        interval: ""
        legendFormat: ""
        refId: A
      timeFrom: null
      timeShift: null
      title: Datasource Size
      type: stat
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: ""
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 15
        x: 9
        "y": 28
      hiddenSeries: false
      id: 9
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(increase(druid_segment_size{service="$app-stats", namespace="$namespace"}[$__range]))
          by (dataSource)
        interval: ""
        legendFormat: '{{dataSource}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Datasource Size
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: decbytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 35
      id: 40
      panels: []
      title: Query Overview
      type: row
    - datasource: null
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: none
        overrides: []
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 36
      id: 37
      options:
        displayMode: gradient
        minVizHeight: 10
        minVizWidth: 0
        orientation: horizontal
        reduceOptions:
          calcs:
          - sum
          fields: ""
          values: false
        showUnfilled: true
        text: {}
      pluginVersion: 7.5.5
      targets:
      - datasource:
          type: prometheus
          uid: prometheusdata
        editorMode: builder
        expr: count by(le) (druid_query_time_bucket)
        format: heatmap
        legendFormat: '{{le}}'
        range: true
        refId: A
      title: Query Time Histogram (Seconds taken to complete a query)
      type: bargauge
    - datasource: null
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: none
        overrides: []
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 36
      id: 38
      options:
        displayMode: gradient
        minVizHeight: 10
        minVizWidth: 0
        orientation: horizontal
        reduceOptions:
          calcs:
          - sum
          fields: ""
          values: false
        showUnfilled: true
        text: {}
      pluginVersion: 7.5.5
      targets:
      - datasource:
          type: prometheus
          uid: prometheusdata
        editorMode: builder
        exemplar: false
        expr: count by(le) (druid_query_wait_time_bucket)
        format: heatmap
        instant: true
        legendFormat: '{{le}}'
        range: false
        refId: A
      title: Druid Query Wait Time Histogram (Seconds waiting for a segment to be scanned)
      transformations:
      - id: groupBy
        options:
          fields:
            "0.1":
              aggregations: []
            "0.5":
              aggregations: []
            "0.25":
              aggregations: []
            "0.75":
              aggregations: []
            "1.0":
              aggregations: []
      type: bargauge
    refresh: false
    schemaVersion: 27
    style: dark
    tags: []
    templating:
      list:
      - current:
          selected: false
          text: Prometheus
          value: Prometheus
        description: null
        error: null
        hide: 0
        includeAll: false
        label: ""
        multi: false
        name: datasource
        options: []
        query: prometheus
        queryValue: ""
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: null
        datasource: ${datasource}
        definition: label_values(kube_namespace_created,namespace)
        description: null
        error: null
        hide: 0
        includeAll: false
        label: ""
        multi: false
        name: namespace
        query:
          query: label_values(kube_namespace_created,namespace)
          refId: Prometheus-namespace-Variable-Query
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        datasource: ${datasource}
        definition: label_values(kubedb_com_druid_created{druid=~".+",namespace=~"$namespace"},app)
        description: null
        error: null
        hide: 0
        includeAll: false
        label: null
        multi: false
        name: app
        query:
          query: label_values(kubedb_com_druid_created{druid=~".+",namespace=~"$namespace"},app)
          refId: StandardVariableQuery
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 1
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-6h
      to: now
    timepicker:
      refresh_intervals:
      - 10s
      - 30s
      - 1m
      - 5m
      - 15m
      - 30m
      - 1h
      - 2h
      - 1d
    timezone: ""
    title: KubeDB / Druid / Database
    version: 5
  overwrite: true
  templatize:
    title: false
    datasource: false
---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-druid-pod
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: Druid
    k8s.io/resource: druids
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - builtIn: 1
        datasource: ${datasource}
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        type: dashboard
    editable: true
    gnetId: null
    graphTooltip: 0
    iteration: 1711021229523
    links: []
    panels:
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 0
      id: 2
      panels: []
      title: Druid Overview
      type: row
    - datasource: ${datasource}
      description: Metric indicating the druid pod is up.
      fieldConfig:
        defaults:
          mappings:
          - from: ""
            id: 0
            text: UP
            to: ""
            type: 1
            value: "1"
          - from: ""
            id: 1
            text: Down
            to: ""
            type: 1
            value: "0"
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 0
            - color: dark-green
              value: 1
        overrides: []
      gridPos:
        h: 4
        w: 12
        x: 0
        "y": 1
      id: 4
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - mean
          fields: ""
          values: false
        text: {}
        textMode: value
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: druid_service_heartbeat{service="$app-stats", namespace="$namespace", pod="$pod",
          namespace="$namespace"}
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      timeFrom: null
      timeShift: null
      title: $pod - Status
      type: stat
    - datasource: ${datasource}
      description: Indicator of connection status. 1 for connected, 0 for disconnected.
        Emitted once per monitor period.
      fieldConfig:
        defaults:
          mappings:
          - from: ""
            id: 0
            text: Connected
            to: ""
            type: 1
            value: "1"
          - from: ""
            id: 1
            text: Disconnected
            to: ""
            type: 1
            value: "0"
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 0
            - color: dark-green
              value: 1
        overrides: []
      gridPos:
        h: 4
        w: 12
        x: 12
        "y": 1
      id: 8
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - mean
          fields: ""
          values: false
        text: {}
        textMode: value
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: druid_zk_connected{service="$app-stats", pod="$pod", namespace="$namespace"}
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      timeFrom: null
      timeShift: null
      title: $pod - ZooKeeper Connection
      type: stat
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 5
      id: 12
      panels: []
      title: JVM Overview
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Used memory
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 9
        w: 12
        x: 0
        "y": 6
      hiddenSeries: false
      id: 10
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: avg(increase(druid_jvm_mem_used{service="$app-stats", pod="$pod", namespace="$namespace"}[$__range]))
          by (pod)
        interval: ""
        intervalFactor: 1
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: JVM Memory Used
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Pool used
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 9
        w: 12
        x: 12
        "y": 6
      hiddenSeries: false
      id: 14
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: avg(increase(druid_jvm_pool_used{service="$app-stats", pod="$pod", namespace="$namespace"}[$__range]))
          by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: JVM Memory Pool
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      description: Bufferpool count
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 0
            gradientMode: none
            hideFrom:
              graph: false
              legend: false
              tooltip: false
              viz: false
            lineInterpolation: linear
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: auto
            spanNulls: false
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 15
      id: 16
      options:
        legend:
          calcs: []
          displayMode: list
          placement: bottom
          showLegend: true
        tooltip:
          mode: single
          sort: none
        tooltipOptions:
          mode: single
      targets:
      - datasource:
          type: prometheus
          uid: prometheusdata
        editorMode: builder
        exemplar: true
        expr: druid_jvm_bufferpool_count{bufferpoolName="direct", service="$app-stats",
          pod="$pod", namespace="$namespace"}
        hide: false
        interval: ""
        legendFormat: '{{pod}}'
        range: true
        refId: E
      title: JVM Bufferpool Count
      type: timeseries
    - datasource: ${datasource}
      description: Count of CPU time in Nanoseconds spent on garbage collection.
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 2750
        overrides: []
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 15
      id: 18
      options:
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        showThresholdLabels: false
        showThresholdMarkers: true
        text: {}
      pluginVersion: 7.5.5
      targets:
      - datasource:
          type: prometheus
          uid: prometheusdata
        editorMode: builder
        exemplar: true
        expr: druid_jvm_gc_cpu_total{service="$app-stats", pod="$pod", namespace="$namespace"}
        interval: ""
        legendFormat: '{{pod}}'
        range: true
        refId: A
      title: JVM GC Cpu Total
      type: gauge
    - datasource: ${datasource}
      description: Initial nonHeap memory
      fieldConfig:
        defaults:
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: white
              value: null
            - color: white
              value: 80
          unit: MiB
        overrides: []
      gridPos:
        h: 6
        w: 8
        x: 0
        "y": 23
      id: 22
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - mean
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: druid_jvm_mem_init{service="$app-stats", pod="$pod", memKind="nonheap",
          namespace="$namespace"}/ (1024 * 1024)
        interval: ""
        intervalFactor: 1
        legendFormat: ""
        refId: A
      timeFrom: null
      timeShift: null
      title: Initial Memory (nonHeap)
      type: stat
    - datasource: ${datasource}
      description: Initial Heap memory
      fieldConfig:
        defaults:
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: white
              value: null
            - color: white
              value: 80
          unit: MiB
        overrides: []
      gridPos:
        h: 6
        w: 7
        x: 8
        "y": 23
      id: 20
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - mean
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: druid_jvm_mem_init{service="$app-stats", pod="$pod", memKind="heap", namespace="$namespace"}/
          (1024 * 1024)
        interval: ""
        intervalFactor: 1
        legendFormat: ""
        refId: A
      timeFrom: null
      timeShift: null
      title: Initial Memory (Heap)
      type: stat
    - datasource: ${datasource}
      description: Max memory
      fieldConfig:
        defaults:
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: white
              value: null
            - color: white
              value: 80
          unit: MiB
        overrides: []
      gridPos:
        h: 6
        w: 9
        x: 15
        "y": 23
      id: 24
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - mean
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: druid_jvm_mem_max{service="$app-stats", pod="$pod", memKind="heap", namespace="$namespace"}/
          (1024 * 1024)
        interval: ""
        intervalFactor: 1
        legendFormat: ""
        refId: A
      timeFrom: null
      timeShift: null
      title: Max Memory (Heap)
      type: stat
    refresh: false
    schemaVersion: 27
    style: dark
    tags: []
    templating:
      list:
      - current:
          selected: false
          text: Prometheus
          value: Prometheus
        description: null
        error: null
        hide: 0
        includeAll: false
        label: ""
        multi: false
        name: datasource
        options: []
        query: prometheus
        queryValue: ""
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: null
        current:
          selected: false
          text: druid
          value: druid
        datasource: ${datasource}
        definition: label_values(kube_namespace_created,namespace)
        description: null
        error: null
        hide: 0
        includeAll: false
        label: ""
        multi: false
        name: namespace
        options: []
        query:
          query: label_values(kube_namespace_created,namespace)
          refId: Prometheus-namespace-Variable-Query
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text: druid-sample-stats
          value: druid-sample-stats
        datasource: ${datasource}
        definition: label_values(kubedb_com_druid_status_phase{namespace=~"$namespace"},app)
        description: null
        error: null
        hide: 0
        includeAll: false
        label: null
        multi: false
        name: app
        options: []
        query:
          query: label_values(kubedb_com_druid_status_phase{namespace=~"$namespace"},app)
          refId: StandardVariableQuery
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 1
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text: druid-sample-coordinators-0
          value: druid-sample-coordinators-0
        datasource: ${datasource}
        definition: label_values(druid_service_heartbeat{namespace=~"$namespace",service=~"${app}.*"},pod)
        description: null
        error: null
        hide: 0
        includeAll: false
        label: pod
        multi: false
        name: pod
        options: []
        query:
          query: label_values(druid_service_heartbeat{namespace=~"$namespace",service=~"${app}.*"},pod)
          refId: StandardVariableQuery
        refresh: 2
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-6h
      to: now
    timepicker: {}
    timezone: ""
    title: KubeDB / Druid / Pod
    version: 38
  overwrite: true
  templatize:
    title: false
    datasource: false
---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-druid-summary
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: Druid
    k8s.io/resource: druids
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - builtIn: 1
        datasource: ${datasource}
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        target:
          limit: 100
          matchAny: false
          tags: []
          type: dashboard
        type: dashboard
    description: The dashboard is designed for KubeDB managed Druid
    editable: true
    gnetId: 9628
    graphTooltip: 0
    iteration: 1711716627316
    links: []
    panels:
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 0
      id: 136
      panels: []
      title: General Info
      type: row
    - datasource: ${datasource}
      description: Represent database status
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          mappings:
          - options:
              Critical:
                color: dark-yellow
                index: 1
              DataRestoring:
                color: dark-red
                index: 4
              Halted:
                color: dark-red
                index: 5
              NotReady:
                color: dark-red
                index: 2
              Provisioning:
                color: text
                index: 3
              Ready:
                color: semi-dark-green
                index: 0
            type: value
          thresholds:
            mode: absolute
            steps:
            - color: text
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 8
        x: 0
        "y": 1
      id: 78
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: /^phase$/
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: |
          kubedb_com_druid_status_phase{namespace="$namespace", app="$app"} == 1
        format: table
        instant: true
        interval: ""
        legendFormat: '{{phase}}'
        refId: A
      title: Database Status
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      description: Druid CR Name
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: palette-classic
          mappings:
          - options:
              match: "null"
              result:
                index: 0
                text: N/A
            type: special
          noValue: N/A
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 8
        x: 8
        "y": 1
      id: 36
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - mean
          fields: ""
          values: false
        text:
          valueSize: 50
        textMode: name
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_druid_info{namespace="$namespace", app="$app"}
        format: time_series
        instant: true
        interval: ""
        intervalFactor: 1
        legendFormat: '{{version}}'
        refId: A
      title: Version
      type: stat
    - datasource: ${datasource}
      description: When this option is enabled, connections attempted using insecure transport
        will be rejected.
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings:
          - from: ""
            id: 1
            text: "True"
            to: ""
            type: 1
            value: "1"
          - from: ""
            id: 2
            text: "False"
            to: ""
            type: 1
            value: "0"
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 16
        "y": 1
      id: 82
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: value
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_druid_info{namespace="$namespace", app="$app"}
        format: time_series
        instant: true
        interval: ""
        legendFormat: '{{requireSSL}}'
        refId: A
      timeFrom: null
      timeShift: null
      title: Require Secure Transport
      type: stat
    - datasource: ${datasource}
      description: KubeDB Database Resource deletionPolicy
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          mappings:
          - options:
              Delete:
                color: yellow
                index: 1
              DoNotTerminate:
                color: green
                index: 2
              Halt:
                color: blue
                index: 3
              WipeOut:
                color: dark-red
                index: 0
            type: value
          thresholds:
            mode: absolute
            steps:
            - color: text
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 20
        "y": 1
      id: 84
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: /^deletionPolicy$/
          values: false
        text: {}
        textMode: value
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_druid_info{namespace="$namespace", app="$app"}
        format: table
        instant: true
        interval: ""
        legendFormat: '{{deletionPolicy}}'
        refId: A
      title: Deletion Policy
      type: stat
    - datasource: ${datasource}
      description: Total node count of Druid cluster
      fieldConfig:
        defaults:
          color:
            fixedColor: green
            mode: fixed
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 0
        "y": 4
      id: 76
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_druid_replicas{namespace="$namespace",app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Total Nodes
      type: stat
    - datasource: ${datasource}
      description: Initial Requested CPU amount by Druid Instance
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          min: 0
          thresholds:
            mode: percentage
            steps:
            - color: green
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 4
        "y": 4
      id: 92
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_druid_resource_request_cpu{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: CPU Request (Core)
      type: stat
    - datasource: ${datasource}
      description: CPU Limit in core by Druid instance
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 8
        "y": 4
      id: 114
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_druid_resource_limit_cpu{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: CPU Limit (Core)
      type: stat
    - datasource: ${datasource}
      description: Initial Requested Memory amount by Druid Instance
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          min: 0
          thresholds:
            mode: percentage
            steps:
            - color: green
              value: null
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 12
        "y": 4
      id: 94
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_druid_resource_request_memory{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Memory Request
      type: stat
    - datasource: ${datasource}
      description: KubeDB Druid Total Memory Limit
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 16
        "y": 4
      id: 116
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_druid_resource_limit_memory{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Memory Limit
      type: stat
    - datasource: ${datasource}
      description: Total storage request by Druid nodes
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          min: 0
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 20
        "y": 4
      id: 96
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_druid_resource_request_storage{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Storage Request
      type: stat
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 7
      id: 138
      panels: []
      title: CPU Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: CPU Usage by Druid pods
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 14
      hiddenSeries: false
      id: 98
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(sum by (namespace, pod, container) (irate(container_cpu_usage_seconds_total{image!="",job="kubelet",metrics_path="/metrics/cadvisor",namespace="$namespace",
          pod=~"$app-.+$"}[5m])) * on (namespace, pod) group_left (node) topk by (namespace,
          pod) (1, max by (namespace, pod, node) (kube_pod_info{node!="",namespace="$namespace",
          pod=~"$app-.+$"}))) by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: CPU Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      description: CPU Quote information in details
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            displayMode: auto
            filterable: false
          decimals: 2
          displayName: ""
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: Time
          properties:
          - id: displayName
            value: Time
          - id: custom.align
            value: null
          - id: custom.width
            value: null
        - matcher:
            id: byName
            options: 'Value #A'
          properties:
          - id: displayName
            value: CPU Usage
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #B'
          properties:
          - id: displayName
            value: CPU Requests
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #C'
          properties:
          - id: displayName
            value: CPU Requests %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #D'
          properties:
          - id: displayName
            value: CPU Limits
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #E'
          properties:
          - id: displayName
            value: CPU Limits %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: pod
          properties:
          - id: displayName
            value: Pod
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: links
            value:
            - targetBlank: false
              title: Drill down
              url: ./d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-pod=$__cell
          - id: custom.align
            value: null
      gridPos:
        h: 6
        w: 24
        x: 0
        "y": 33
      id: 122
      links: []
      options:
        showHeader: true
        sortBy: []
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: sum(sum by (namespace, pod, container) (irate(container_cpu_usage_seconds_total{image!="",job="kubelet",metrics_path="/metrics/cadvisor",namespace="$namespace",
          pod=~"$app-.+$"}[5m])) * on (namespace, pod) group_left (node) topk by (namespace,
          pod) (1, max by (namespace, pod, node) (kube_pod_info{node!="",namespace="$namespace",
          pod=~"$app-.+$"}))) by (pod) / sum(kube_pod_container_resource_requests{job="kube-state-metrics",resource="cpu",namespace="$namespace",
          pod=~"$app-.+$"} * on (namespace,pod) group_left () max by (namespace,pod) ((kube_pod_status_phase{phase=~"Pending|Running"}
          == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
        step: 10
      - exemplar: true
        expr: sum(kube_pod_container_resource_requests{job="kube-state-metrics",resource="cpu",namespace="$namespace",
          pod=~"$app-.+$"} * on (namespace,pod) group_left () max by (namespace,pod) ((kube_pod_status_phase{phase=~"Pending|Running"}
          == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: B
        step: 10
      - exemplar: true
        expr: sum(sum by (namespace, pod, container) (irate(container_cpu_usage_seconds_total{image!="",job="kubelet",metrics_path="/metrics/cadvisor",namespace="$namespace",
          pod=~"$app-.+$"}[5m])) * on (namespace, pod) group_left (node) topk by (namespace,
          pod) (1, max by (namespace, pod, node) (kube_pod_info{node!="",namespace="$namespace",
          pod=~"$app-.+$"}))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: C
        step: 10
      - exemplar: true
        expr: sum(kube_pod_container_resource_limits{job="kube-state-metrics",resource="cpu",namespace="$namespace",
          pod=~"$app-.+$"} * on (namespace,pod) group_left() max by (namespace, pod) ((kube_pod_status_phase{phase=~"Pending|Running"}
          == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: D
        step: 10
      - exemplar: true
        expr: sum(sum by (namespace, pod, container) (irate(container_cpu_usage_seconds_total{image!="",job="kubelet",metrics_path="/metrics/cadvisor",namespace="$namespace",
          pod=~"$app-.+$"}[5m])) * on (namespace, pod) group_left (node) topk by (namespace,
          pod) (1, max by (namespace, pod, node) (kube_pod_info{node!="",namespace="$namespace",
          pod=~"$app-.+$"}))) by (pod) / sum(kube_pod_container_resource_limits{job="kube-state-metrics",resource="cpu",namespace="$namespace",
          pod=~"$app-.+$"} * on (namespace,pod) group_left() max by (namespace, pod) ((kube_pod_status_phase{phase=~"Pending|Running"}
          == 1))) by (pod)
        format: table
        hide: false
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: E
        step: 10
      timeFrom: null
      timeShift: null
      title: CPU Quota
      transformations:
      - id: merge
        options:
          reducers: []
      type: table
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 39
      id: 140
      panels: []
      title: Memory Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Memory Usage by Druid pods
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 6
        w: 24
        x: 0
        "y": 40
      hiddenSeries: false
      id: 100
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{image!="",job="kubelet",metrics_path="/metrics/cadvisor",namespace="$namespace",
          pod=~"$app-.+$",container!=""} * on (namespace, pod) group_left (node) topk
          by (namespace, pod) (1, max by (namespace, pod, node) (kube_pod_info{node!=""})))
          by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Memory Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            displayMode: auto
            filterable: false
          decimals: 2
          displayName: ""
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: Time
          properties:
          - id: displayName
            value: Time
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #A'
          properties:
          - id: displayName
            value: Memory Usage
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #B'
          properties:
          - id: displayName
            value: Memory Requests
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #C'
          properties:
          - id: displayName
            value: Memory Requests %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #D'
          properties:
          - id: displayName
            value: Memory Limits
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #E'
          properties:
          - id: displayName
            value: Memory Limits %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #F'
          properties:
          - id: displayName
            value: Memory Usage (RSS)
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #G'
          properties:
          - id: displayName
            value: Memory Usage (Cache)
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #H'
          properties:
          - id: displayName
            value: Memory Usage (Swap)
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: pod
          properties:
          - id: displayName
            value: Pod
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: links
            value:
            - targetBlank: false
              title: Drill down
              url: ./d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-pod=$__cell
          - id: custom.align
            value: null
      gridPos:
        h: 6
        w: 24
        x: 0
        "y": 46
      id: 124
      links: []
      options:
        showHeader: true
        sortBy:
        - desc: false
          displayName: Memory Usage
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{namespace="$namespace",pod=~"$app-brokers-\\d+$|$app-coordinators-\\d+$|$app-historicals-\\d+$|$app-middlemanagers-\\d+$|$app-routers-\\d+$|$app-overlords-\\d+$",container!="",
          image!=""}) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
        step: 10
      - exemplar: true
        expr: sum (kube_pod_container_resource_requests{job="kube-state-metrics",resource="memory",namespace="$namespace",pod=~"$app-.+$"}
          * on (namespace, pod, cluster) group_left () max by (namespace, pod, cluster)
          ((kube_pod_status_phase{phase=~"Pending|Running"} == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: B
        step: 10
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{namespace="$namespace",pod=~"$app-.+$",container!="",
          image!=""}) by (pod) / sum(kube_pod_container_resource_requests{job="kube-state-metrics",resource="memory",namespace="$namespace",pod=~"$app-.+$"}
          * on (namespace, pod, cluster) group_left () max by (namespace, pod, cluster)
          ((kube_pod_status_phase{phase=~"Pending|Running"} == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: C
        step: 10
      - exemplar: true
        expr: sum(kube_pod_container_resource_limits{job="kube-state-metrics",resource="memory",namespace="$namespace",pod=~"$app-.+$"}
          * on (namespace, pod, cluster) group_left () max by (namespace, pod, cluster)
          ((kube_pod_status_phase{phase=~"Pending|Running"} == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: D
        step: 10
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{namespace="$namespace",pod=~"$app-.+$",container!="",
          image!=""}) by (pod) / sum(kube_pod_container_resource_limits{job="kube-state-metrics",resource="memory",namespace="$namespace",pod=~"$app-.+$"}
          * on (namespace, pod, cluster) group_left () max by (namespace, pod, cluster)
          ((kube_pod_status_phase{phase=~"Pending|Running"} == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: E
        step: 10
      - exemplar: true
        expr: sum(container_memory_rss{namespace="$namespace",pod=~"$app-.+$",container!=""})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: F
        step: 10
      - exemplar: true
        expr: sum(container_memory_cache{namespace="$namespace",pod=~"$app-.+$",container!=""})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: G
        step: 10
      - exemplar: true
        expr: sum(container_memory_swap{namespace="$namespace",pod=~"$app-.+$",container!=""})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: H
        step: 10
      timeFrom: null
      timeShift: null
      title: Memory Quota
      transformations:
      - id: merge
        options:
          reducers: []
      type: table
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 59
      id: 142
      panels: []
      title: Storage Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Disk usage by Druid pods
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 9
        w: 12
        x: 0
        "y": 60
      hiddenSeries: false
      id: 112
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: avg(container_blkio_device_usage_total{namespace="$namespace", pod=~"$app-brokers-\\d+$|$app-coordinators-\\d+$|$app-historicals-\\d+$|$app-middlemanagers-\\d+$|$app-routers-\\d+$|$app-overlords-\\d+$"})
          by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Disk Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: System Disk Usage Information
      fieldConfig:
        defaults:
          unit: none
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 9
        w: 12
        x: 12
        "y": 60
      hiddenSeries: false
      id: 108
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(rate(container_fs_writes_total{namespace="$namespace",  pod=~"$app-brokers-\\d+$|$app-coordinators-\\d+$|$app-historicals-\\d+$|$app-middlemanagers-\\d+$|$app-routers-\\d+$|$app-overlords-\\d+$"}[5m]))by(pod)
        instant: false
        interval: ""
        intervalFactor: 1
        legendFormat: '{{pod}}-disk-write'
        refId: A
      - exemplar: true
        expr: sum(rate(container_fs_reads_total{namespace="$namespace",  pod=~"$app-brokers-\\d+$|$app-coordinators-\\d+$|$app-historicals-\\d+$|$app-middlemanagers-\\d+$|$app-routers-\\d+$|$app-overlords-\\d+$"}[5m]))by(pod)
        hide: false
        instant: false
        interval: ""
        legendFormat: '{{pod}}-disk-read'
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Disk R/W Info
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: none
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: short
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 69
      hiddenSeries: false
      id: 126
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: ceil(sum by(pod) (rate(container_fs_reads_total{container!="", namespace=~"$namespace",  pod=~"$app-brokers-\\d+$|$app-coordinators-\\d+$|$app-historicals-\\d+$|$app-middlemanagers-\\d+$|$app-routers-\\d+$|$app-overlords-\\d+$"}[5m])
          + rate(container_fs_writes_total{container!="" ,namespace=~"$namespace",  pod=~"$app-brokers-\\d+$|$app-coordinators-\\d+$|$app-historicals-\\d+$|$app-middlemanagers-\\d+$|$app-routers-\\d+$|$app-overlords-\\d+$"}[5m])))
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: IOPS (Reads+Writes)
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: Bps
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 69
      hiddenSeries: false
      id: 128
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_bytes_total{container!="", namespace=~"$namespace",  pod=~"$app-brokers-\\d+$|$app-coordinators-\\d+$|$app-historicals-\\d+$|$app-middlemanagers-\\d+$|$app-routers-\\d+$|$app-overlords-\\d+$"}[5m])
          + rate(container_fs_writes_bytes_total{container!="" ,namespace=~"$namespace",  pod=~"$app-brokers-\\d+$|$app-coordinators-\\d+$|$app-historicals-\\d+$|$app-middlemanagers-\\d+$|$app-routers-\\d+$|$app-overlords-\\d+$"}[5m]))
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: ThroughPut (Read+Write)
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: Bps
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            displayMode: auto
            filterable: false
          decimals: 2
          displayName: ""
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: Time
          properties:
          - id: displayName
            value: Time
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #A'
          properties:
          - id: displayName
            value: IOPS(Reads)
          - id: unit
            value: short
          - id: decimals
            value: -1
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #B'
          properties:
          - id: displayName
            value: IOPS(Writes)
          - id: unit
            value: short
          - id: decimals
            value: -1
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #C'
          properties:
          - id: displayName
            value: IOPS(Reads + Writes)
          - id: unit
            value: short
          - id: decimals
            value: -1
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #D'
          properties:
          - id: displayName
            value: Throughput(Read)
          - id: unit
            value: Bps
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #E'
          properties:
          - id: displayName
            value: Throughput(Write)
          - id: unit
            value: Bps
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #F'
          properties:
          - id: displayName
            value: Throughput(Read + Write)
          - id: unit
            value: Bps
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: pod
          properties:
          - id: displayName
            value: Pod
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: links
            value:
            - targetBlank: false
              title: Drill down to pods
              url: ./d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-pod=$__cell
          - id: custom.align
            value: null
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 76
      id: 130
      links: []
      options:
        showHeader: true
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_total{container!="",  pod=~"$app-brokers-\\d+$|$app-coordinators-\\d+$|$app-historicals-\\d+$|$app-middlemanagers-\\d+$|$app-routers-\\d+$|$app-overlords-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_writes_total{container!="",  pod=~"$app-brokers-\\d+$|$app-coordinators-\\d+$|$app-historicals-\\d+$|$app-middlemanagers-\\d+$|$app-routers-\\d+$|$app-overlords-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: B
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_total{container!="",  pod=~"$app-brokers-\\d+$|$app-coordinators-\\d+$|$app-historicals-\\d+$|$app-middlemanagers-\\d+$|$app-routers-\\d+$|$app-overlords-\\d+$",namespace=~"$namespace"}[5m])
          + rate(container_fs_writes_total{container!="",pod=~"$app-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: C
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_bytes_total{container!="", pod=~"$app-brokers-\\d+$|$app-coordinators-\\d+$|$app-historicals-\\d+$|$app-middlemanagers-\\d+$|$app-routers-\\d+$|$app-overlords-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: D
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_writes_bytes_total{container!="", pod=~"$app-brokers-\\d+$|$app-coordinators-\\d+$|$app-historicals-\\d+$|$app-middlemanagers-\\d+$|$app-routers-\\d+$|$app-overlords-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: E
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_bytes_total{container!="", pod=~"$app-brokers-\\d+$|$app-coordinators-\\d+$|$app-historicals-\\d+$|$app-middlemanagers-\\d+$|$app-routers-\\d+$|$app-overlords-\\d+$",namespace=~"$namespace"}[5m])
          + rate(container_fs_writes_bytes_total{container!="",pod=~"$app-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: F
        step: 10
      timeFrom: null
      timeShift: null
      title: Current Storage IO
      transformations:
      - id: merge
        options:
          reducers: []
      type: table
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 83
      id: 152
      panels: []
      title: Persistent Storage Insight
      type: row
    - datasource: ${datasource}
      description: |
        This panel describes allocated persistent storage in a table format
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: center
            displayMode: color-text
            filterable: false
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: light-blue
              value: null
          unit: decbytes
        overrides: []
      gridPos:
        h: 6
        w: 12
        x: 0
        "y": 84
      id: 148
      options:
        showHeader: true
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubelet_volume_stats_capacity_bytes + on(persistentvolumeclaim) group_left(pod)
          kube_pod_spec_volumes_persistentvolumeclaims_info{pod=~"^$app.*",namespace=~"$namespace"}
        format: table
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Allocated Storage
      transformations:
      - id: organize
        options:
          excludeByName:
            Time: true
            endpoint: true
            instance: true
            job: true
            metrics_path: true
            namespace: true
            node: true
            persistentvolumeclaim: true
            service: true
          indexByName: {}
          renameByName:
            Value: Volume
            pod: Pod
      type: table
    - datasource: ${datasource}
      description: 'This panel shows the persistent volume usage in percentage. '
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: percent
        overrides: []
      gridPos:
        h: 6
        w: 12
        x: 12
        "y": 84
      id: 146
      options:
        displayMode: gradient
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        showUnfilled: true
        text: {}
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: (kubelet_volume_stats_used_bytes / on(persistentvolumeclaim) group_left(pod)
          (kubelet_volume_stats_capacity_bytes + on(persistentvolumeclaim) group_left(pod)
          kube_pod_spec_volumes_persistentvolumeclaims_info{pod=~"^$app.*",namespace=~"$namespace"})
          )* 100
        instant: true
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      title: Persistent Volume Usage
      transformations: []
      type: bargauge
    - datasource: ${datasource}
      description: 'This panel describes the persistent volume usage in a time series. '
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            axisSoftMax: 5000
            axisSoftMin: 0
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: opacity
            hideFrom:
              graph: false
              legend: false
              tooltip: false
            lineInterpolation: linear
            lineStyle:
              fill: solid
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: true
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: decbytes
        overrides: []
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 90
      id: 150
      options:
        graph: {}
        legend:
          calcs:
          - max
          - lastNotNull
          displayMode: table
          placement: right
        tooltipOptions:
          mode: single
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: '(kubelet_volume_stats_used_bytes + on(persistentvolumeclaim) group_left(pod)
          kube_pod_spec_volumes_persistentvolumeclaims_info{pod=~"$app-brokers-\\d+$|$app-coordinators-\\d+$|$app-historicals-\\d+$|$app-middlemanagers-\\d+$|$app-routers-\\d+$|$app-overlords-\\d+$",namespace=~"$namespace"}) '
        interval: ""
        intervalFactor: 1
        legendFormat: '{{pod}}'
        refId: A
      title: Persistent Volume Usage History
      type: timeseries
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 98
      id: 144
      panels: []
      title: Network Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 99
      hiddenSeries: false
      id: 132
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(irate(container_network_receive_bytes_total{namespace=~"$namespace",
          pod=~"$app-brokers-\\d+$|$app-coordinators-\\d+$|$app-historicals-\\d+$|$app-middlemanagers-\\d+$|$app-routers-\\d+$|$app-overlords-\\d+$"}[$__rate_interval]))
          by (pod)
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Receive Bandwidth
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: Bps
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: Bps
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 99
      hiddenSeries: false
      id: 134
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(irate(container_network_transmit_bytes_total{namespace=~"$namespace",
          pod=~"$app-brokers-\\d+$|$app-coordinators-\\d+$|$app-historicals-\\d+$|$app-middlemanagers-\\d+$|$app-routers-\\d+$|$app-overlords-\\d+$"}[$__rate_interval]))
          by (pod)
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Transmit Bandwidth
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: Bps
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    refresh: 10s
    schemaVersion: 27
    style: dark
    tags:
    - db
    - stats
    - kubedb
    - druid
    templating:
      list:
      - current:
          selected: false
          text: Prometheus
          value: Prometheus
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Datasource
        multi: false
        name: datasource
        options: []
        query: prometheus
        queryValue: ""
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: '".+"'
        current:
          selected: false
          text: druid
          value: druid
        datasource: ${datasource}
        definition: label_values(kube_namespace_created,namespace)
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Namespace
        multi: false
        name: namespace
        options: []
        query:
          query: label_values(kube_namespace_created,namespace)
          refId: Prometheus-namespace-Variable-Query
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text: druid-sample
          value: druid-sample
        datasource: ${datasource}
        definition: label_values(kubedb_com_druid_status_phase{namespace=~"$namespace"},app)
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Druid
        multi: false
        name: app
        options: []
        query:
          query: label_values(kubedb_com_druid_status_phase{namespace=~"$namespace"},app)
          refId: Prometheus-app-Variable-Query
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-6h
      to: now
    timepicker:
      refresh_intervals:
      - 5s
      - 10s
      - 30s
      - 1m
      - 5m
      - 15m
      - 30m
      - 1h
      - 2h
      - 1d
      time_options:
      - 5m
      - 15m
      - 1h
      - 6h
      - 12h
      - 24h
      - 2d
      - 7d
      - 30d
    timezone: ""
    title: KubeDB / Druid / Summary
    version: 6
  overwrite: true
  templatize:
    title: false
    datasource: false
---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-elasticsearch-database
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: Elasticsearch
    k8s.io/resource: elasticsearches
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - datasource: -- Grafana --
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        target:
          limit: 100
          matchAny: false
          tags: []
          type: dashboard
        type: dashboard
    editable: false
    gnetId: null
    graphTooltip: 1
    iteration: 1633414218007
    links: []
    panels:
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 0
      id: 90
      panels: []
      title: Cluster
      type: row
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings:
          - from: ""
            id: 1
            text: Green
            to: ""
            type: 1
            value: "1"
          - from: ""
            id: 2
            text: Yellow
            to: ""
            type: 1
            value: "2"
          - from: ""
            id: 3
            text: Red
            to: ""
            type: 1
            value: "3"
          - from: ""
            id: 4
            text: ""
            to: ""
            type: 1
          thresholds:
            mode: absolute
            steps:
            - color: '#299c46'
              value: null
            - color: rgba(237, 129, 40, 0.89)
              value: 2
            - color: '#d44a3a'
              value: 3
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 12
        x: 0
        "y": 1
      id: 92
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: background
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: /^Value$/
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: scalar(avg(elasticsearch_cluster_health_status{color="green",namespace=~"$namespace",cluster=~"$app"}))
          + scalar(avg(elasticsearch_cluster_health_status{color="yellow",namespace=~"$namespace",cluster=~"$app"}))
          * 2 + scalar(avg(elasticsearch_cluster_health_status{color="red",namespace=~"$namespace",cluster=~"$app"}))
          * 3
        format: time_series
        instant: true
        interval: ""
        intervalFactor: 1
        legendFormat: ""
        refId: A
      title: Cluster Status
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            fixedColor: rgb(31, 120, 193)
            mode: fixed
          mappings:
          - options:
              match: "null"
              result:
                text: N/A
            type: special
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 12
        "y": 1
      id: 8
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: sum(max by (cluster) (elasticsearch_cluster_health_number_of_nodes{namespace=~"$namespace",cluster=~"$app"}))
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        metric: elasticsearch_cluster_health_number_of_nodes
        refId: A
        step: 1800
      timeFrom: null
      timeShift: null
      title: Nodes In Cluster
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            fixedColor: rgb(31, 120, 193)
            mode: fixed
          mappings:
          - options:
              match: "null"
              result:
                text: N/A
            type: special
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 16
        "y": 1
      id: 94
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: sum(max by (cluster) (elasticsearch_cluster_health_number_of_data_nodes{namespace=~"$namespace",cluster=~"$app"}))
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: ""
        refId: A
      title: Active Data Nodes
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings:
          - options:
              match: "null"
              result:
                text: N/A
            type: special
          thresholds:
            mode: absolute
            steps:
            - color: '#299c46'
              value: null
            - color: rgba(237, 129, 40, 0.89)
              value: 0.5
            - color: '#d44a3a'
              value: 1
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 20
        "y": 1
      id: 96
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: sum(max by (cluster) (elasticsearch_cluster_health_number_of_pending_tasks{namespace=~"$namespace",cluster=~"$app"}))
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: ""
        refId: A
      title: Pending Tasks
      type: stat
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 4
      id: 76
      panels: []
      title: Shards
      type: row
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            fixedColor: rgb(31, 120, 193)
            mode: fixed
          mappings:
          - options:
              match: "null"
              result:
                text: N/A
            type: special
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 0
        "y": 5
      id: 78
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: sum(max by (cluster) (elasticsearch_cluster_health_active_shards{namespace=~"$namespace",cluster=~"$app"}))
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: ""
        refId: A
      title: Active Shards
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            fixedColor: rgb(31, 120, 193)
            mode: fixed
          mappings:
          - options:
              match: "null"
              result:
                text: N/A
            type: special
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 4
        "y": 5
      id: 80
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: sum(max by (cluster) (elasticsearch_cluster_health_active_primary_shards{namespace=~"$namespace",cluster=~"$app"}))
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: ""
        refId: A
      title: Active Primary Shards
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings:
          - options:
              match: "null"
              result:
                text: N/A
            type: special
          thresholds:
            mode: absolute
            steps:
            - color: '#299c46'
              value: null
            - color: rgba(237, 129, 40, 0.89)
              value: 0.5
            - color: '#d44a3a'
              value: 1
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 8
        "y": 5
      id: 82
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: sum(max by (cluster) (elasticsearch_cluster_health_initializing_shards{namespace=~"$namespace",cluster=~"$app"}))
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: ""
        refId: A
      title: Initializing Shards
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings:
          - options:
              match: "null"
              result:
                text: N/A
            type: special
          thresholds:
            mode: absolute
            steps:
            - color: '#299c46'
              value: null
            - color: rgba(237, 129, 40, 0.89)
              value: 0.5
            - color: '#d44a3a'
              value: 1
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 12
        "y": 5
      id: 84
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: sum(max by (cluster) (elasticsearch_cluster_health_relocating_shards{namespace=~"$namespace",cluster=~"$app"}))
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: ""
        refId: A
      title: Relocating Shards
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings:
          - options:
              match: "null"
              result:
                text: N/A
            type: special
          thresholds:
            mode: absolute
            steps:
            - color: '#299c46'
              value: null
            - color: rgba(237, 129, 40, 0.89)
              value: 0.5
            - color: '#d44a3a'
              value: 1
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 16
        "y": 5
      id: 86
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: sum(max by (cluster) (elasticsearch_cluster_health_unassigned_shards{namespace=~"$namespace",cluster=~"$app"}))
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: ""
        refId: A
      title: Unassigned Shards
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings:
          - options:
              match: "null"
              result:
                text: N/A
            type: special
          thresholds:
            mode: absolute
            steps:
            - color: '#299c46'
              value: null
            - color: rgba(237, 129, 40, 0.89)
              value: 0.5
            - color: '#d44a3a'
              value: 1
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 20
        "y": 5
      id: 88
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: sum(max by (cluster) (elasticsearch_cluster_health_delayed_unassigned_shards{namespace=~"$namespace",cluster=~"$app"}))
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: ""
        refId: A
      title: Delayed Unassigned Shards
      type: stat
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 8
      id: 70
      panels: []
      title: Documents
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: null
      editable: true
      error: false
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      grid: {}
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 9
      hiddenSeries: false
      id: 3
      legend:
        alignAsTable: true
        avg: true
        current: true
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: max by (cluster,name) (elasticsearch_indices_docs{namespace=~"$namespace",cluster=~"$app"})
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{name}}'
        refId: A
        step: 240
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Documents indexed
      tooltip:
        msResolution: true
        shared: true
        sort: 0
        value_type: cumulative
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:249
        format: short
        logBase: 1
        max: null
        min: 0
        show: true
      - $$hashKey: object:250
        format: short
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      editable: true
      error: false
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      grid: {}
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 9
      hiddenSeries: false
      id: 4
      legend:
        alignAsTable: true
        avg: true
        current: true
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: elasticsearch_indices_store_size_bytes{namespace=~"$namespace",cluster=~"$app"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{name}}'
        refId: A
        step: 240
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Index Size
      tooltip:
        msResolution: true
        shared: true
        sort: 0
        value_type: cumulative
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:461
        format: bytes
        logBase: 1
        max: null
        min: 0
        show: true
      - $$hashKey: object:462
        format: short
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 16
      hiddenSeries: false
      id: 72
      legend:
        alignAsTable: true
        avg: true
        current: true
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(elasticsearch_indices_indexing_index_total{namespace=~"$namespace",cluster=~"$app"}[1h])
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: '{{name}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Documents Indexed Rate
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:158
        format: short
        label: Documents/s
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:159
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 16
      hiddenSeries: false
      id: 74
      legend:
        alignAsTable: true
        avg: true
        current: true
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(elasticsearch_indices_search_fetch_total{namespace="$namespace",cluster=~"$app"}[1h])
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: '{{name}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Query Rate
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:706
        format: short
        label: Queris/s
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:707
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 23
      id: 68
      panels: []
      title: System ( Ingest Nodes )
      type: row
    - aliasColors: {}
      bars: false
      cacheTimeout: null
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 24
      hiddenSeries: false
      id: 12
      interval: null
      legend:
        alignAsTable: true
        avg: true
        current: true
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      maxDataPoints: 100
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: elasticsearch_os_mem_used_bytes{namespace=~"$namespace",cluster=~"$app"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{name}}'
        metric: ""
        refId: A
        step: 1800
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Memory Used
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1032
        format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:1033
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      cacheTimeout: null
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 24
      hiddenSeries: false
      id: 97
      interval: null
      legend:
        alignAsTable: true
        avg: true
        current: true
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      maxDataPoints: 100
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: elasticsearch_os_mem_free_bytes{namespace=~"$namespace",cluster=~"$app"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{name}}'
        metric: ""
        refId: A
        step: 1800
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Memory Free
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1032
        format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:1033
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 31
      hiddenSeries: false
      id: 57
      legend:
        alignAsTable: true
        avg: true
        current: true
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - bucketAggs:
        - id: "2"
          settings:
            interval: auto
          type: date_histogram
        dsType: elasticsearch
        exemplar: true
        expr: elasticsearch_os_cpu_percent{namespace=~"$namespace",cluster=~"$app"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{name}}'
        metric: elasticsearch_breakers_tripped
        metrics:
        - id: "1"
          type: count
        refId: A
        step: 240
        timeField: failure_tstamp
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Avg. CPU Usage Rate
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1526
        format: short
        label: ""
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:1527
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      editable: true
      error: false
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      grid: {}
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 31
      hiddenSeries: false
      id: 28
      legend:
        alignAsTable: true
        avg: true
        current: true
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: avg_over_time(elasticsearch_jvm_memory_used_bytes{area="heap",namespace=~"$namespace",cluster=~"$app"}[15m])
          / elasticsearch_jvm_memory_max_bytes{area="heap",namespace=~"$namespace",cluster=~"$app"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{name}}'
        refId: A
        step: 240
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Avg Heap in 15min
      tooltip:
        msResolution: true
        shared: true
        sort: 0
        value_type: cumulative
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1447
        format: percentunit
        label: ""
        logBase: 1
        max: 1
        min: 0
        show: true
      - $$hashKey: object:1448
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: false
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      editable: true
      error: false
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      grid: {}
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 38
      hiddenSeries: false
      id: 5
      legend:
        alignAsTable: true
        avg: true
        current: true
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(elasticsearch_transport_rx_packets_total{namespace=~"$namespace",cluster=~"$app"}[5m])
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{name}}-RX'
        refId: A
        step: 240
      - exemplar: true
        expr: rate(elasticsearch_transport_tx_packets_total{namespace=~"$namespace",cluster=~"$app"}[5m])
          * -1
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{name}}-TX'
        refId: B
        step: 240
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: RX/TX Rate 5m
      tooltip:
        msResolution: true
        shared: true
        sort: 0
        value_type: cumulative
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1686
        format: short
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:1687
        format: short
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      editable: true
      error: false
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      grid: {}
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 38
      hiddenSeries: false
      id: 65
      legend:
        alignAsTable: true
        avg: true
        current: true
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: irate(elasticsearch_jvm_gc_collection_seconds_sum{namespace=~"$namespace",cluster=~"$app"}[1m])
        interval: ""
        intervalFactor: 2
        legendFormat: '{{ name }} {{ gc }}'
        refId: A
        step: 240
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: GC seconds
      tooltip:
        msResolution: true
        shared: true
        sort: 0
        value_type: cumulative
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1769
        format: s
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:1770
        format: s
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    refresh: 10s
    schemaVersion: 27
    style: dark
    tags:
    - infra
    - elastic
    - kubedb
    - elasticsearch
    templating:
      list:
      - current:
          selected: false
          text: Prometheus
          value: Prometheus
        description: null
        error: null
        hide: 0
        includeAll: false
        label: ""
        multi: false
        name: datasource
        options: []
        query: prometheus
        queryValue: ""
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: null
        current:
          selected: false
          text: default
          value: default
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: ""
        multi: false
        name: namespace
        options: []
        query: label_values(kube_namespace_created,namespace)
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: true
          text:
          - All
          value:
          - $__all
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: true
        label: null
        multi: true
        name: app
        options: []
        query: label_values(elasticsearch_cluster_health_status{namespace=~"$namespace"},cluster)
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-6h
      to: now
    timepicker:
      refresh_intervals:
      - 5s
      - 10s
      - 30s
      - 1m
      - 5m
      - 15m
      - 30m
      - 1h
      - 2h
      - 1d
      time_options:
      - 5m
      - 15m
      - 1h
      - 6h
      - 12h
      - 24h
      - 2d
      - 7d
      - 30d
    timezone: utc
    title: KubeDB / Elasticsearch / Database
    version: 4
  overwrite: true
  templatize:
    title: false
    datasource: false
---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-elasticsearch-pod
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: Elasticsearch
    k8s.io/resource: elasticsearches
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - builtIn: 1
        datasource: -- Grafana --
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        target:
          limit: 100
          matchAny: false
          tags: []
          type: dashboard
        type: dashboard
    editable: false
    gnetId: null
    graphTooltip: 1
    iteration: 1633414257560
    links: []
    panels:
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 0
      id: 90
      panels: []
      title: Node
      type: row
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings:
          - from: ""
            id: 1
            text: Green
            to: ""
            type: 1
            value: "1"
          - from: ""
            id: 2
            text: Yellow
            to: ""
            type: 1
            value: "2"
          - from: ""
            id: 3
            text: Red
            to: ""
            type: 1
            value: "3"
          thresholds:
            mode: absolute
            steps:
            - color: '#299c46'
              value: null
            - color: rgba(237, 129, 40, 0.89)
              value: 2
            - color: '#d44a3a'
              value: 3
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 24
        x: 0
        "y": 1
      id: 92
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: background
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: /^Value$/
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: scalar(avg(elasticsearch_cluster_health_status{color="green",namespace=~"$namespace",cluster=~"$app",pod=~"$pod"}))
          + scalar(avg(elasticsearch_cluster_health_status{color="yellow",namespace=~"$namespace",cluster=~"$app",pod=~"$pod"}))
          * 2 + scalar(avg(elasticsearch_cluster_health_status{color="red",namespace=~"$namespace",cluster=~"$app",pod=~"$pod"}))
          * 3
        format: time_series
        instant: true
        interval: ""
        intervalFactor: 1
        legendFormat: ""
        refId: A
      title: Node Status
      type: stat
    - aliasColors: {}
      bars: false
      cacheTimeout: null
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: none
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 6
        w: 12
        x: 0
        "y": 4
      hiddenSeries: false
      id: 98
      interval: null
      legend:
        alignAsTable: true
        avg: false
        current: true
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      maxDataPoints: 100
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: elasticsearch_process_open_files_count{namespace=~"$namespace",cluster=~"$app",pod=~"$pod"}
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Open Files Count
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:568
        format: none
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:569
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      cacheTimeout: null
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: none
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 6
        w: 12
        x: 12
        "y": 4
      hiddenSeries: false
      id: 96
      interval: null
      legend:
        alignAsTable: true
        avg: false
        current: true
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      maxDataPoints: 100
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: elasticsearch_cluster_health_number_of_pending_tasks{namespace=~"$namespace",cluster=~"$app",pod=~"$pod"}
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Pending Tasks
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:392
        format: none
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:393
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      cacheTimeout: null
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 6
        w: 12
        x: 0
        "y": 10
      hiddenSeries: false
      id: 8
      interval: null
      legend:
        alignAsTable: true
        avg: false
        current: true
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      maxDataPoints: 100
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: elasticsearch_cluster_health_number_of_nodes{namespace=~"$namespace",cluster=~"$app",pod=~"$pod"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        metric: elasticsearch_cluster_health_number_of_nodes
        refId: A
        step: 1800
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Connected Nodes
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:83
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:84
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      cacheTimeout: null
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: none
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 6
        w: 12
        x: 12
        "y": 10
      hiddenSeries: false
      id: 94
      interval: null
      legend:
        alignAsTable: true
        avg: false
        current: true
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      maxDataPoints: 100
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: elasticsearch_cluster_health_number_of_data_nodes{namespace=~"$namespace",cluster=~"$app",pod=~"$pod"}
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Connected Active Data Nodes
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:174
        format: none
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:175
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 16
      id: 76
      panels: []
      title: Shards
      type: row
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            fixedColor: rgb(31, 120, 193)
            mode: fixed
          mappings:
          - options:
              match: "null"
              result:
                text: N/A
            type: special
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 0
        "y": 17
      id: 78
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: max by (cluster) (elasticsearch_cluster_health_active_shards{namespace=~"$namespace",cluster=~"$app",pod=~"$pod"})
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: ""
        refId: A
      title: Active Shards
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            fixedColor: rgb(31, 120, 193)
            mode: fixed
          mappings:
          - options:
              match: "null"
              result:
                text: N/A
            type: special
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 4
        "y": 17
      id: 80
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: max by (cluster) (elasticsearch_cluster_health_active_primary_shards{namespace=~"$namespace",cluster=~"$app",pod=~"$pod"})
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: ""
        refId: A
      title: Active Primary Shards
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings:
          - options:
              match: "null"
              result:
                text: N/A
            type: special
          thresholds:
            mode: absolute
            steps:
            - color: '#299c46'
              value: null
            - color: rgba(237, 129, 40, 0.89)
              value: 0.5
            - color: '#d44a3a'
              value: 1
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 8
        "y": 17
      id: 82
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: max by (cluster) (elasticsearch_cluster_health_initializing_shards{namespace=~"$namespace",cluster=~"$app",pod=~"$pod"})
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: ""
        refId: A
      title: Initializing Shards
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings:
          - options:
              match: "null"
              result:
                text: N/A
            type: special
          thresholds:
            mode: absolute
            steps:
            - color: '#299c46'
              value: null
            - color: rgba(237, 129, 40, 0.89)
              value: 0.5
            - color: '#d44a3a'
              value: 1
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 12
        "y": 17
      id: 84
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: max by (cluster) (elasticsearch_cluster_health_relocating_shards{namespace=~"$namespace",cluster=~"$app",pod=~"$pod"})
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: ""
        refId: A
      title: Relocating Shards
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings:
          - options:
              match: "null"
              result:
                text: N/A
            type: special
          thresholds:
            mode: absolute
            steps:
            - color: '#299c46'
              value: null
            - color: rgba(237, 129, 40, 0.89)
              value: 0.5
            - color: '#d44a3a'
              value: 1
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 16
        "y": 17
      id: 86
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: sum(max by (cluster) (elasticsearch_cluster_health_unassigned_shards{namespace=~"$namespace",cluster=~"$app"}))
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: ""
        refId: A
      title: Unassigned Shards
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings:
          - options:
              match: "null"
              result:
                text: N/A
            type: special
          thresholds:
            mode: absolute
            steps:
            - color: '#299c46'
              value: null
            - color: rgba(237, 129, 40, 0.89)
              value: 0.5
            - color: '#d44a3a'
              value: 1
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 20
        "y": 17
      id: 88
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: max by (cluster) (elasticsearch_cluster_health_delayed_unassigned_shards{namespace=~"$namespace",cluster=~"$app",pod=~"$pod"})
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: ""
        refId: A
      title: Delayed Unassigned Shards
      type: stat
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 20
      id: 68
      panels: []
      title: System
      type: row
    - aliasColors: {}
      bars: false
      cacheTimeout: null
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 21
      hiddenSeries: false
      id: 12
      interval: null
      legend:
        alignAsTable: true
        avg: true
        current: true
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      maxDataPoints: 100
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: elasticsearch_os_mem_used_bytes{namespace=~"$namespace",cluster=~"$app",pod=~"$pod"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{name}}'
        metric: ""
        refId: A
        step: 1800
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Memory Used
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1032
        format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:1033
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      cacheTimeout: null
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 21
      hiddenSeries: false
      id: 97
      interval: null
      legend:
        alignAsTable: true
        avg: true
        current: true
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      maxDataPoints: 100
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: elasticsearch_os_mem_free_bytes{namespace=~"$namespace",cluster=~"$app",pod=~"$pod"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{name}}'
        metric: ""
        refId: A
        step: 1800
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Memory Free
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1032
        format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:1033
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 28
      hiddenSeries: false
      id: 57
      legend:
        alignAsTable: true
        avg: true
        current: true
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - bucketAggs:
        - id: "2"
          settings:
            interval: auto
          type: date_histogram
        dsType: elasticsearch
        exemplar: true
        expr: elasticsearch_os_cpu_percent{namespace=~"$namespace",cluster=~"$app",pod=~"$pod"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{name}}'
        metric: elasticsearch_breakers_tripped
        metrics:
        - id: "1"
          type: count
        refId: A
        step: 240
        timeField: failure_tstamp
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Avg. CPU Usage Rate
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1526
        format: short
        label: ""
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:1527
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      editable: true
      error: false
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      grid: {}
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 28
      hiddenSeries: false
      id: 28
      legend:
        alignAsTable: true
        avg: true
        current: true
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: avg_over_time(elasticsearch_jvm_memory_used_bytes{area="heap",namespace=~"$namespace",cluster=~"$app",pod=~"$pod"}[15m])
          / elasticsearch_jvm_memory_max_bytes{area="heap",namespace=~"$namespace",cluster=~"$app",pod=~"$pod"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{name}}'
        refId: A
        step: 240
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Avg Heap in 15min
      tooltip:
        msResolution: true
        shared: true
        sort: 0
        value_type: cumulative
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1447
        format: percentunit
        label: ""
        logBase: 1
        max: 1
        min: 0
        show: true
      - $$hashKey: object:1448
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: false
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      editable: true
      error: false
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      grid: {}
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 35
      hiddenSeries: false
      id: 5
      legend:
        alignAsTable: true
        avg: true
        current: true
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(elasticsearch_transport_rx_packets_total{namespace=~"$namespace",cluster=~"$app",pod=~"$pod"}[5m])
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{name}}-RX'
        refId: A
        step: 240
      - exemplar: true
        expr: rate(elasticsearch_transport_tx_packets_total{namespace=~"$namespace",cluster=~"$app",pod=~"$pod"}[5m])
          * -1
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{name}}-TX'
        refId: B
        step: 240
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: RX/TX Rate 5m
      tooltip:
        msResolution: true
        shared: true
        sort: 0
        value_type: cumulative
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1686
        format: short
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:1687
        format: short
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      editable: true
      error: false
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      grid: {}
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 35
      hiddenSeries: false
      id: 65
      legend:
        alignAsTable: true
        avg: true
        current: true
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: irate(elasticsearch_jvm_gc_collection_seconds_sum{namespace=~"$namespace",cluster=~"$app",pod=~"$pod"}[1m])
        interval: ""
        intervalFactor: 2
        legendFormat: '{{ name }} {{ gc }}'
        refId: A
        step: 240
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: GC seconds
      tooltip:
        msResolution: true
        shared: true
        sort: 0
        value_type: cumulative
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1769
        format: s
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:1770
        format: s
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 42
      id: 70
      panels: []
      title: Documents
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: null
      editable: true
      error: false
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      grid: {}
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 43
      hiddenSeries: false
      id: 3
      legend:
        alignAsTable: true
        avg: true
        current: true
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: elasticsearch_indices_docs{namespace=~"$namespace",cluster=~"$app",pod=~"$pod"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{name}}'
        refId: A
        step: 240
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Documents indexed
      tooltip:
        msResolution: true
        shared: true
        sort: 0
        value_type: cumulative
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:249
        format: short
        logBase: 1
        max: null
        min: 0
        show: true
      - $$hashKey: object:250
        format: short
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      editable: true
      error: false
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      grid: {}
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 43
      hiddenSeries: false
      id: 4
      legend:
        alignAsTable: true
        avg: true
        current: true
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: elasticsearch_indices_store_size_bytes{namespace=~"$namespace",cluster=~"$app",pod=~"$pod"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{name}}'
        refId: A
        step: 240
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Index Size
      tooltip:
        msResolution: true
        shared: true
        sort: 0
        value_type: cumulative
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:461
        format: bytes
        logBase: 1
        max: null
        min: 0
        show: true
      - $$hashKey: object:462
        format: short
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 50
      hiddenSeries: false
      id: 72
      legend:
        alignAsTable: true
        avg: true
        current: true
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(elasticsearch_indices_indexing_index_total{namespace=~"$namespace",cluster=~"$app",pod=~"$pod"}[1h])
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: '{{name}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Documents Indexed Rate
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:158
        format: short
        label: Documents/s
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:159
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 50
      hiddenSeries: false
      id: 74
      legend:
        alignAsTable: true
        avg: true
        current: true
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(elasticsearch_indices_search_fetch_total{namespace="$namespace",cluster=~"$app",pod=~"$pod"}[1h])
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: '{{name}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Query Rate
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:706
        format: short
        label: Queris/s
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:707
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    refresh: 10s
    schemaVersion: 27
    style: dark
    tags:
    - infra
    - elastic
    - kubedb
    - elasticsearch
    templating:
      list:
      - current:
          selected: false
          text: default
          value: default
        description: null
        error: null
        hide: 0
        includeAll: false
        label: ""
        multi: false
        name: datasource
        options: []
        query: prometheus
        queryValue: ""
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: null
        current:
          selected: false
          text: demo
          value: demo
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: ""
        multi: false
        name: namespace
        options: []
        query: label_values(kube_namespace_created,namespace)
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text: sample-es-cpu
          value: sample-es-cpu
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: null
        multi: false
        name: app
        options: []
        query: label_values(elasticsearch_cluster_health_status{namespace=~"$namespace"},cluster)
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: true
          text:
          - sample-es-cpu-0
          value:
          - sample-es-cpu-0
        datasource: ${datasource}
        definition: label_values(elasticsearch_cluster_health_status{namespace=~"$namespace",cluster=~"$app"},pod)
        description: null
        error: null
        hide: 0
        includeAll: true
        label: null
        multi: true
        name: pod
        options: []
        query: label_values(elasticsearch_cluster_health_status{namespace=~"$namespace",cluster=~"$app"},pod)
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-6h
      to: now
    timepicker:
      refresh_intervals:
      - 5s
      - 10s
      - 30s
      - 1m
      - 5m
      - 15m
      - 30m
      - 1h
      - 2h
      - 1d
      time_options:
      - 5m
      - 15m
      - 1h
      - 6h
      - 12h
      - 24h
      - 2d
      - 7d
      - 30d
    timezone: utc
    title: KubeDB / Elasticsearch / Pod
    version: 3
  overwrite: true
  templatize:
    title: false
    datasource: false
---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-elasticsearch-summary
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: Elasticsearch
    k8s.io/resource: elasticsearches
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - builtIn: 1
        datasource: -- Grafana --
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        target:
          limit: 100
          matchAny: false
          tags: []
          type: dashboard
        type: dashboard
    description: The dashboard is designed for KubeDB managed Elasticsearch
    editable: true
    gnetId: 9628
    graphTooltip: 0
    iteration: 1691674095280
    links: []
    panels:
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 0
      id: 136
      panels: []
      title: General Info
      type: row
    - datasource: ${datasource}
      description: Represent database status
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          mappings:
          - options:
              Critical:
                color: dark-yellow
                index: 1
              DataRestoring:
                color: dark-red
                index: 4
              Halted:
                color: dark-red
                index: 5
              NotReady:
                color: dark-red
                index: 2
              Provisioning:
                color: text
                index: 3
              Ready:
                color: semi-dark-green
                index: 0
            type: value
          thresholds:
            mode: absolute
            steps:
            - color: text
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 8
        x: 0
        "y": 1
      id: 78
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: /^phase$/
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: |
          kubedb_com_elasticsearch_status_phase{namespace="$namespace", app="$app"} == 1
        format: table
        instant: true
        interval: ""
        legendFormat: '{{phase}}'
        refId: A
      title: Database Status
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      description: ElasticsearchVersion CR Name
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings:
          - options:
              match: "null"
              result:
                index: 0
                text: N/A
            type: special
          noValue: N/A
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: s
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 8
        "y": 1
      id: 145
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: value
      pluginVersion: 7.5.5
      targets:
      - exemplar: false
        expr: time() - kubedb_com_elasticsearch_created{namespace="$namespace", app="$app"}
        format: time_series
        instant: true
        interval: ""
        intervalFactor: 1
        legendFormat: ""
        refId: A
      title: Database Up-time
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      description: ElasticsearchVersion CR Name
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings:
          - options:
              match: "null"
              result:
                index: 0
                text: N/A
            type: special
          noValue: N/A
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 12
        "y": 1
      id: 36
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - mean
          fields: ""
          values: false
        text: {}
        textMode: name
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_elasticsearch_info{namespace="$namespace", app="$app"}
        format: time_series
        instant: true
        interval: ""
        intervalFactor: 1
        legendFormat: '{{version}}'
        refId: A
      title: Version
      type: stat
    - datasource: ${datasource}
      description: KubeDB Elasticsearch HTTP layer status
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          mappings:
          - from: ""
            id: 1
            text: Secure
            to: ""
            type: 1
            value: "1"
          - from: ""
            id: 2
            text: Insecure
            to: ""
            type: 1
            value: "0"
          - from: ""
            id: 3
            text: ""
            to: ""
            type: 1
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 16
        "y": 1
      id: 82
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: value
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_elasticsearch_security_http_ssl_enabled{namespace="$namespace",
          app="$app"}
        format: time_series
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: HTTP Layer
      type: stat
    - datasource: ${datasource}
      description: KubeDB Database Resource terminationPolicy
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          mappings:
          - options:
              Delete:
                color: yellow
                index: 1
              DoNotTerminate:
                color: green
                index: 2
              Halt:
                color: blue
                index: 3
              WipeOut:
                color: dark-red
                index: 0
            type: value
          thresholds:
            mode: absolute
            steps:
            - color: text
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 20
        "y": 1
      id: 84
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: /^terminationPolicy$/
          values: false
        text: {}
        textMode: value
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_elasticsearch_info{namespace="$namespace", app="$app"}
        format: table
        instant: true
        interval: ""
        legendFormat: '{{terminationPolicy}}'
        refId: A
      title: Termination Policy
      type: stat
    - datasource: ${datasource}
      description: Total node count of Elasticsearch cluster
      fieldConfig:
        defaults:
          color:
            fixedColor: green
            mode: fixed
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 0
        "y": 4
      id: 76
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_elasticsearch_replicas{namespace="$namespace",app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Total Nodes
      type: stat
    - datasource: ${datasource}
      description: Initial Requested CPU amount by Postgres Instance
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          min: 0
          thresholds:
            mode: percentage
            steps:
            - color: green
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 4
        "y": 4
      id: 92
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_elasticsearch_resource_request_cpu{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: CPU Request (Core)
      type: stat
    - datasource: ${datasource}
      description: CPU Limit in core by Elasticsearch instance
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 8
        "y": 4
      id: 114
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_elasticsearch_resource_limit_cpu{namespace="$namespace", app="$app"}
        interval: ""
        legendFormat: ""
        refId: A
      title: CPU Limit (Core)
      type: stat
    - datasource: ${datasource}
      description: Initial Requested Memory amount by Elasticsearch Instance
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          min: 0
          thresholds:
            mode: percentage
            steps:
            - color: green
              value: null
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 12
        "y": 4
      id: 94
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_elasticsearch_resource_request_memory{namespace="$namespace",
          app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Memory Request
      type: stat
    - datasource: ${datasource}
      description: KubeDB Elasticsearch Total Memory Limit
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 16
        "y": 4
      id: 116
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_elasticsearch_resource_limit_memory{namespace="$namespace", app="$app"}
        interval: ""
        legendFormat: ""
        refId: A
      title: Memory Limit
      type: stat
    - datasource: ${datasource}
      description: Total storage request by Elasticsearch nodes
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          min: 0
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 20
        "y": 4
      id: 96
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_elasticsearch_resource_request_storage{namespace="$namespace",
          app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Storage Request
      type: stat
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 7
      id: 138
      panels: []
      title: CPU Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: CPU Usage by Elasticsearch pods
      fieldConfig:
        defaults:
          unit: short
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 8
      hiddenSeries: false
      id: 98
      legend:
        alignAsTable: true
        avg: true
        current: true
        max: true
        min: true
        rightSide: true
        show: true
        sort: current
        sortDesc: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{namespace="$namespace",
          pod=~"$app-.+$"}) by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: CPU Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      description: CPU Quote information in details
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            displayMode: auto
            filterable: false
          decimals: 2
          displayName: ""
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: Time
          properties:
          - id: displayName
            value: Time
          - id: custom.align
            value: null
          - id: custom.width
            value: null
        - matcher:
            id: byName
            options: 'Value #A'
          properties:
          - id: displayName
            value: CPU Usage
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #B'
          properties:
          - id: displayName
            value: CPU Requests
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #C'
          properties:
          - id: displayName
            value: CPU Requests %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #D'
          properties:
          - id: displayName
            value: CPU Limits
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #E'
          properties:
          - id: displayName
            value: CPU Limits %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: pod
          properties:
          - id: displayName
            value: Pod
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: links
            value:
            - targetBlank: false
              title: Drill down
              url: ./d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-pod=$__cell
          - id: custom.align
            value: null
      gridPos:
        h: 6
        w: 24
        x: 0
        "y": 15
      id: 122
      links: []
      options:
        showHeader: true
        sortBy:
        - desc: true
          displayName: CPU Requests %
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: sum(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{namespace="$namespace",
          pod=~"$app-.+$"}) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
        step: 10
      - exemplar: true
        expr: sum(cluster:namespace:pod_cpu:active:kube_pod_container_resource_requests{namespace="$namespace",
          pod=~"$app-.+$"}) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: B
        step: 10
      - exemplar: true
        expr: sum(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{namespace="$namespace",
          pod=~"$app-.+$"}) by (pod) / sum(cluster:namespace:pod_cpu:active:kube_pod_container_resource_requests{namespace="$namespace",
          pod=~"$app-.+$"}) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: C
        step: 10
      - exemplar: true
        expr: sum(cluster:namespace:pod_cpu:active:kube_pod_container_resource_limits{namespace="$namespace",
          pod=~"$app-.+$"}) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: D
        step: 10
      - exemplar: true
        expr: sum(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{namespace="$namespace",
          pod=~"$app-.+$"}) by (pod) / sum(cluster:namespace:pod_cpu:active:kube_pod_container_resource_limits{namespace="$namespace",
          pod=~"$app-.+$"}) by (pod)
        format: table
        hide: false
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: E
        step: 10
      timeFrom: null
      timeShift: null
      title: CPU Quota
      transformations:
      - id: merge
        options:
          reducers: []
      type: table
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 21
      id: 140
      panels: []
      title: Memory Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Memory Usage by Elasticsearch pods
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 6
        w: 24
        x: 0
        "y": 22
      hiddenSeries: false
      id: 100
      legend:
        alignAsTable: true
        avg: true
        current: true
        max: true
        min: true
        rightSide: true
        show: true
        sort: current
        sortDesc: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(node_namespace_pod_container:container_memory_working_set_bytes{namespace="$namespace",
          pod=~"$app-.+$",container!=""}) by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Memory Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            displayMode: auto
            filterable: false
          decimals: 2
          displayName: ""
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: Time
          properties:
          - id: displayName
            value: Time
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #A'
          properties:
          - id: displayName
            value: Memory Usage
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #B'
          properties:
          - id: displayName
            value: Memory Requests
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #C'
          properties:
          - id: displayName
            value: Memory Requests %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #D'
          properties:
          - id: displayName
            value: Memory Limits
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #E'
          properties:
          - id: displayName
            value: Memory Limits %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #F'
          properties:
          - id: displayName
            value: Memory Usage (RSS)
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #G'
          properties:
          - id: displayName
            value: Memory Usage (Cache)
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #H'
          properties:
          - id: displayName
            value: Memory Usage (Swap)
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: pod
          properties:
          - id: displayName
            value: Pod
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: links
            value:
            - targetBlank: false
              title: Drill down
              url: ./d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-pod=$__cell
          - id: custom.align
            value: null
      gridPos:
        h: 6
        w: 24
        x: 0
        "y": 28
      id: 124
      links: []
      options:
        showHeader: true
        sortBy:
        - desc: true
          displayName: Memory Usage
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{namespace="$namespace",pod=~"$app-.+$",container!="",
          image!=""}) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
        step: 10
      - exemplar: true
        expr: sum(cluster:namespace:pod_memory:active:kube_pod_container_resource_requests{namespace="$namespace",pod=~"$app-.+$"})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: B
        step: 10
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{namespace="$namespace",pod=~"$app-.+$",container!="",
          image!=""}) by (pod) / sum(cluster:namespace:pod_memory:active:kube_pod_container_resource_requests{namespace="$namespace",pod=~"$app-.+$"})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: C
        step: 10
      - exemplar: true
        expr: sum(cluster:namespace:pod_memory:active:kube_pod_container_resource_limits{namespace="$namespace",pod=~"$app-.+$"})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: D
        step: 10
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{namespace="$namespace",pod=~"$app-.+$",container!="",
          image!=""}) by (pod) / sum(cluster:namespace:pod_memory:active:kube_pod_container_resource_limits{namespace="$namespace",
          pod=~"$app-.+$"}) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: E
        step: 10
      - exemplar: true
        expr: sum(container_memory_rss{namespace="$namespace",pod=~"$app-.+$",container!=""})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: F
        step: 10
      - exemplar: true
        expr: sum(container_memory_cache{namespace="$namespace",pod=~"$app-.+$",container!=""})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: G
        step: 10
      - exemplar: true
        expr: sum(container_memory_swap{namespace="$namespace",pod=~"$app-.+$",container!=""})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: H
        step: 10
      timeFrom: null
      timeShift: null
      title: Memory Quota
      transformations:
      - id: merge
        options:
          reducers: []
      type: table
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 34
      id: 142
      panels: []
      title: Storage Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Disk usage by Elasticsearch pods
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 9
        w: 12
        x: 0
        "y": 35
      hiddenSeries: false
      id: 112
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
        legend:
          calcs: []
          displayMode: list
          placement: bottom
        tooltip:
          mode: single
        tooltipOptions:
          mode: single
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: avg(container_blkio_device_usage_total{namespace="$namespace", pod=~"$app-.+$"})
          by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Disk Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: System Disk Usage Information
      fieldConfig:
        defaults:
          unit: none
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 9
        w: 12
        x: 12
        "y": 35
      hiddenSeries: false
      id: 108
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
        legend:
          calcs: []
          displayMode: table
          placement: right
        tooltip:
          mode: single
        tooltipOptions:
          mode: single
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(rate(container_fs_writes_total{namespace="$namespace", pod=~"$app-.+$"}[5m]))by(pod)
        instant: false
        interval: ""
        intervalFactor: 1
        legendFormat: '{{pod}}-disk-write'
        refId: A
      - exemplar: true
        expr: sum(rate(container_fs_reads_total{namespace="$namespace", pod=~"$app-.+$"}[5m]))by(pod)
        hide: false
        instant: false
        interval: ""
        legendFormat: '{{pod}}-disk-read'
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Disk R/W Info
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: none
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: short
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 44
      hiddenSeries: false
      id: 126
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
        legend:
          calcs: []
          displayMode: list
          placement: bottom
        tooltip:
          mode: single
        tooltipOptions:
          mode: single
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: ceil(sum by(pod) (rate(container_fs_reads_total{container!="", namespace=~"$namespace",
          pod=~"$app-.+$"}[5m]) + rate(container_fs_writes_total{container!="" ,namespace=~"$namespace",
          pod=~"$app-.+$"}[5m])))
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: IOPS (Reads+Writes)
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: Bps
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 44
      hiddenSeries: false
      id: 128
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
        legend:
          calcs: []
          displayMode: list
          placement: bottom
        tooltip:
          mode: single
        tooltipOptions:
          mode: single
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_bytes_total{container!="", namespace=~"$namespace",
          pod=~"$app-.+$"}[5m]) + rate(container_fs_writes_bytes_total{container!="" ,namespace=~"$namespace",
          pod=~"$app-.+$"}[5m]))
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: ThroughPut (Read+Write)
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: Bps
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            displayMode: auto
            filterable: false
          decimals: 2
          displayName: ""
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: Time
          properties:
          - id: displayName
            value: Time
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #A'
          properties:
          - id: displayName
            value: IOPS(Reads)
          - id: unit
            value: short
          - id: decimals
            value: -1
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #B'
          properties:
          - id: displayName
            value: IOPS(Writes)
          - id: unit
            value: short
          - id: decimals
            value: -1
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #C'
          properties:
          - id: displayName
            value: IOPS(Reads + Writes)
          - id: unit
            value: short
          - id: decimals
            value: -1
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #D'
          properties:
          - id: displayName
            value: Throughput(Read)
          - id: unit
            value: Bps
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #E'
          properties:
          - id: displayName
            value: Throughput(Write)
          - id: unit
            value: Bps
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #F'
          properties:
          - id: displayName
            value: Throughput(Read + Write)
          - id: unit
            value: Bps
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: pod
          properties:
          - id: displayName
            value: Pod
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: links
            value:
            - targetBlank: false
              title: Drill down to pods
              url: ./d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-pod=$__cell
          - id: custom.align
            value: null
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 51
      id: 130
      links: []
      options:
        showHeader: true
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_total{container!="", pod=~"$app-.+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_writes_total{container!="", pod=~"$app-.+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: B
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_total{container!="", pod=~"$app-.+$",namespace=~"$namespace"}[5m])
          + rate(container_fs_writes_total{container!="",pod=~"$app-.+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: C
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_bytes_total{container!="", pod=~"$app-.+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: D
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_writes_bytes_total{container!="", pod=~"$app-.+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: E
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_bytes_total{container!="", pod=~"$app-.+$",namespace=~"$namespace"}[5m])
          + rate(container_fs_writes_bytes_total{container!="",pod=~"$app-.+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: F
        step: 10
      timeFrom: null
      timeShift: null
      title: Current Storage IO
      transformations:
      - id: merge
        options:
          reducers: []
      type: table
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 58
      id: 153
      panels: []
      title: Persistent Storage Insight
      type: row
    - datasource: ${datasource}
      description: |
        This panel describes allocated persistent storage in a table format
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: center
            displayMode: color-text
            filterable: false
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: light-blue
              value: null
          unit: decbytes
        overrides: []
      gridPos:
        h: 6
        w: 12
        x: 0
        "y": 59
      id: 147
      options:
        showHeader: true
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubelet_volume_stats_capacity_bytes + on(persistentvolumeclaim) group_left(pod)
          kube_pod_spec_volumes_persistentvolumeclaims_info{pod=~"$app-.+$",namespace=~"$namespace"}
        format: table
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Allocated Storage
      transformations:
      - id: organize
        options:
          excludeByName:
            Time: true
            endpoint: true
            instance: true
            job: true
            metrics_path: true
            namespace: true
            node: true
            persistentvolumeclaim: true
            service: true
          indexByName: {}
          renameByName:
            Value: Volume
            pod: Pod
      type: table
    - datasource: ${datasource}
      description: 'This panel shows the persistent volume usage in percentage. '
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: percent
        overrides: []
      gridPos:
        h: 6
        w: 12
        x: 12
        "y": 59
      id: 149
      options:
        displayMode: gradient
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        showUnfilled: true
        text: {}
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: (kubelet_volume_stats_used_bytes / on(persistentvolumeclaim) group_left(pod)
          (kubelet_volume_stats_capacity_bytes + on(persistentvolumeclaim) group_left(pod)
          kube_pod_spec_volumes_persistentvolumeclaims_info{pod=~"$app-.+$",namespace=~"$namespace"})
          )* 100
        instant: true
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      title: Persistent Volume Usage
      transformations: []
      type: bargauge
    - datasource: ${datasource}
      description: 'This panel describes the persistent volume usage in a time series. '
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            axisSoftMax: 5000
            axisSoftMin: 0
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: opacity
            hideFrom:
              graph: false
              legend: false
              tooltip: false
            lineInterpolation: linear
            lineStyle:
              fill: solid
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: true
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: decbytes
        overrides: []
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 65
      id: 151
      options:
        graph: {}
        legend:
          calcs:
          - max
          - lastNotNull
          displayMode: table
          placement: right
        tooltipOptions:
          mode: single
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: '(kubelet_volume_stats_used_bytes + on(persistentvolumeclaim) group_left(pod)
          kube_pod_spec_volumes_persistentvolumeclaims_info{pod=~"$app-.+$",namespace=~"$namespace"}) '
        interval: ""
        intervalFactor: 1
        legendFormat: '{{pod}}'
        refId: A
      title: Persistent Volume Usage History
      type: timeseries
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 73
      id: 144
      panels: []
      title: Network Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: Bps
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 74
      hiddenSeries: false
      id: 132
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
        legend:
          calcs: []
          displayMode: list
          placement: bottom
        tooltip:
          mode: single
        tooltipOptions:
          mode: single
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(irate(container_network_receive_bytes_total{namespace=~"$namespace",
          pod=~"$app-.+$"}[$__rate_interval])) by (pod)
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Receive Bandwidth
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: Bps
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: Bps
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 74
      hiddenSeries: false
      id: 134
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
        legend:
          calcs: []
          displayMode: list
          placement: bottom
        tooltip:
          mode: single
        tooltipOptions:
          mode: single
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(irate(container_network_transmit_bytes_total{namespace=~"$namespace",
          pod=~"$app-.+$"}[$__rate_interval])) by (pod)
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Transmit Bandwidth
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: Bps
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    refresh: 30s
    schemaVersion: 27
    style: dark
    tags:
    - infra
    - elastic
    - kubedb
    - elasticsearch
    templating:
      list:
      - current:
          selected: true
          text: default
          value: default
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Datasource
        multi: false
        name: datasource
        options: []
        query: prometheus
        queryValue: ""
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: '".+"'
        current:
          selected: false
          text: default
          value: default
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Namespace
        multi: false
        name: namespace
        options: []
        query:
          query: label_values(kube_namespace_created,namespace)
          refId: Prometheus-namespace-Variable-Query
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text: es-prod
          value: es-prod
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: ""
        multi: false
        name: app
        options: []
        query:
          query: label_values(kubedb_com_elasticsearch_status_phase{namespace=~"$namespace"},app)
          refId: Prometheus-app-Variable-Query
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-6h
      to: now
    timepicker:
      refresh_intervals:
      - 5s
      - 10s
      - 30s
      - 1m
      - 5m
      - 15m
      - 30m
      - 1h
      - 2h
      - 1d
      time_options:
      - 5m
      - 15m
      - 1h
      - 6h
      - 12h
      - 24h
      - 2d
      - 7d
      - 30d
    timezone: ""
    title: KubeDB / Elasticsearch / Summary
    version: 5
  overwrite: true
  templatize:
    title: false
    datasource: false
---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-kafka-database
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: Kafka
    k8s.io/resource: kafkas
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - builtIn: 1
        datasource: ${datasource}
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        type: dashboard
    editable: true
    gnetId: null
    graphTooltip: 0
    iteration: 1709887753783
    links: []
    panels:
    - datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 0
      id: 2
      title: Kafka Server
      type: row
    - datasource: ${datasource}
      description: Status of Kafka Cluster
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 0
        "y": 1
      id: 4
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: /^phase$/
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_kafka_status_phase{namespace="$namespace", app="$app"} == 1
        format: table
        interval: ""
        legendFormat: ""
        refId: A
      timeFrom: null
      timeShift: null
      title: Status
      type: stat
    - datasource: ${datasource}
      description: Cluster Uptime
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: s
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 4
        "y": 1
      id: 6
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: time() - process_start_time_seconds{namespace=~"$namespace",pod=~"$app-.+$"}
        format: table
        interval: ""
        legendFormat: ""
        refId: A
      timeFrom: null
      timeShift: null
      title: Uptime
      type: stat
    - datasource: ${datasource}
      description: Current ID of the controller
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: super-light-yellow
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 3
        x: 8
        "y": 1
      id: 169
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kafka_server_raft_metrics_current_leader{namespace=~"$namespace",pod=~"$app.+$"}
        format: table
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Controller Leader ID
      type: stat
    - datasource: ${datasource}
      description: Name of Controller leader
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 5
        x: 11
        "y": 1
      id: 171
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: /^pod$/
          values: false
        text:
          titleSize: 1
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: 'kafka_controller_kafkacontroller_activecontrollercount{namespace=~"$namespace",pod=~"$app.+$"}
          == 1 '
        format: table
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Controller Leader
      type: stat
    - datasource: ${datasource}
      description: JVM version of the cluster
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 3
        w: 8
        x: 16
        "y": 1
      id: 147
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: /^jdk$/
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: label_join(jvm_info{namespace="$namespace", pod=~"$app-.+$"}, "jdk", ",
          ", "vendor", "runtime", "version")
        format: table
        interval: ""
        legendFormat: ""
        refId: A
      title: JVM Version
      type: stat
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 4
      id: 185
      panels: []
      title: Topics
      type: row
    - datasource: ${datasource}
      description: The number of global topics as observed by this Controller.
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: auto
            displayMode: auto
            filterable: false
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 5
      id: 56
      options:
        cellHeight: sm
        footer:
          countRows: false
          fields: ""
          reducer:
          - sum
          show: false
        showHeader: true
      pluginVersion: 7.5.5
      repeatDirection: v
      targets:
      - datasource:
          type: prometheus
          uid: prometheus
        exemplar: true
        expr: kafka_controller_kafkacontroller_globaltopiccount{namespace="$namespace",
          pod=~"$app-.+$"}
        format: table
        instant: true
        interval: ""
        legendFormat: '{{ $pod }}'
        refId: A
      title: Global Topic count
      transformations:
      - id: organize
        options:
          excludeByName:
            __name__: true
            Time: true
            container: true
            endpoint: true
            instance: true
            job: true
            service: true
          indexByName:
            __name__: 1
            Time: 0
            Value: 9
            container: 2
            endpoint: 3
            instance: 4
            job: 5
            namespace: 7
            pod: 6
            service: 8
          renameByName: {}
      type: table
    - datasource: ${datasource}
      description: The number of global partitions as observed by this Controller.
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: auto
            displayMode: auto
            filterable: false
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 5
      id: 109
      options:
        cellHeight: sm
        footer:
          countRows: false
          fields: ""
          reducer:
          - sum
          show: false
        showHeader: true
      pluginVersion: 7.5.5
      targets:
      - datasource:
          type: prometheus
          uid: ${datasource}
        exemplar: true
        expr: kafka_controller_kafkacontroller_globalpartitioncount{namespace="$namespace",
          pod=~"$app-.+$"}
        format: table
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: "Global Partition Count\t"
      transformations:
      - id: organize
        options:
          excludeByName:
            __name__: true
            Time: true
            container: true
            endpoint: true
            instance: true
            job: true
          indexByName:
            __name__: 1
            Time: 0
            Value: 9
            container: 2
            endpoint: 3
            instance: 4
            job: 5
            namespace: 7
            pod: 6
            service: 8
          renameByName: {}
      type: table
    - datasource: ${datasource}
      description: "The number of offline topic partitions (non-internal) as observed
        by this Controller.\t"
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: auto
            displayMode: auto
            filterable: false
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 13
      id: 111
      options:
        cellHeight: sm
        footer:
          countRows: false
          fields: ""
          reducer:
          - sum
          show: false
        showHeader: true
      pluginVersion: 7.5.5
      targets:
      - datasource:
          type: prometheus
          uid: ${datasource}
        exemplar: true
        expr: kafka_controller_kafkacontroller_offlinepartitionscount{namespace="$namespace",
          pod=~"$app-.+$"}
        format: table
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: "Offline Partition Count\t"
      transformations:
      - id: organize
        options:
          excludeByName:
            __name__: true
            Time: true
            container: true
            endpoint: true
            instance: true
            job: true
            service: true
          indexByName:
            __name__: 1
            Time: 0
            Value: 9
            container: 2
            endpoint: 3
            instance: 4
            job: 5
            namespace: 7
            pod: 6
            service: 8
          renameByName: {}
      type: table
    - datasource: ${datasource}
      description: "The count of topic partitions for which the leader is not the preferred
        leader.\t"
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: auto
            displayMode: auto
            filterable: false
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 13
      id: 113
      options:
        cellHeight: sm
        footer:
          countRows: false
          fields: ""
          reducer:
          - sum
          show: false
        showHeader: true
      pluginVersion: 7.5.5
      targets:
      - datasource:
          type: prometheus
          uid: ${datasource}
        exemplar: true
        expr: kafka_controller_kafkacontroller_preferredreplicaimbalancecount{namespace="$namespace",
          pod=~"$app-.+$"}
        format: table
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: "Preferred Replica Imbalance Count\t"
      transformations:
      - id: organize
        options:
          excludeByName:
            __name__: true
            Time: true
            container: true
            endpoint: true
            instance: true
            job: true
            service: true
          indexByName:
            __name__: 1
            Time: 0
            Value: 9
            container: 2
            endpoint: 3
            instance: 4
            job: 5
            namespace: 7
            pod: 6
            service: 8
          renameByName: {}
      type: table
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            displayMode: auto
            filterable: false
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides: []
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 21
      id: 116
      options:
        showHeader: true
        sortBy: []
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kafka_cluster_partition_replicascount{namespace="$namespace", pod=~"$app-.+$"}
        format: table
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      timeFrom: null
      timeShift: null
      title: Topic partition and replicas
      transformations:
      - id: filterFieldsByName
        options:
          include:
            names:
            - partition
            - pod
            - topic
            - Value
      - id: organize
        options:
          excludeByName: {}
          indexByName:
            Value: 3
            partition: 2
            pod: 0
            topic: 1
          renameByName:
            Value: replica
      type: table
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            displayMode: auto
            filterable: false
          mappings:
          - options:
              "":
                text: ""
            type: value
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: IsUnderreplicated
          properties:
          - id: mappings
            value:
            - from: ""
              id: 1
              text: "NO"
              to: ""
              type: 1
              value: "0"
            - from: ""
              id: 2
              text: "YES"
              to: ""
              type: 1
              value: "1"
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 21
      id: 143
      options:
        showHeader: true
        sortBy: []
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kafka_cluster_partition_underreplicated{namespace="$namespace", pod=~"$app-.+$"}
        format: table
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      timeFrom: null
      timeShift: null
      title: Underreplicated partitions
      transformations:
      - id: filterFieldsByName
        options:
          include:
            names:
            - partition
            - pod
            - topic
            - Value
      - id: organize
        options:
          excludeByName: {}
          indexByName:
            Value: 3
            partition: 2
            pod: 0
            topic: 1
          renameByName:
            Value: IsUnderreplicated
      type: table
    - datasource: ${datasource}
      description: Number of unknown voter connection
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            filterable: false
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 29
      id: 175
      options:
        showHeader: true
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kafka_server_raft_metrics_number_unknown_voter_connections{namespace=~"$namespace",pod=~"$app.+$"}
        format: table
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Unknown Voter Connection
      transformations:
      - id: filterFieldsByName
        options:
          include:
            names:
            - namespace
            - pod
            - service
            - Value
      - id: organize
        options:
          excludeByName: {}
          indexByName:
            Value: 3
            namespace: 1
            pod: 0
            service: 2
          renameByName:
            Value: Unknown voter count
      type: table
    - datasource: ${datasource}
      description: The high watermark maintained on a member; -1 if it is unknown.
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            filterable: false
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 29
      id: 173
      options:
        showHeader: true
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kafka_server_raft_metrics_high_watermark{namespace=~"$namespace",pod=~"$app.+$"}
        format: table
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: High Watermark
      transformations:
      - id: filterFieldsByName
        options:
          include:
            names:
            - namespace
            - pod
            - service
            - Value
      - id: organize
        options:
          excludeByName: {}
          indexByName:
            Value: 3
            namespace: 1
            pod: 0
            service: 2
          renameByName:
            Value: High Watermark
      type: table
    - datasource: ${datasource}
      description: Incoming message rate per topic. Omitting 'topic=(...)' will yield
        the all-topic rate.
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: auto
            displayMode: auto
            filterable: false
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 37
      id: 155
      options:
        cellHeight: sm
        footer:
          countRows: false
          fields: ""
          reducer:
          - sum
          show: false
        showHeader: true
      pluginVersion: 7.5.5
      targets:
      - datasource:
          type: prometheus
          uid: ${datasource}
        exemplar: true
        expr: kafka_server_brokertopicmetrics_messagesin_total{namespace="$namespace",pod=~"$app-.+$"}
        format: table
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Messages in topics
      transformations:
      - id: reduce
        options:
          includeTimeField: false
          mode: reduceFields
          reducers:
          - lastNotNull
      - id: organize
        options:
          excludeByName:
            __name__: true
            Time: true
            container: true
            endpoint: true
            instance: true
            job: true
            service: true
          indexByName: {}
          renameByName:
            'Value #A': Number of messages
      type: table
    - datasource: ${datasource}
      description: Fetch request (from clients or followers) rate per topic.
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: auto
            displayMode: auto
            filterable: false
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 37
      id: 159
      options:
        cellHeight: sm
        footer:
          countRows: false
          fields: ""
          reducer:
          - sum
          show: false
        showHeader: true
      pluginVersion: 7.5.5
      targets:
      - datasource:
          uid: ${datasource}
        exemplar: true
        expr: kafka_server_brokertopicmetrics_totalfetchrequests_total{namespace="$namespace",pod=~"$app-.+$"}
        format: table
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Fetch request rate
      transformations:
      - id: reduce
        options:
          includeTimeField: false
          mode: reduceFields
          reducers:
          - lastNotNull
      - id: organize
        options:
          excludeByName:
            __name__: true
            container: true
            endpoint: true
            instance: true
            job: true
            service: true
          indexByName:
            __name__: 0
            Value: 9
            container: 1
            endpoint: 2
            instance: 3
            job: 4
            namespace: 6
            pod: 5
            service: 7
            topic: 8
          renameByName:
            Value: Bytes
      type: table
    - datasource: ${datasource}
      description: The first offset in a partition.
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: auto
            displayMode: auto
            filterable: false
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 45
      id: 163
      options:
        cellHeight: sm
        footer:
          countRows: false
          fields: ""
          reducer:
          - sum
          show: false
        showHeader: true
      pluginVersion: 7.5.5
      targets:
      - datasource:
          type: prometheus
          uid: ${datasource}
        exemplar: true
        expr: kafka_log_log_logstartoffset{namespace="$namespace",pod=~"$app-.+$"}
        format: table
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: First offset partitions
      transformations:
      - id: organize
        options:
          excludeByName:
            __name__: true
            Time: true
            container: true
            endpoint: true
            instance: true
            job: true
            service: true
          indexByName:
            __name__: 1
            Time: 0
            Value: 11
            container: 2
            endpoint: 3
            instance: 4
            job: 5
            namespace: 7
            partition: 8
            pod: 6
            service: 9
            topic: 10
          renameByName:
            Value: Start offset
      type: table
    - datasource: ${datasource}
      description: The last offset in a partition.
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: auto
            displayMode: auto
            filterable: false
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 45
      id: 165
      options:
        cellHeight: sm
        footer:
          countRows: false
          fields: ""
          reducer:
          - sum
          show: false
        frameIndex: 1
        showHeader: true
      pluginVersion: 7.5.5
      targets:
      - datasource:
          type: prometheus
          uid: ${datasource}
        exemplar: true
        expr: kafka_log_log_logendoffset{namespace="$namespace",pod=~"$app-.+$"}
        format: table
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Last offset partitions
      transformations:
      - id: organize
        options:
          excludeByName:
            __name__: true
            Time: true
            container: true
            endpoint: true
            instance: true
            job: true
            service: true
          indexByName:
            __name__: 1
            Time: 0
            Value: 11
            container: 2
            endpoint: 3
            instance: 4
            job: 5
            namespace: 7
            partition: 8
            pod: 6
            service: 9
            topic: 10
          renameByName:
            Value: End offset
      type: table
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 53
      id: 187
      panels: []
      title: I/O Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Linux disk reads in MiB
      fieldConfig:
        defaults:
          unit: mbytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 54
      hiddenSeries: false
      id: 181
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: kafka_server_kafkaserver_linux_disk_read_bytes{namespace=~"$namespace",pod=~"$app.+$"}
          / 1024 /1024
        interval: ""
        legendFormat: '{{ pod }}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Disk read
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:3368
        format: mbytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:3369
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Linux disk write in MiB
      fieldConfig:
        defaults:
          unit: mbytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 54
      hiddenSeries: false
      id: 183
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: kafka_server_kafkaserver_linux_disk_write_bytes{namespace=~"$namespace",pod=~"$app.+$"}
          / 1024 /1024
        interval: ""
        legendFormat: '{{ pod }}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Disk writes
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:3619
        format: mbytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:3620
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Total number of messages per topic
      fieldConfig:
        defaults:
          unit: short
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 62
      hiddenSeries: false
      id: 145
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: kafka_server_brokertopicmetrics_messagesin_total{namespace="$namespace",
          pod=~"$app-.+$", topic!~""}
        format: time_series
        instant: false
        interval: ""
        legendFormat: '{{ topic }}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Number of Messages
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Producer request made in all the brokers
      fieldConfig:
        defaults:
          unit: short
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 62
      hiddenSeries: false
      id: 151
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: kafka_server_brokertopicmetrics_totalproducerequests_total{namespace="$namespace",
          pod=~"$app-.+$"} != 0
        interval: ""
        legendFormat: '{{ pod }}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Producer requests
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: The average time in milliseconds to commit an entry in the raft log.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 1
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 70
      hiddenSeries: false
      id: 179
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: null as zero
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: kafka_server_raft_metrics_commit_latency_avg{namespace=~"$namespace",pod=~"$app.+$"}
        interval: ""
        legendFormat: '{{ pod }}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Average Commit Latency
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:3279
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:3280
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: The current quorum epoch.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 70
      hiddenSeries: false
      id: 177
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: kafka_server_raft_metrics_current_epoch{namespace=~"$namespace",pod=~"$app.+$"}
        instant: false
        interval: ""
        legendFormat: '{{ pod }}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Quorum Epoch
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:3024
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:3025
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Byte in/out (from the clients) rate per topic every 5m
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 0
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 78
      hiddenSeries: false
      id: 149
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(rate(kafka_server_brokertopicmetrics_bytesin_total{pod=~"$app-.+$",namespace=~"$namespace",topic!~""}[5m]))
          by (topic)
        format: time_series
        instant: false
        interval: ""
        legendFormat: '{{ topic }} (in)'
        refId: A
      - exemplar: true
        expr: sum(rate(kafka_server_brokertopicmetrics_bytesout_total{pod=~"$app-.+$",namespace=~"$namespace",topic!~""}[5m]))
          by (topic)
        hide: false
        interval: ""
        legendFormat: '{{ topic }} (out)'
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Byte in/out rate from clients
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: decbytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: between 0 and 1, ideally > 0.3
      fieldConfig:
        defaults:
          unit: percent
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 78
      hiddenSeries: false
      id: 167
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: kafka_server_kafkarequesthandlerpool_requesthandleravgidle_percent{namespace="$namespace",pod=~"$app-.+$"}
        instant: false
        interval: ""
        legendFormat: '{{ pod }}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: The average fraction of time the request handler threads are idle
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: percent
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      description: Byte in (from the clients) rate per topic. Omitting 'topic=(...)' will
        yield the all-topic rate.
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: auto
            displayMode: auto
            filterable: false
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 86
      id: 23763571993
      options:
        cellHeight: sm
        footer:
          countRows: false
          fields: ""
          reducer:
          - sum
          show: false
        frameIndex: 0
        showHeader: true
      pluginVersion: 7.5.5
      targets:
      - datasource:
          type: prometheus
          uid: ${datasource}
        exemplar: true
        expr: kafka_server_brokertopicmetrics_bytesin_total{namespace="$namespace",pod=~"$app-.+$"}
        format: table
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      - exemplar: true
        expr: kafka_server_brokertopicmetrics_bytesin_total{namespace="$namespace",pod=~"$app-.+$"}
        format: table
        hide: false
        instant: true
        interval: ""
        legendFormat: ""
        refId: B
      title: Byte in/out total from clients
      transformations:
      - id: merge
        options: {}
      - id: organize
        options:
          excludeByName: {}
          indexByName: {}
          renameByName:
            'Value #A': Bytes In
            'Value #B': Bytes Out
      - id: filterFieldsByName
        options:
          include:
            names:
            - pod
            - service
            - topic
            - Bytes In
            - Bytes Out
      type: table
    - datasource: ${datasource}
      description: Byte out (to the other brokers) rate per topic.
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: auto
            displayMode: auto
            filterable: false
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 86
      id: 161
      options:
        cellHeight: sm
        footer:
          countRows: false
          fields: ""
          reducer:
          - sum
          show: false
        showHeader: true
      pluginVersion: 7.5.5
      targets:
      - datasource:
          type: prometheus
          uid: ${datasource}
        exemplar: true
        expr: kafka_server_brokertopicmetrics_replicationbytesout_total{namespace="$namespace",pod=~"$app-.+$"}
        format: table
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Byte out rate to other brokers
      transformations:
      - id: organize
        options:
          excludeByName:
            __name__: true
            Time: true
            container: true
            endpoint: true
            instance: true
            job: true
            service: true
          indexByName:
            __name__: 1
            Time: 0
            Value: 9
            container: 2
            endpoint: 3
            instance: 4
            job: 5
            namespace: 7
            pod: 6
            service: 8
          renameByName: {}
      type: table
    refresh: 5s
    schemaVersion: 27
    style: dark
    tags: []
    templating:
      list:
      - current:
          selected: true
          text: default
          value: default
        description: null
        error: null
        hide: 0
        includeAll: false
        label: null
        multi: false
        name: datasource
        options: []
        query: prometheus
        queryValue: ""
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: null
        current:
          selected: false
          text: kafka
          value: kafka
        datasource: ${datasource}
        definition: label_values(kube_namespace_created,namespace)
        description: null
        error: null
        hide: 0
        includeAll: false
        label: null
        multi: false
        name: namespace
        options: []
        query:
          query: label_values(kube_namespace_created,namespace)
          refId: StandardVariableQuery
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text: kafka-prod
          value: kafka-prod
        datasource: ${datasource}
        definition: label_values(kubedb_com_kafka_status_phase{namespace=~"$namespace"},app)
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Kafka
        multi: false
        name: app
        options: []
        query:
          query: label_values(kubedb_com_kafka_status_phase{namespace=~"$namespace"},app)
          refId: StandardVariableQuery
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-6h
      to: now
    timepicker: {}
    timezone: ""
    title: KubeDB / Kafka / Database
    version: 57
  overwrite: true
  templatize:
    title: false
    datasource: false
---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-kafka-pod
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: Kafka
    k8s.io/resource: kafkas
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - builtIn: 1
        datasource: ${datasource}
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        type: dashboard
    description: ""
    editable: true
    gnetId: null
    graphTooltip: 0
    iteration: 1709879028853
    links: []
    panels:
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 0
      id: 61
      panels: []
      title: Info
      type: row
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 4
        w: 5
        x: 0
        "y": 1
      id: 55
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: /^phase$/
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kube_pod_status_phase{namespace=~"$namespace",pod=~"$pod"}
        format: table
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Status
      type: stat
    - datasource: ${datasource}
      description: Pod uptime
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: s
        overrides: []
      gridPos:
        h: 4
        w: 5
        x: 5
        "y": 1
      id: 57
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: time() - process_start_time_seconds{namespace=~"$namespace",pod=~"$pod"}
        format: table
        interval: ""
        legendFormat: ""
        refId: A
      title: Uptime
      type: stat
    - datasource: ${datasource}
      description: Total messages in this pod
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
        overrides: []
      gridPos:
        h: 4
        w: 5
        x: 10
        "y": 1
      id: 59
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kafka_server_brokertopicmetrics_messagesin_total{namespace=~"$namespace",pod=~"$pod"}
        format: table
        interval: ""
        legendFormat: ""
        refId: A
      title: Messages count
      type: stat
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 4
        w: 4
        x: 15
        "y": 1
      id: 63
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kafka_server_replicamanager_leadercount{namespace="$namespace",pod="$pod"}
        format: table
        interval: ""
        legendFormat: ""
        refId: A
      title: Replica Manager Leader Count
      type: stat
    - datasource: ${datasource}
      description: Number of offline replicas
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 4
        w: 5
        x: 19
        "y": 1
      id: 65
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kafka_server_replicamanager_offlinereplicacount{namespace="$namespace",pod="$pod"}
        format: table
        interval: ""
        legendFormat: ""
        refId: A
      title: Offline Replica Count
      type: stat
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 5
      id: 67
      panels: []
      title: Networking
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: time of of  the requested item processed
      fieldConfig:
        defaults:
          unit: ms
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 6
      hiddenSeries: false
      id: 69
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: 'kafka_network_requestmetrics_localtimems_count{namespace="$namespace",pod=~"$pod"}
          != 0 '
        interval: ""
        legendFormat: '{{ request }}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Local items Request time
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1750
        format: ms
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:1751
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: time of of  the response item processed
      fieldConfig:
        defaults:
          unit: ms
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 6
      hiddenSeries: false
      id: 71
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: kafka_network_requestmetrics_responsequeuetimems_count{namespace="$namespace",pod=~"$pod"}
          != 0
        interval: ""
        legendFormat: '{{ request }}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Local Items response time
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1750
        format: ms
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:1751
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: null
      description: The average number of network operations (reads or writes) on all connections
        per second.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 14
      hiddenSeries: false
      id: 73
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: kafka_server_socket_server_metrics_network_io_rate{namespace="$namespace",pod=~"$pod"}
        interval: ""
        legendFormat: '{{ pod }}-{{ listener }}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Network-I/O-rate
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2357
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:2358
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Connections per second that failed authentication.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 14
      hiddenSeries: false
      id: 75
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: kafka_server_socket_server_metrics_successful_authentication_rate{namespace="$namespace",pod=~"$pod"}
        interval: ""
        legendFormat: '{{ pod }}-{{ listener }}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Failed Authentication Rate
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2446
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:2447
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 22
      id: 53
      panels: []
      title: JVM Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: JVM threads info
      fieldConfig:
        defaults:
          unit: short
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 23
      hiddenSeries: false
      id: 49
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: jvm_threads_current{namespace=~"$namespace",pod="$pod"}
        format: time_series
        interval: ""
        intervalFactor: 5
        legendFormat: Current
        refId: A
        step: 50
      - exemplar: true
        expr: ' jvm_threads_daemon{namespace=~"$namespace",pod="$pod"}'
        format: time_series
        interval: ""
        intervalFactor: 5
        legendFormat: Daemon
        refId: B
        step: 50
      - exemplar: true
        expr: ' jvm_threads_peak{namespace=~"$namespace",pod="$pod"}'
        format: time_series
        interval: ""
        intervalFactor: 5
        legendFormat: Peak
        refId: C
        step: 50
      - exemplar: true
        expr: ' jvm_threads_deadlocked{namespace=~"$namespace",pod="$pod"}'
        format: time_series
        interval: ""
        intervalFactor: 5
        legendFormat: Deadlocked
        refId: D
        step: 50
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: JVM Threads used
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      transformations: []
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: used non-heap memory in Mi
      fieldConfig:
        defaults:
          unit: mbytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 23
      hiddenSeries: false
      id: 43
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: jvm_memory_bytes_used{namespace=~"$namespace",pod=~"$pod",area="nonheap"}
          / 1024 / 1024
        instant: false
        interval: ""
        legendFormat: '{{ pod }}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: JVM memory used [non-heap]
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: mbytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: used heap memory in Mi
      fieldConfig:
        defaults:
          unit: mbytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 31
      hiddenSeries: false
      id: 41
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: jvm_memory_bytes_used{namespace=~"$namespace",pod=~"$pod",area="heap"} /
          1024 / 1024
        instant: false
        interval: ""
        legendFormat: '{{ pod }}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: JVM memory used [heap]
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: mbytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: JVM pool usage info
      fieldConfig:
        defaults:
          unit: mbytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 31
      hiddenSeries: false
      id: 51
      legend:
        alignAsTable: true
        avg: false
        current: false
        max: true
        min: false
        rightSide: false
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: null as zero
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: jvm_memory_pool_bytes_used{namespace=~"$namespace",pod="$pod"} / 1024 /
          1024
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{ pool }}'
        refId: A
        step: 20
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: JVM pool bytes used
      tooltip:
        shared: false
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:961
        decimals: null
        format: mbytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:962
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: false
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: GC count increase
      fieldConfig:
        defaults:
          unit: mbytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 39
      hiddenSeries: false
      id: 45
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: increase(jvm_gc_collection_seconds_count{namespace=~"$namespace",pod=~"$pod"}[5m])
        instant: false
        interval: ""
        legendFormat: '{{ pod }}-{{ gc }}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: GC count increase
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: mbytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: GC time increase
      fieldConfig:
        defaults:
          unit: mbytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 39
      hiddenSeries: false
      id: 47
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: increase(jvm_gc_collection_seconds_sum{namespace=~"$namespace",pod=~"$pod"}[5m])
        instant: false
        interval: ""
        legendFormat: '{{ pod }}-{{ gc }}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: GC time increase
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: mbytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 47
      id: 35
      panels: []
      title: CPU And memory Usage Stats
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Average user and system CPU time spent in seconds.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 11
        x: 0
        "y": 48
      hiddenSeries: false
      id: 28
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(rate(container_cpu_usage_seconds_total{pod=~"$pod"}[5m])) / count(container_cpu_usage_seconds_total{pod=~"$pod",container=~"kafka"})
          * 100
        format: time_series
        instant: false
        interval: ""
        intervalFactor: 2
        legendFormat: CPU used (%)
        metric: ""
        refId: A
        step: 240
        target: ""
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Average CPU Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:313
        format: percent
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:314
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: false
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Kafka pod's used memory
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 13
        x: 11
        "y": 48
      hiddenSeries: false
      id: 39
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{pod="$pod"}) / 1024 / 1024
        interval: ""
        legendFormat: used memory
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Total Memory Used
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:250
        format: mbytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:251
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    refresh: 5s
    schemaVersion: 27
    style: dark
    tags: []
    templating:
      list:
      - current:
          selected: false
          text: Prometheus
          value: Prometheus
        description: null
        error: null
        hide: 0
        includeAll: false
        label: null
        multi: false
        name: datasource
        options: []
        query: prometheus
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: null
        current:
          selected: false
          text: kafka
          value: kafka
        datasource: ${datasource}
        definition: label_values(kube_namespace_created,namespace)
        description: null
        error: null
        hide: 0
        includeAll: false
        label: null
        multi: false
        name: namespace
        options: []
        query:
          query: label_values(kube_namespace_created,namespace)
          refId: StandardVariableQuery
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 1
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text: kafka-prod
          value: kafka-prod
        datasource: ${datasource}
        definition: label_values(kubedb_com_kafka_status_phase{namespace=~"$namespace"},app)
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Kafka
        multi: false
        name: app
        options: []
        query:
          query: label_values(kubedb_com_kafka_status_phase{namespace=~"$namespace"},app)
          refId: StandardVariableQuery
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 1
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text: kafka-prod-controller-1
          value: kafka-prod-controller-1
        datasource: ${datasource}
        definition: label_values(kafka_server_brokertopicmetrics_replicationbytesout_total{namespace=~"$namespace",pod=~"$app.+$"},pod)
        description: null
        error: null
        hide: 0
        includeAll: false
        label: null
        multi: false
        name: pod
        options: []
        query:
          query: label_values(kafka_server_brokertopicmetrics_replicationbytesout_total{namespace=~"$namespace",pod=~"$app.+$"},pod)
          refId: StandardVariableQuery
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 1
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-6h
      to: now
    timepicker: {}
    timezone: ""
    title: KubeDB / Kafka / Pod
    version: 7
  overwrite: true
  templatize:
    title: false
    datasource: false
---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-kafka-summary
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: Kafka
    k8s.io/resource: kafkas
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - builtIn: 1
        datasource: ${datasource}
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        target:
          limit: 100
          matchAny: false
          tags: []
          type: dashboard
        type: dashboard
    description: The dashboard is designed for KubeDB managed Kafka
    editable: true
    gnetId: 9628
    graphTooltip: 0
    iteration: 1709727446795
    links: []
    panels:
    - collapsed: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 0
      id: 136
      panels: []
      title: General Info
      type: row
    - datasource: ${datasource}
      description: Represent database status
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          mappings:
          - options:
              Critical:
                color: dark-yellow
                index: 1
              DataRestoring:
                color: dark-red
                index: 4
              Halted:
                color: dark-red
                index: 5
              NotReady:
                color: dark-red
                index: 2
              Provisioning:
                color: text
                index: 3
              Ready:
                color: semi-dark-green
                index: 0
            type: value
          thresholds:
            mode: absolute
            steps:
            - color: text
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 8
        x: 0
        "y": 1
      id: 78
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: /^phase$/
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.2.3
      targets:
      - exemplar: true
        expr: kubedb_com_kafka_status_phase{namespace="$namespace", app="$app"} == 1
        format: table
        instant: true
        interval: ""
        legendFormat: '{{phase}}'
        refId: A
      title: Database Status
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      description: Kafka CR Name
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: palette-classic
          mappings:
          - options:
              match: "null"
              result:
                index: 0
                text: N/A
            type: special
          noValue: N/A
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 8
        x: 8
        "y": 1
      id: 36
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - mean
          fields: ""
          values: false
        text:
          valueSize: 50
        textMode: name
      pluginVersion: 8.2.3
      targets:
      - exemplar: true
        expr: kubedb_com_kafka_info{namespace="$namespace", app="$app"}
        format: time_series
        instant: true
        interval: ""
        intervalFactor: 1
        legendFormat: '{{version}}'
        refId: A
      title: Version
      type: stat
    - datasource: ${datasource}
      description: KubeDB Kafka Total Memory Limit
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 16
        "y": 1
      id: 116
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.2.3
      targets:
      - exemplar: true
        expr: kubedb_com_kafka_resource_limit_memory{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Memory Limit
      type: stat
    - datasource: ${datasource}
      description: KubeDB Database Resource deletionPolicy
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          mappings:
          - options:
              Delete:
                color: yellow
                index: 1
              DoNotTerminate:
                color: green
                index: 2
              Halt:
                color: blue
                index: 3
              WipeOut:
                color: dark-red
                index: 0
            type: value
          thresholds:
            mode: absolute
            steps:
            - color: text
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 20
        "y": 1
      id: 84
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: /^deletionPolicy$/
          values: false
        text: {}
        textMode: value
      pluginVersion: 8.2.3
      targets:
      - exemplar: true
        expr: kubedb_com_kafka_info{namespace="$namespace", app="$app"}
        format: table
        instant: true
        interval: ""
        legendFormat: '{{deletionPolicy}}'
        refId: A
      title: Deletion Policy
      type: stat
    - datasource: ${datasource}
      description: Total node count of Kafka cluster
      fieldConfig:
        defaults:
          color:
            fixedColor: green
            mode: fixed
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 0
        "y": 4
      id: 76
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.2.3
      targets:
      - exemplar: true
        expr: kubedb_com_kafka_replicas{namespace="$namespace",app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Total Nodes
      type: stat
    - datasource: ${datasource}
      description: Initial Requested CPU amount by Kafka Instance
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          min: 0
          thresholds:
            mode: percentage
            steps:
            - color: green
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 4
        "y": 4
      id: 92
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.2.3
      targets:
      - exemplar: true
        expr: kubedb_com_kafka_resource_request_cpu{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: CPU Request (Core)
      type: stat
    - datasource: ${datasource}
      description: CPU Limit in core by Kafka instance
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 8
        "y": 4
      id: 114
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.2.3
      targets:
      - exemplar: true
        expr: kubedb_com_kafka_resource_limit_cpu{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: CPU Limit (Core)
      type: stat
    - datasource: ${datasource}
      description: Initial Requested Memory amount by Kafka Instance
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          min: 0
          thresholds:
            mode: percentage
            steps:
            - color: green
              value: null
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 12
        "y": 4
      id: 94
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.2.3
      targets:
      - exemplar: true
        expr: kubedb_com_kafka_resource_request_memory{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Memory Request
      type: stat
    - datasource: ${datasource}
      description: When this option is enabled, connections attempted using insecure transport
        will be rejected.
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings:
          - options:
              "0":
                text: "False"
              "1":
                text: "True"
            type: value
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 16
        "y": 4
      id: 82
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: value
      pluginVersion: 8.2.3
      targets:
      - exemplar: true
        expr: kubedb_com_kafka_info{namespace="$namespace", app="$app"}
        format: time_series
        instant: true
        interval: ""
        legendFormat: '{{requireSSL}}'
        refId: A
      timeFrom: null
      timeShift: null
      title: Require Secure Transport
      type: stat
    - datasource: ${datasource}
      description: Total storage request by Kafka nodes
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          min: 0
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 20
        "y": 4
      id: 96
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.2.3
      targets:
      - exemplar: true
        expr: kubedb_com_kafka_resource_request_storage{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Storage Request
      type: stat
    - collapsed: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 15
      id: 138
      panels: []
      title: CPU Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: CPU Usage by Kafka pods
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 16
      hiddenSeries: false
      id: 98
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.2.3
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(sum by (namespace, pod, container) (irate(container_cpu_usage_seconds_total{image!="",job="kubelet",metrics_path="/metrics/cadvisor",namespace="$namespace",
          pod=~"$app-.+$"}[5m])) * on (namespace, pod) group_left (node) topk by (namespace,
          pod) (1, max by (namespace, pod, node) (kube_pod_info{node!="",namespace="$namespace",
          pod=~"$app-.+$"}))) by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: CPU Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      description: CPU Quote information in details
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            displayMode: auto
            filterable: false
          decimals: 2
          displayName: ""
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: Time
          properties:
          - id: displayName
            value: Time
          - id: custom.align
            value: null
          - id: custom.width
            value: null
        - matcher:
            id: byName
            options: 'Value #A'
          properties:
          - id: displayName
            value: CPU Usage
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #B'
          properties:
          - id: displayName
            value: CPU Requests
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #C'
          properties:
          - id: displayName
            value: CPU Requests %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #D'
          properties:
          - id: displayName
            value: CPU Limits
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #E'
          properties:
          - id: displayName
            value: CPU Limits %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: pod
          properties:
          - id: displayName
            value: Pod
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: links
            value:
            - targetBlank: false
              title: Drill down
              url: ./d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=kafka&var-pod=$__cell
          - id: custom.align
            value: null
      gridPos:
        h: 6
        w: 24
        x: 0
        "y": 30
      id: 122
      links: []
      options:
        showHeader: true
        sortBy: []
      pluginVersion: 8.2.3
      targets:
      - exemplar: true
        expr: sum(sum by (namespace, pod, container) (irate(container_cpu_usage_seconds_total{image!="",job="kubelet",metrics_path="/metrics/cadvisor",namespace="$namespace",
          pod=~"$app-.+$"}[5m])) * on (namespace, pod) group_left (node) topk by (namespace,
          pod) (1, max by (namespace, pod, node) (kube_pod_info{node!="",namespace="$namespace",
          pod=~"$app-.+$"}))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
        step: 10
      - exemplar: true
        expr: sum(kube_pod_container_resource_requests{job="kube-state-metrics",resource="cpu",namespace="$namespace",
          pod=~"$app-.+$"} * on (namespace,pod) group_left () max by (namespace,pod) ((kube_pod_status_phase{phase=~"Pending|Running"}
          == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: B
        step: 10
      - exemplar: true
        expr: sum(sum by (namespace, pod, container) (irate(container_cpu_usage_seconds_total{image!="",job="kubelet",metrics_path="/metrics/cadvisor",namespace="$namespace",
          pod=~"$app-.+$"}[5m])) * on (namespace, pod) group_left (node) topk by (namespace,
          pod) (1, max by (namespace, pod, node) (kube_pod_info{node!="",namespace="$namespace",
          pod=~"$app-.+$"}))) by (pod) / sum(kube_pod_container_resource_requests{job="kube-state-metrics",resource="cpu",namespace="$namespace",
          pod=~"$app-.+$"} * on (namespace,pod) group_left () max by (namespace,pod) ((kube_pod_status_phase{phase=~"Pending|Running"}
          == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: C
        step: 10
      - exemplar: true
        expr: sum(kube_pod_container_resource_limits{job="kube-state-metrics",resource="cpu",namespace="$namespace",
          pod=~"$app-.+$"} * on (namespace,pod) group_left() max by (namespace, pod) ((kube_pod_status_phase{phase=~"Pending|Running"}
          == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: D
        step: 10
      - exemplar: true
        expr: sum(sum by (namespace, pod, container) (irate(container_cpu_usage_seconds_total{image!="",job="kubelet",metrics_path="/metrics/cadvisor",namespace="$namespace",
          pod=~"$app-.+$"}[5m])) * on (namespace, pod) group_left (node) topk by (namespace,
          pod) (1, max by (namespace, pod, node) (kube_pod_info{node!="",namespace="$namespace",
          pod=~"$app-.+$"}))) by (pod) / sum(kube_pod_container_resource_limits{job="kube-state-metrics",resource="cpu",namespace="$namespace",
          pod=~"$app-.+$"} * on (namespace,pod) group_left() max by (namespace, pod) ((kube_pod_status_phase{phase=~"Pending|Running"}
          == 1))) by (pod)
        format: table
        hide: false
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: E
        step: 10
      timeFrom: null
      timeShift: null
      title: CPU Quota
      transformations:
      - id: merge
        options:
          reducers: []
      type: table
    - collapsed: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 36
      id: 140
      panels: []
      title: Memory Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Memory Usage by Kafka pods
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 6
        w: 24
        x: 0
        "y": 37
      hiddenSeries: false
      id: 100
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.2.3
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{image!="",job="kubelet",metrics_path="/metrics/cadvisor",namespace="$namespace",
          pod=~"$app-.+$",container!=""} * on (namespace, pod) group_left (node) topk
          by (namespace, pod) (1, max by (namespace, pod, node) (kube_pod_info{node!=""})))
          by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Memory Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            displayMode: auto
            filterable: false
          decimals: 2
          displayName: ""
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: Time
          properties:
          - id: displayName
            value: Time
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #A'
          properties:
          - id: displayName
            value: Memory Usage
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #B'
          properties:
          - id: displayName
            value: Memory Requests
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #C'
          properties:
          - id: displayName
            value: Memory Requests %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #D'
          properties:
          - id: displayName
            value: Memory Limits
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #E'
          properties:
          - id: displayName
            value: Memory Limits %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #F'
          properties:
          - id: displayName
            value: Memory Usage (RSS)
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #G'
          properties:
          - id: displayName
            value: Memory Usage (Cache)
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #H'
          properties:
          - id: displayName
            value: Memory Usage (Swap)
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: pod
          properties:
          - id: displayName
            value: Pod
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: links
            value:
            - targetBlank: false
              title: Drill down
              url: ./d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=kafka&var-pod=$__cell
          - id: custom.align
            value: null
      gridPos:
        h: 6
        w: 24
        x: 0
        "y": 50
      id: 124
      links: []
      options:
        showHeader: true
        sortBy:
        - desc: true
          displayName: Memory Usage
      pluginVersion: 8.2.3
      targets:
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{namespace="$namespace",pod=~"$app-.+$",container!="",
          image!=""}) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
        step: 10
      - exemplar: true
        expr: sum (kube_pod_container_resource_requests{job="kube-state-metrics",resource="memory",namespace="$namespace",pod=~"$app-.+$"}
          * on (namespace, pod, cluster) group_left () max by (namespace, pod, cluster)
          ((kube_pod_status_phase{phase=~"Pending|Running"} == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: B
        step: 10
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{namespace="$namespace",pod=~"$app-.+$",container!="",
          image!=""}) by (pod) / sum(kube_pod_container_resource_requests{job="kube-state-metrics",resource="memory",namespace="$namespace",pod=~"$app-.+$"}
          * on (namespace, pod, cluster) group_left () max by (namespace, pod, cluster)
          ((kube_pod_status_phase{phase=~"Pending|Running"} == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: C
        step: 10
      - exemplar: true
        expr: sum(kube_pod_container_resource_limits{job="kube-state-metrics",resource="memory",namespace="$namespace",pod=~"$app-.+$"}
          * on (namespace, pod, cluster) group_left () max by (namespace, pod, cluster)
          ((kube_pod_status_phase{phase=~"Pending|Running"} == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: D
        step: 10
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{namespace="$namespace",pod=~"$app-.+$",container!="",
          image!=""}) by (pod) / sum(kube_pod_container_resource_limits{job="kube-state-metrics",resource="memory",namespace="$namespace",pod=~"$app-.+$"}
          * on (namespace, pod, cluster) group_left () max by (namespace, pod, cluster)
          ((kube_pod_status_phase{phase=~"Pending|Running"} == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: E
        step: 10
      - exemplar: true
        expr: sum(container_memory_rss{namespace="$namespace",pod=~"$app-.+$",container!=""})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: F
        step: 10
      - exemplar: true
        expr: sum(container_memory_cache{namespace="$namespace",pod=~"$app-.+$",container!=""})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: G
        step: 10
      - exemplar: true
        expr: sum(container_memory_swap{namespace="$namespace",pod=~"$app-.+$",container!=""})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: H
        step: 10
      timeFrom: null
      timeShift: null
      title: Memory Quota
      transformations:
      - id: merge
        options:
          reducers: []
      type: table
    - collapsed: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 56
      id: 142
      panels: []
      title: Storage Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Disk usage by Kafka pods
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 9
        w: 12
        x: 0
        "y": 57
      hiddenSeries: false
      id: 112
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.2.3
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: avg(container_blkio_device_usage_total{namespace="$namespace", pod=~"$app-.+$"})
          by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Disk Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: System Disk Usage Information
      fieldConfig:
        defaults:
          unit: none
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 9
        w: 12
        x: 12
        "y": 57
      hiddenSeries: false
      id: 108
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.2.3
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(rate(container_fs_writes_total{namespace="$namespace", pod=~"$app-.+$"}[5m]))
          by (pod)
        instant: false
        interval: ""
        intervalFactor: 1
        legendFormat: '{{pod}}-disk-write'
        refId: A
      - exemplar: true
        expr: sum(rate(container_fs_reads_total{namespace="$namespace", pod=~"$app-.+$"}[5m]))
          by (pod)
        hide: false
        instant: false
        interval: ""
        legendFormat: '{{pod}}-disk-read'
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Disk R/W Info
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: none
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: short
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 66
      hiddenSeries: false
      id: 126
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.2.3
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: ceil(sum by(pod) (rate(container_fs_reads_total{container!="", namespace="$namespace",
          pod=~"$app-.+$"}[5m]) + rate(container_fs_writes_total{container!="" ,namespace="$namespace",
          pod=~"$app-.+$"}[5m])))
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: IOPS (Reads+Writes)
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: Bps
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 66
      hiddenSeries: false
      id: 128
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.2.3
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_bytes_total{container!="", namespace="$namespace",
          pod=~"$app-.+$"}[5m]) + rate(container_fs_writes_bytes_total{container!="" ,namespace="$namespace",
          pod=~"$app-.+$"}[5m]))
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: ThroughPut (Read+Write)
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: Bps
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            displayMode: auto
            filterable: false
          decimals: 2
          displayName: ""
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: Time
          properties:
          - id: displayName
            value: Time
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #A'
          properties:
          - id: displayName
            value: IOPS(Reads)
          - id: unit
            value: short
          - id: decimals
            value: -1
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #B'
          properties:
          - id: displayName
            value: IOPS(Writes)
          - id: unit
            value: short
          - id: decimals
            value: -1
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #C'
          properties:
          - id: displayName
            value: IOPS(Reads + Writes)
          - id: unit
            value: short
          - id: decimals
            value: -1
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #D'
          properties:
          - id: displayName
            value: Throughput(Read)
          - id: unit
            value: Bps
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #E'
          properties:
          - id: displayName
            value: Throughput(Write)
          - id: unit
            value: Bps
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #F'
          properties:
          - id: displayName
            value: Throughput(Read + Write)
          - id: unit
            value: Bps
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: pod
          properties:
          - id: displayName
            value: Pod
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: links
            value:
            - targetBlank: false
              title: Drill down to pods
              url: ./d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=kafka&var-pod=$__cell
          - id: custom.align
            value: null
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 73
      id: 130
      links: []
      options:
        showHeader: true
      pluginVersion: 8.2.3
      targets:
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_total{container!="", pod=~"$app-.+$",namespace="$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_writes_total{container!="", pod=~"$app-.+$",namespace="$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: B
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_total{container!="", pod=~"$app-.+$",namespace="$namespace"}[5m])
          + rate(container_fs_writes_total{container!="",pod=~"$app-.+$",namespace="$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: C
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_bytes_total{container!="", pod=~"$app-.+$",namespace="$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: D
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_writes_bytes_total{container!="", pod=~"$app-.+$",namespace="$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: E
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_bytes_total{container!="", pod=~"$app-.+$",namespace="$namespace"}[5m])
          + rate(container_fs_writes_bytes_total{container!="",pod=~"$app-.+$",namespace="$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: F
        step: 10
      timeFrom: null
      timeShift: null
      title: Current Storage IO
      transformations:
      - id: merge
        options:
          reducers: []
      type: table
    - collapsed: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 80
      id: 152
      panels: []
      title: Persistent Storage Insight
      type: row
    - datasource: ${datasource}
      description: |
        This panel describes allocated persistent storage in a table format
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: center
            displayMode: color-text
            filterable: false
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: light-blue
              value: null
          unit: decbytes
        overrides: []
      gridPos:
        h: 6
        w: 12
        x: 0
        "y": 81
      id: 148
      options:
        showHeader: true
      pluginVersion: 8.2.3
      targets:
      - exemplar: true
        expr: kubelet_volume_stats_capacity_bytes + on(persistentvolumeclaim) group_left(pod)
          kube_pod_spec_volumes_persistentvolumeclaims_info{pod=~"$app-.+$",namespace="$namespace"}
        format: table
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Allocated Storage
      transformations:
      - id: organize
        options:
          excludeByName:
            Time: true
            endpoint: true
            instance: true
            job: true
            metrics_path: true
            namespace: true
            node: true
            persistentvolumeclaim: true
            service: true
          indexByName: {}
          renameByName:
            Value: Volume
            pod: Pod
      type: table
    - datasource: ${datasource}
      description: 'This panel shows the persistent volume usage in percentage. '
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          max: 100
          min: 0
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: percent
        overrides: []
      gridPos:
        h: 6
        w: 12
        x: 12
        "y": 81
      id: 146
      options:
        displayMode: gradient
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        showUnfilled: true
        text: {}
      pluginVersion: 8.2.3
      targets:
      - exemplar: true
        expr: (kubelet_volume_stats_used_bytes / on(persistentvolumeclaim) group_left(pod)
          (kubelet_volume_stats_capacity_bytes + on(persistentvolumeclaim) group_left(pod)
          kube_pod_spec_volumes_persistentvolumeclaims_info{pod=~"$app-.+$",namespace="$namespace"})
          )* 100
        instant: true
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      title: Persistent Volume Usage
      transformations: []
      type: bargauge
    - datasource: ${datasource}
      description: 'This panel describes the persistent volume usage in a time series. '
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            axisSoftMax: 5000
            axisSoftMin: 0
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: opacity
            hideFrom:
              graph: false
              legend: false
              tooltip: false
              viz: false
            lineInterpolation: linear
            lineStyle:
              fill: solid
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: true
            stacking:
              group: A
              mode: none
            thresholdsStyle:
              mode: "off"
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: decbytes
        overrides: []
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 87
      id: 150
      options:
        graph: {}
        legend:
          calcs:
          - max
          - lastNotNull
          displayMode: table
          placement: right
        tooltip:
          mode: single
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: '(kubelet_volume_stats_used_bytes + on(persistentvolumeclaim) group_left(pod)
          kube_pod_spec_volumes_persistentvolumeclaims_info{pod=~"$app-.+$",namespace="$namespace"}) '
        interval: ""
        intervalFactor: 1
        legendFormat: '{{pod}}'
        refId: A
      title: Persistent Volume Usage History
      type: timeseries
    - collapsed: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 95
      id: 144
      panels: []
      title: Network Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 96
      hiddenSeries: false
      id: 132
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.2.3
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(irate(container_network_receive_bytes_total{namespace="$namespace",
          pod=~"$app-.+$"}[$__rate_interval])) by (pod)
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Receive Bandwidth
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: Bps
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: Bps
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 96
      hiddenSeries: false
      id: 134
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.2.3
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(irate(container_network_transmit_bytes_total{namespace="$namespace",
          pod=~"$app-.+$"}[$__rate_interval])) by (pod)
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Transmit Bandwidth
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: Bps
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    refresh: 10s
    schemaVersion: 27
    style: dark
    tags:
    - db
    - stats
    - kubedb
    - kafka
    templating:
      list:
      - current:
          selected: true
          text: default
          value: default
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Datasource
        multi: false
        name: datasource
        options: []
        query: prometheus
        queryValue: ""
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: '".+"'
        current:
          selected: false
          text: kafka
          value: kafka
        datasource: ${datasource}
        definition: ""
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Namespace
        multi: false
        name: namespace
        options: []
        query:
          query: label_values(kube_namespace_created,namespace)
          refId: Prometheus-namespace-Variable-Query
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text: kafka-prod
          value: kafka-prod
        datasource: ${datasource}
        definition: ""
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Kafka
        multi: false
        name: app
        options: []
        query:
          query: label_values(kubedb_com_kafka_status_phase{namespace=~"$namespace"},app)
          refId: Prometheus-app-Variable-Query
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-6h
      to: now
    timepicker:
      refresh_intervals:
      - 5s
      - 10s
      - 30s
      - 1m
      - 5m
      - 15m
      - 30m
      - 1h
      - 2h
      - 1d
      time_options:
      - 5m
      - 15m
      - 1h
      - 6h
      - 12h
      - 24h
      - 2d
      - 7d
      - 30d
    timezone: ""
    title: KubeDB / Kafka / Summary
    version: 3
  overwrite: true
  templatize:
    title: false
    datasource: false
---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-mariadb-database
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: MariaDB
    k8s.io/resource: mariadbs
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - builtIn: 1
        datasource: -- Grafana --
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        target:
          limit: 100
          matchAny: false
          tags: []
          type: dashboard
        type: dashboard
    description: ""
    editable: true
    gnetId: 13106
    graphTooltip: 0
    iteration: 1637752208210
    links: []
    panels:
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          custom:
            align: null
            displayMode: auto
            filterable: false
          mappings:
          - options:
              "0":
                text: DOWN
              "1":
                text: UP
            type: value
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 0
        overrides:
        - matcher:
            id: byType
            options: number
          properties:
          - id: custom.displayMode
            value: color-background
          - id: thresholds
            value:
              mode: absolute
              steps:
              - color: red
                value: null
              - color: green
                value: 1
          - id: custom.width
            value: 200
          - id: mappings
            value:
            - from: ""
              id: 1
              text: UP
              to: ""
              type: 1
              value: "1"
            - from: ""
              id: 2
              text: DOWN
              to: ""
              type: 1
              value: "0"
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 0
      id: 2
      options:
        showHeader: true
        sortBy: []
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: mysql_up{namespace=~"$namespace",service=~"$app+-stats"}
        format: table
        instant: true
        interval: ""
        intervalFactor: 1
        legendFormat: '{{pod}}'
        refId: A
      timeFrom: null
      timeShift: null
      title: Service Status
      transformations:
      - id: filterFieldsByName
        options:
          include:
            names:
            - instance
            - Value
            - pod
      type: table
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          custom:
            align: null
            displayMode: auto
            filterable: false
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides:
        - matcher:
            id: byType
            options: number
          properties:
          - id: unit
            value: s
          - id: custom.width
            value: 200
          - id: custom.displayMode
            value: color-background
          - id: thresholds
            value:
              mode: absolute
              steps:
              - color: red
                value: null
              - color: green
                value: 80
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 0
      id: 4
      options:
        showHeader: true
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: mysql_global_status_uptime{namespace=~"$namespace",service=~"$app+-stats"}
        format: table
        instant: true
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      timeFrom: null
      timeShift: null
      title: Service Uptime
      transformations:
      - id: filterFieldsByName
        options:
          include:
            names:
            - Value
            - pod
      type: table
    - datasource: ${datasource}
      description: ""
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          max: 0
          min: 0
          thresholds:
            mode: absolute
            steps:
            - color: red
              value: null
            - color: yellow
              value: 2
            - color: green
              value: 3
        overrides: []
      gridPos:
        h: 5
        w: 12
        x: 0
        "y": 7
      id: 6
      options:
        colorMode: value
        graphMode: area
        justifyMode: center
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: mysql_global_status_wsrep_cluster_size{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        instant: false
        interval: ""
        legendFormat: ""
        refId: A
      timeFrom: null
      timeShift: null
      title: Cluster Size
      transformations:
      - id: labelsToFields
        options:
          valueLabel: pod
      type: stat
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings:
          - from: ""
            id: 1
            text: Primary
            to: ""
            type: 1
            value: "1"
          - from: ""
            id: 2
            text: Non-Primary
            to: ""
            type: 1
            value: "0"
          thresholds:
            mode: absolute
            steps:
            - color: yellow
              value: null
            - color: red
              value: 0
            - color: green
              value: 1
        overrides: []
      gridPos:
        h: 5
        w: 12
        x: 12
        "y": 7
      id: 8
      options:
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        showThresholdLabels: false
        showThresholdMarkers: true
        text:
          titleSize: 15
          valueSize: 25
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: mysql_global_status_wsrep_cluster_status{namespace=~"$namespace",service=~"$app+-stats"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      timeFrom: null
      timeShift: null
      title: Cluster Status
      transformations:
      - id: labelsToFields
        options:
          valueLabel: pod
      type: gauge
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 12
      hiddenSeries: false
      id: 16
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: false
        show: true
        sideWidth: 200
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_queries{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Current QPS
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:57
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:58
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 12
      hiddenSeries: false
      id: 10
      legend:
        alignAsTable: true
        avg: false
        current: false
        max: false
        min: false
        rightSide: true
        show: true
        sideWidth: 200
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: mysql_global_status_max_used_connections{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: Current - {{ pod }}
        refId: A
      - exemplar: true
        expr: mysql_global_variables_max_connections{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: Max - {{ pod }}
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Connections
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:273
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:274
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 19
      hiddenSeries: false
      id: 12
      legend:
        avg: false
        current: false
        max: false
        min: false
        rightSide: true
        show: true
        sideWidth: 200
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides:
      - alias: write
        transform: negative-Y
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_innodb_data_reads{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: reads - {{ pod }}
        refId: A
      - exemplar: true
        expr: rate(mysql_global_status_innodb_data_writes{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: write - {{ pod }}
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL  disk reads vs writes
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:959
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:960
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 19
      hiddenSeries: false
      id: 14
      legend:
        avg: false
        current: false
        max: false
        min: false
        rightSide: true
        show: true
        sideWidth: 200
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides:
      - alias: /sent/
        transform: negative-Y
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_bytes_received{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: received - {{ pod }}
        refId: A
      - exemplar: true
        expr: rate(mysql_global_status_bytes_sent{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: sent - {{ pod }}
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL network received vs sent
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1585
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:1586
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 26
      hiddenSeries: false
      id: 18
      legend:
        alignAsTable: false
        avg: false
        current: false
        hideEmpty: false
        hideZero: false
        max: false
        min: false
        rightSide: true
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: topk(3, rate(mysql_global_status_commands_total{namespace=~"$namespace",service=~"$app+-stats"}[5m]))
        instant: false
        interval: ""
        legendFormat: '{{ pod }} = ''{{ command }}'''
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Top Command Counters
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:283
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:284
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 34
      hiddenSeries: false
      id: 20
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_opened_files{namespace=~"$namespace",service=~"$app+-stats"}[1m])
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL File Openings
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2655
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:2656
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 34
      hiddenSeries: false
      id: 22
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: mysql_global_status_open_files{namespace=~"$namespace",service=~"$app+-stats"}
        interval: ""
        legendFormat: Open Files - {{ pod }}
        refId: A
      - exemplar: true
        expr: mysql_global_variables_open_files_limit{namespace=~"$namespace",service=~"$app+-stats"}
        interval: ""
        legendFormat: Open Files Limit - {{ pod }}
        refId: B
      - exemplar: true
        expr: mysql_global_status_innodb_num_open_files{namespace=~"$namespace",service=~"$app+-stats"}
        interval: ""
        legendFormat: InnoDB Open Files - {{ pod }}
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Open Files
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2579
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:2580
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 1
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 11
        w: 12
        x: 0
        "y": 42
      hiddenSeries: false
      id: 24
      legend:
        alignAsTable: true
        avg: true
        current: true
        max: true
        min: false
        rightSide: false
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_slow_queries{namespace=~"$namespace",service=~"$app+-stats"}[1m])
        interval: ""
        legendFormat: Slow Queries on {{ pod }}
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Slow Queries
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:94
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:95
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 11
        w: 12
        x: 12
        "y": 42
      hiddenSeries: false
      id: 26
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: false
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_aborted_connects{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        interval: ""
        legendFormat: Aborted Connects (attempts) on - {{ pod }}
        refId: A
      - exemplar: true
        expr: rate(mysql_global_status_aborted_clients{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        interval: ""
        legendFormat: Aborted Clients (timeout) on - {{ pod }}
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Aborted Connections
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:206
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:207
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    refresh: 5s
    schemaVersion: 27
    style: dark
    tags:
    - galera
    - mariadb
    templating:
      list:
      - current:
          selected: false
          text: Prometheus
          value: Prometheus
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Datasource
        multi: false
        name: datasource
        options: []
        query: prometheus
        queryValue: ""
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: null
        current:
          selected: false
          text: demo
          value: demo
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Namespace
        multi: false
        name: namespace
        options: []
        query: label_values(kube_namespace_created,namespace)
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text: sample-mariadb-stats
          value: sample-mariadb-stats
        datasource: ${datasource}
        description: MariaDB stats service name
        error: null
        hide: 0
        includeAll: false
        label: MariaDB
        multi: false
        name: app
        options: []
        query: label_values(kubedb_com_mariadb_status_phase{namespace=~"$namespace"},app)
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-6h
      to: now
    timepicker: {}
    timezone: ""
    title: KubeDB / MariaDB / Database
    version: 8
  overwrite: true
  templatize:
    title: false
    datasource: false
---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-mariadb-galera-cluster
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: MariaDB
    k8s.io/resource: mariadbs
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - builtIn: 1
        datasource: -- Grafana --
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        type: dashboard
    editable: true
    gnetId: null
    graphTooltip: 0
    iteration: 1646820279844
    links: []
    panels:
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings:
          - from: ""
            id: 1
            text: PRIMARY
            to: ""
            type: 1
            value: "1"
          thresholds:
            mode: absolute
            steps:
            - color: blue
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 3
        w: 24
        x: 0
        "y": 0
      id: 64
      options:
        colorMode: background
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: name
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: avg by(wsrep_cluster_name)(mysql_galera_variables_info{namespace=~"$namespace",service=~"$app+-stats"})
        interval: ""
        legendFormat: '{{wsrep_cluster_name}}'
        refId: A
      timeFrom: null
      timeShift: null
      title: Cluster Name
      type: stat
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings:
          - from: ""
            id: 1
            text: ONLINE
            to: ""
            type: 1
            value: "1"
          - from: ""
            id: 2
            text: RECOVERING
            to: ""
            type: 1
            value: "2"
          - from: ""
            id: 3
            text: OFFLINE
            to: ""
            type: 1
            value: "3"
          - from: ""
            id: 4
            text: ERROR
            to: ""
            type: 1
            value: "4"
          - from: ""
            id: 5
            text: UNREACHABLE
            to: ""
            type: 1
            value: "5"
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 2
        overrides: []
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 3
      id: 65
      options:
        colorMode: background
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: value_and_name
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: avg by(pod)(mysql_galera_variables_info{namespace=~"$namespace",service=~"$app+-stats"})
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      title: Cluster Members
      type: stat
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 10
      id: 67
      panels: []
      title: Replication Delay Details
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 11
      hiddenSeries: false
      id: 69
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: false
        hideZero: false
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: avg_over_time(mysql_galera_evs_repl_latency_avg_seconds{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        interval: ""
        legendFormat: '{{pod}} - Latency Average'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: 'Average: Galera Replication Latency'
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:291
        format: s
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:292
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 19
      hiddenSeries: false
      id: 87
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: false
        hideZero: false
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_galera_evs_repl_latency_stdev{namespace=~"$namespace",service=~"$app+-stats"}[1m])
        interval: ""
        legendFormat: '{{pod}} - Latency Average'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: 'Standard Deviation: Galera Replication Latency'
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:291
        format: none
        label: ""
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:292
        format: none
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 27
      hiddenSeries: false
      id: 88
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: false
        hideZero: false
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_galera_evs_repl_latency_sample_size{namespace=~"$namespace",service=~"$app+-stats"}[1m])
        interval: ""
        legendFormat: '{{pod}} - Latency Average'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: 'Sample Size: Galera Replication Latency'
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:291
        format: none
        label: ""
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:292
        format: none
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    refresh: 1m
    schemaVersion: 27
    style: dark
    tags: []
    templating:
      list:
      - current:
          selected: false
          text: Prometheus
          value: Prometheus
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Datasource
        multi: false
        name: datasource
        options: []
        query: prometheus
        queryValue: ""
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: null
        current:
          selected: false
          text: demo
          value: demo
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Namespace
        multi: false
        name: namespace
        options: []
        query: label_values(kube_namespace_created,namespace)
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text: sample-mariadb-stats
          value: sample-mariadb-stats
        datasource: ${datasource}
        description: ""
        error: null
        hide: 0
        includeAll: false
        label: MariaDB
        multi: false
        name: app
        options: []
        query: label_values(kubedb_com_mariadb_status_phase{namespace=~"$namespace"},app)
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-6h
      to: now
    timepicker: {}
    timezone: ""
    title: KubeDB / MariaDB / Galera-Cluster
    version: 5
  overwrite: true
  templatize:
    title: false
    datasource: false
---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-mariadb-pod
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: MariaDB
    k8s.io/resource: mariadbs
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - builtIn: 1
        datasource: -- Grafana --
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        type: dashboard
    editable: true
    gnetId: null
    graphTooltip: 0
    iteration: 1637732366226
    links: []
    panels:
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 0
      id: 2
      panels: []
      title: MariaDB Pod Summary
      type: row
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: semi-dark-blue
              value: null
          unit: short
        overrides: []
      gridPos:
        h: 3
        w: 5
        x: 0
        "y": 1
      id: 4
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: name
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: mysql_up{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      title: Pod Name
      type: stat
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: semi-dark-red
              value: null
            - color: green
              value: 90
          unit: short
        overrides:
        - matcher:
            id: byType
            options: number
          properties:
          - id: unit
            value: s
      gridPos:
        h: 3
        w: 4
        x: 5
        "y": 1
      id: 5
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: value
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: mysql_global_status_uptime{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        format: time_series
        instant: false
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      title: MySQL Uptime
      type: stat
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: semi-dark-orange
              value: null
            - color: red
              value: 80
          unit: short
        overrides: []
      gridPos:
        h: 3
        w: 6
        x: 9
        "y": 1
      id: 6
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: name
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: mysql_version_info{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: '{{version}}'
        refId: A
      title: Version
      type: stat
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: light-blue
              value: null
          unit: short
        overrides: []
      gridPos:
        h: 3
        w: 5
        x: 15
        "y": 1
      id: 7
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: value
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_queries{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      timeFrom: null
      timeShift: null
      title: Current QPS
      type: stat
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: semi-dark-red
              value: null
            - color: light-blue
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byType
            options: number
          properties:
          - id: unit
            value: bits
      gridPos:
        h: 3
        w: 4
        x: 20
        "y": 1
      id: 8
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: value
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: mysql_global_variables_innodb_buffer_pool_size{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        format: time_series
        instant: false
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      title: InnoDB Buffer Pool Size
      type: stat
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 4
      id: 57
      panels: []
      title: Pod CPU, Memory and File Descriptor Stats
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: none
        overrides: []
      fill: 5
      fillGradient: 0
      gridPos:
        h: 7
        w: 8
        x: 0
        "y": 5
      hiddenSeries: false
      id: 61
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(rate(container_cpu_usage_seconds_total{namespace="$namespace", pod=~"$pod",
          container!="", image!=""}[5m])) by (pod)
        interval: ""
        legendFormat: '{{container}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: CPU Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: none
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 5
      fillGradient: 0
      gridPos:
        h: 7
        w: 8
        x: 8
        "y": 5
      hiddenSeries: false
      id: 59
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{namespace="$namespace", pod=~"$pod",
          container!="", image!=""}) by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Memory Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Number of open file descriptors
      fieldConfig:
        defaults:
          unit: none
        overrides: []
      fill: 5
      fillGradient: 0
      gridPos:
        h: 7
        w: 8
        x: 16
        "y": 5
      hiddenSeries: false
      id: 62
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(process_open_fds{pod=~"$pod", namespace="$namespace"}) by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Open File Descriptors
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: none
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 12
      id: 10
      panels: []
      repeat: null
      title: Connections
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 13
      hiddenSeries: false
      id: 12
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: mysql_global_status_max_used_connections{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: Max Used Connects - {{pod}}
        refId: A
      - exemplar: true
        expr: mysql_global_variables_max_connections{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: Max Connects - {{pod}}
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Connections
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:402
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:403
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 13
      hiddenSeries: false
      id: 16
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: mysql_global_status_aborted_connects{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: Aborted Connects - {{pod}}
        refId: A
      - exemplar: true
        expr: mysql_global_status_aborted_clients{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: Aborted Clients - {{pod}}
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Aborted Connections
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:237
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:238
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 20
      id: 15
      panels: []
      repeat: null
      title: Client Threads
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 21
      hiddenSeries: false
      id: 13
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: false
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: mysql_global_status_threads_connected{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: Threads Connected - {{pod}}
        refId: A
      - exemplar: true
        expr: mysql_global_status_threads_running{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: Threads Running - {{pod}}
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Client Thread Activity
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:290
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:291
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 21
      hiddenSeries: false
      id: 17
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: false
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: mysql_global_variables_thread_cache_size{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: Thread Cache Size - {{pod}}
        refId: A
      - exemplar: true
        expr: mysql_global_status_threads_cached{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: Threads Cached - {{pod}}
        refId: B
      - exemplar: true
        expr: mysql_global_status_threads_created{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: Threads Created - {{pod}}
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Thread Cache
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:659
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:660
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 28
      id: 19
      panels: []
      title: Temporary Objects & Slow Queries
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 29
      hiddenSeries: false
      id: 20
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: false
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_created_tmp_tables{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        interval: ""
        legendFormat: Created Tmp Tables - {{pod}}
        refId: A
      - exemplar: true
        expr: rate(mysql_global_status_created_tmp_disk_tables{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Created Tmp Disk Tables - {{pod}}
        refId: B
      - exemplar: true
        expr: mysql_global_status_created_tmp_files{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: Created Tmp Files - {{pod}}
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Temporary Objects
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:763
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:764
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 29
      hiddenSeries: false
      id: 25
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: false
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: mysql_global_status_slow_queries{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: Slow Queries - {{pod}}
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Slow Queries
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:816
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:817
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 36
      id: 23
      panels: []
      title: Select Types and Sorts
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 37
      hiddenSeries: false
      id: 24
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: false
        show: true
        sort: max
        sortDesc: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_select_full_join{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        interval: ""
        legendFormat: Select Full Join - {{pod}}
        refId: A
      - exemplar: true
        expr: rate(mysql_global_status_select_scan{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Select Scan - {{pod}}
        refId: E
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Select Types
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:873
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:874
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 37
      hiddenSeries: false
      id: 21
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: false
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_sort_rows{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        interval: ""
        legendFormat: Sort Rows - {{pod}}
        refId: A
      - exemplar: true
        expr: rate(mysql_global_status_sort_range{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Sort Range - {{pod}}
        refId: B
      - exemplar: true
        expr: rate(mysql_global_status_sort_merge_passes{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Sort Merge Passes - {{pod}}
        refId: C
      - exemplar: true
        expr: rate(mysql_global_status_sort_scan{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Sort Scan - {{pod}}
        refId: D
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Sorts
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1134
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:1135
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 44
      id: 27
      panels: []
      title: Table Locks and Questions
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 45
      hiddenSeries: false
      id: 28
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_table_locks_immediate{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        interval: ""
        legendFormat: Table Locks Immediate - {{pod}}
        refId: A
      - exemplar: true
        expr: rate(mysql_global_status_table_locks_waited{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Table Locks Waited - {{pod}}
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Table Locks
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1493
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:1494
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 45
      hiddenSeries: false
      id: 29
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_questions{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        interval: ""
        legendFormat: Questions - {{pod}}
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Questions
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1550
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:1551
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 52
      id: 31
      panels: []
      title: Network
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      description: |2-
    
    
        Here we can see how much network traffic is generated by MySQL. Outbound is network traffic sent from MySQL and Inbound is network traffic MySQL has received.
      editable: true
      error: false
      fieldConfig:
        defaults:
          links: []
        overrides: []
      fill: 6
      fillGradient: 0
      grid: {}
      gridPos:
        h: 10
        w: 24
        x: 0
        "y": 53
      hiddenSeries: false
      id: 9
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: false
        show: true
        sort: avg
        sortDesc: true
        total: false
        values: true
      lines: true
      linewidth: 2
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      paceLength: 10
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: true
      steppedLine: false
      targets:
      - calculatedInterval: 2m
        datasourceErrors: {}
        errors: {}
        exemplar: true
        expr: rate(mysql_global_status_bytes_received{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: Inbound - {{pod}}
        metric: ""
        refId: A
        step: 20
      - calculatedInterval: 2m
        datasourceErrors: {}
        errors: {}
        exemplar: true
        expr: rate(mysql_global_status_bytes_sent{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: Outbound - {{pod}}
        metric: ""
        refId: B
        step: 20
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Network Traffic
      tooltip:
        msResolution: false
        shared: true
        sort: 5
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1886
        decimals: 2
        format: Bps
        logBase: 1
        max: null
        min: 0
        show: true
      - $$hashKey: object:1887
        format: none
        logBase: 1
        max: null
        min: 0
        show: false
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: true
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      description: |2-
    
    
        Here we can see how much network traffic is generated by MySQL. Outbound is network traffic sent from MySQL and Inbound is network traffic MySQL has received.
      editable: true
      error: false
      fieldConfig:
        defaults:
          links: []
        overrides: []
      fill: 6
      fillGradient: 0
      grid: {}
      gridPos:
        h: 10
        w: 24
        x: 0
        "y": 63
      hiddenSeries: false
      id: 44
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: false
        show: true
        sort: avg
        sortDesc: true
        total: false
        values: true
      lines: false
      linewidth: 2
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      paceLength: 10
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: true
      steppedLine: false
      targets:
      - calculatedInterval: 2m
        datasourceErrors: {}
        errors: {}
        exemplar: true
        expr: increase(mysql_global_status_bytes_received{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[1h])
        format: time_series
        instant: false
        interval: 1h
        intervalFactor: 1
        legendFormat: Received - {{pod}}
        metric: ""
        refId: A
        step: 20
      - calculatedInterval: 2m
        datasourceErrors: {}
        errors: {}
        exemplar: true
        expr: increase(mysql_global_status_bytes_sent{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[1h])
        format: time_series
        interval: 1h
        intervalFactor: 1
        legendFormat: Sent - {{pod}}
        metric: ""
        refId: B
        step: 20
      thresholds: []
      timeFrom: 24h
      timeRegions: []
      timeShift: null
      title: MySQL Network Usage Hourly
      tooltip:
        msResolution: false
        shared: true
        sort: 5
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1513
        decimals: 2
        format: bytes
        logBase: 1
        max: null
        min: 0
        show: true
      - $$hashKey: object:1514
        format: none
        logBase: 1
        max: null
        min: 0
        show: false
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 73
      id: 48
      panels: []
      title: Memory
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: ""
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 74
      hiddenSeries: false
      id: 50
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: mysql_global_variables_innodb_buffer_pool_size{namespace="$namespace",service=~"$app+-stats",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: InnoDB Buffer Pool Size - {{pod}}
        refId: A
      - exemplar: true
        expr: mysql_global_variables_innodb_log_buffer_size{namespace="$namespace",service=~"$app+-stats",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: InnoDB Log Buffer Size - {{pod}}
        refId: B
      - exemplar: true
        expr: mysql_global_status_innodb_mem_dictionary{namespace="$namespace",service=~"$app+-stats",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: InnoDB Dictionary Size - {{pod}}
        refId: D
      - exemplar: false
        expr: mysql_global_variables_key_buffer_size{namespace="$namespace",service=~"$app+-stats",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: Key Buffer Size - {{pod}}
        refId: E
      - exemplar: true
        expr: mysql_global_variables_query_cache_size{namespace="$namespace",service=~"$app+-stats",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: Query Cache Size - {{pod}}
        refId: F
      - exemplar: true
        expr: mysql_global_status_innodb_mem_adaptive_hash{namespace="$namespace",service=~"$app+-stats",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: Adaptive Hash Index Size - {{pod}}
        refId: G
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Internal Memory Overview
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:237
        format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:238
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 82
      id: 46
      panels: []
      title: Command, Handlers
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 83
      hiddenSeries: false
      id: 18
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: false
        hideZero: false
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 2
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: topk(5, rate(mysql_global_status_commands_total{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m]))
        instant: false
        interval: ""
        legendFormat: Com_{{ command }} - {{pod}}
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Top Command Counters
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:283
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:284
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: true
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      description: |2-
    
    
        Here we can see how much network traffic is generated by MySQL. Outbound is network traffic sent from MySQL and Inbound is network traffic MySQL has received.
      editable: true
      error: false
      fieldConfig:
        defaults:
          links: []
          unit: none
        overrides: []
      fill: 6
      fillGradient: 0
      grid: {}
      gridPos:
        h: 10
        w: 24
        x: 0
        "y": 91
      hiddenSeries: false
      id: 51
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: true
        show: true
        sort: avg
        sortDesc: true
        total: false
        values: true
      lines: false
      linewidth: 2
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      paceLength: 10
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: true
      steppedLine: false
      targets:
      - calculatedInterval: 2m
        datasourceErrors: {}
        errors: {}
        exemplar: true
        expr: topk(5, avg by (pod,command) (increase(mysql_global_status_commands_total{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[1h])>0))
        format: time_series
        instant: false
        interval: 1h
        intervalFactor: 1
        legendFormat: Com_{{ command }} - {{pod}}
        metric: ""
        refId: A
        step: 20
      thresholds: []
      timeFrom: 24h
      timeRegions: []
      timeShift: null
      title: Top Command Counter Hourly
      tooltip:
        msResolution: false
        shared: true
        sort: 5
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1513
        decimals: 2
        format: none
        logBase: 1
        max: null
        min: 0
        show: true
      - $$hashKey: object:1514
        format: none
        logBase: 1
        max: null
        min: 0
        show: false
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: ""
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 101
      hiddenSeries: false
      id: 32
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: false
        hideZero: false
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 2
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_handlers_total{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])>0
        instant: false
        interval: ""
        legendFormat: '{{ handler }} - {{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Handlers
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:283
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:284
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 109
      id: 53
      panels: []
      title: Query Cache
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 110
      hiddenSeries: false
      id: 54
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_qcache_free_memory{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        interval: ""
        legendFormat: Query Cache Size - {{pod}}
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Query Cache Memory
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2422
        format: bytes
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:2423
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      fieldConfig:
        defaults:
          unit: none
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 110
      hiddenSeries: false
      id: 55
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_qcache_hits{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        interval: ""
        legendFormat: Hits - {{pod}}
        refId: A
      - exemplar: true
        expr: rate(mysql_global_status_qcache_inserts{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Inserts - {{pod}}
        refId: B
      - exemplar: true
        expr: rate(mysql_global_status_qcache_not_cached{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Not Cached - {{pod}}
        refId: C
      - exemplar: true
        expr: rate(mysql_global_status_qcache_lowmem_prunes{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Prunes - {{pod}}
        refId: D
      - exemplar: true
        expr: rate(mysql_global_status_qcache_queries_in_cache{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Queries in Cache - {{pod}}
        refId: E
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Query Cache Activity
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2475
        format: none
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:2476
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 117
      id: 38
      panels: []
      title: Files and Tables
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 118
      hiddenSeries: false
      id: 34
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: mysql_global_status_opened_files{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: Openings - {{pod}}
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL File Openings
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2585
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:2586
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 118
      hiddenSeries: false
      id: 36
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: mysql_global_status_open_files{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: Open Files - {{pod}}
        refId: A
      - exemplar: true
        expr: mysql_global_variables_open_files_limit{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: Open Files Limit - {{pod}}
        refId: B
      - exemplar: true
        expr: mysql_global_status_innodb_num_open_files{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: InnoDB Open Files - {{pod}}
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Open Files
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2640
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:2641
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 125
      id: 41
      panels: []
      title: MySQL Table Openings and Definition Cache
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 126
      hiddenSeries: false
      id: 39
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_opened_tables{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        interval: ""
        legendFormat: Openings - {{pod}}
        refId: A
      - exemplar: true
        expr: rate(mysql_global_status_table_open_cache_hits{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Hits - {{pod}}
        refId: B
      - exemplar: true
        expr: rate(mysql_global_status_table_open_cache_misses{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Misses - {{pod}}
        refId: C
      - exemplar: true
        expr: rate(mysql_global_status_table_open_cache_overflows{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Misses due to Overflows - {{pod}}
        refId: D
      - exemplar: true
        expr: rate(mysql_global_status_table_open_cache_hits{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Table Open Cache Hit Ratio - {{pod}}
        refId: E
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Table Open Cache Status
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2748
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:2749
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 126
      hiddenSeries: false
      id: 42
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: mysql_global_status_open_tables{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: Open Tables - {{pod}}
        refId: A
      - exemplar: true
        expr: mysql_global_variables_table_open_cache{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: Table Open Cache - {{pod}}
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Open Tables
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2909
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:2910
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 133
      hiddenSeries: false
      id: 43
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: mysql_global_status_open_table_definitions{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: Open Table Definitions - {{pod}}
        refId: A
      - exemplar: true
        expr: mysql_global_variables_table_definition_cache{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: Table Definitions Cache Size - {{pod}}
        refId: B
      - exemplar: true
        expr: mysql_global_status_opened_table_definitions{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: Opened Table Definitions - {{pod}}
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Table Definition Cache
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2964
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:2965
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    refresh: false
    schemaVersion: 27
    style: dark
    tags: []
    templating:
      list:
      - current:
          selected: false
          text: default
          value: default
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Datasource
        multi: false
        name: datasource
        options: []
        query: prometheus
        queryValue: ""
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: null
        current:
          selected: false
          text: demo
          value: demo
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Namespace
        multi: false
        name: namespace
        options: []
        query: label_values(kube_namespace_created,namespace)
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text: sample-mariadb-stats
          value: sample-mariadb-stats
        datasource: ${datasource}
        description: ""
        error: null
        hide: 0
        includeAll: false
        label: MariaDB
        multi: false
        name: app
        options: []
        query: label_values(kubedb_com_mariadb_status_phase{namespace=~"$namespace"},app)
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: true
          tags: []
          text:
          - sample-mariadb-0
          value:
          - sample-mariadb-0
        datasource: ${datasource}
        definition: label_values(mysql_up{namespace=~"$namespace", service=~"$app+-stats"},
          pod)
        description: null
        error: null
        hide: 0
        includeAll: true
        label: Pod
        multi: true
        name: pod
        options: []
        query: label_values(mysql_up{namespace=~"$namespace", service=~"$app+-stats"},
          pod)
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-6h
      to: now
    timepicker: {}
    timezone: ""
    title: KubeDB / MariaDB / Pod
    version: 3
  overwrite: true
  templatize:
    title: false
    datasource: false
---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-mariadb-summary
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: MariaDB
    k8s.io/resource: mariadbs
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - builtIn: 1
        datasource: -- Grafana --
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        target:
          limit: 100
          matchAny: false
          tags: []
          type: dashboard
        type: dashboard
    description: The dashboard is designed for KubeDB managed MariaDB
    editable: true
    gnetId: 9628
    graphTooltip: 0
    iteration: 1682776538666
    links: []
    panels:
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 0
      id: 136
      panels: []
      title: General Info
      type: row
    - datasource: ${datasource}
      description: Represent database status
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          mappings:
          - options:
              Critical:
                color: dark-yellow
                index: 1
              DataRestoring:
                color: dark-red
                index: 4
              Halted:
                color: dark-red
                index: 5
              NotReady:
                color: dark-red
                index: 2
              Provisioning:
                color: text
                index: 3
              Ready:
                color: semi-dark-green
                index: 0
            type: value
          thresholds:
            mode: absolute
            steps:
            - color: text
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 8
        x: 0
        "y": 1
      id: 78
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: /^phase$/
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: |
          kubedb_com_mariadb_status_phase{namespace="$namespace", app="$app"} == 1
        format: table
        instant: true
        interval: ""
        legendFormat: '{{phase}}'
        refId: A
      title: Database Status
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      description: MariaDB CR Name
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: palette-classic
          mappings:
          - options:
              match: "null"
              result:
                index: 0
                text: N/A
            type: special
          noValue: N/A
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 8
        x: 8
        "y": 1
      id: 36
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - mean
          fields: ""
          values: false
        text:
          valueSize: 50
        textMode: name
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_mariadb_info{namespace="$namespace", app="$app"}
        format: time_series
        instant: true
        interval: ""
        intervalFactor: 1
        legendFormat: '{{version}}'
        refId: A
      title: Version
      type: stat
    - datasource: ${datasource}
      description: When this option is enabled, connections attempted using insecure transport
        will be rejected.
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings:
          - from: ""
            id: 1
            text: "True"
            to: ""
            type: 1
            value: "1"
          - from: ""
            id: 2
            text: "False"
            to: ""
            type: 1
            value: "0"
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 16
        "y": 1
      id: 82
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: value
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_mariadb_info{namespace="$namespace", app="$app"}
        format: time_series
        instant: true
        interval: ""
        legendFormat: '{{requireSSL}}'
        refId: A
      timeFrom: null
      timeShift: null
      title: Require Secure Transport
      type: stat
    - datasource: ${datasource}
      description: KubeDB Database Resource terminationPolicy
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          mappings:
          - options:
              Delete:
                color: yellow
                index: 1
              DoNotTerminate:
                color: green
                index: 2
              Halt:
                color: blue
                index: 3
              WipeOut:
                color: dark-red
                index: 0
            type: value
          thresholds:
            mode: absolute
            steps:
            - color: text
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 20
        "y": 1
      id: 84
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: /^terminationPolicy$/
          values: false
        text: {}
        textMode: value
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_mariadb_info{namespace="$namespace", app="$app"}
        format: table
        instant: true
        interval: ""
        legendFormat: '{{terminationPolicy}}'
        refId: A
      title: Termination Policy
      type: stat
    - datasource: ${datasource}
      description: Total node count of MariaDB cluster
      fieldConfig:
        defaults:
          color:
            fixedColor: green
            mode: fixed
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 0
        "y": 4
      id: 76
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_mariadb_replicas{namespace="$namespace",app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Total Nodes
      type: stat
    - datasource: ${datasource}
      description: Initial Requested CPU amount by MariaDB Instance
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          min: 0
          thresholds:
            mode: percentage
            steps:
            - color: green
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 4
        "y": 4
      id: 92
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_mariadb_resource_request_cpu{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: CPU Request (Core)
      type: stat
    - datasource: ${datasource}
      description: CPU Limit in core by MariaDB instance
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 8
        "y": 4
      id: 114
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_mariadb_resource_limit_cpu{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: CPU Limit (Core)
      type: stat
    - datasource: ${datasource}
      description: Initial Requested Memory amount by MariaDB Instance
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          min: 0
          thresholds:
            mode: percentage
            steps:
            - color: green
              value: null
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 12
        "y": 4
      id: 94
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_mariadb_resource_request_memory{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Memory Request
      type: stat
    - datasource: ${datasource}
      description: KubeDB MariaDB Total Memory Limit
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 16
        "y": 4
      id: 116
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_mariadb_resource_limit_memory{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Memory Limit
      type: stat
    - datasource: ${datasource}
      description: Total storage request by MariaDB nodes
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          min: 0
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 20
        "y": 4
      id: 96
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_mariadb_resource_request_storage{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Storage Request
      type: stat
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 7
      id: 138
      panels: []
      title: CPU Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: CPU Usage by MariaDB pods
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 8
      hiddenSeries: false
      id: 98
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{namespace="$namespace",
          pod=~"$app-\\d+$"}) by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: CPU Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      description: CPU Quote information in details
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            displayMode: auto
            filterable: false
          decimals: 2
          displayName: ""
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: Time
          properties:
          - id: displayName
            value: Time
          - id: custom.align
            value: null
          - id: custom.width
            value: null
        - matcher:
            id: byName
            options: 'Value #A'
          properties:
          - id: displayName
            value: CPU Usage
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #B'
          properties:
          - id: displayName
            value: CPU Requests
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #C'
          properties:
          - id: displayName
            value: CPU Requests %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #D'
          properties:
          - id: displayName
            value: CPU Limits
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #E'
          properties:
          - id: displayName
            value: CPU Limits %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: pod
          properties:
          - id: displayName
            value: Pod
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: links
            value:
            - targetBlank: false
              title: Drill down
              url: ./d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-pod=$__cell
          - id: custom.align
            value: null
      gridPos:
        h: 6
        w: 24
        x: 0
        "y": 15
      id: 122
      links: []
      options:
        showHeader: true
        sortBy: []
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: sum(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{namespace="$namespace",
          pod=~"$app-\\d+$"}) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
        step: 10
      - exemplar: true
        expr: sum(cluster:namespace:pod_cpu:active:kube_pod_container_resource_requests{namespace="$namespace",
          pod=~"$app-\\d+$"}) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: B
        step: 10
      - exemplar: true
        expr: sum(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{namespace="$namespace",
          pod=~"$app-\\d+$"}) by (pod) / sum(cluster:namespace:pod_cpu:active:kube_pod_container_resource_requests{namespace="$namespace",
          pod=~"$app-\\d+$"}) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: C
        step: 10
      - exemplar: true
        expr: sum(cluster:namespace:pod_cpu:active:kube_pod_container_resource_limits{namespace="$namespace",
          pod=~"$app-\\d+$"}) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: D
        step: 10
      - exemplar: true
        expr: sum(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{namespace="$namespace",
          pod=~"$app-\\d+$"}) by (pod) / sum(cluster:namespace:pod_cpu:active:kube_pod_container_resource_limits{namespace="$namespace",
          pod=~"$app-\\d+$"}) by (pod)
        format: table
        hide: false
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: E
        step: 10
      timeFrom: null
      timeShift: null
      title: CPU Quota
      transformations:
      - id: merge
        options:
          reducers: []
      type: table
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 21
      id: 140
      panels: []
      title: Memory Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Memory Usage by MariaDB pods
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 6
        w: 24
        x: 0
        "y": 22
      hiddenSeries: false
      id: 100
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(node_namespace_pod_container:container_memory_working_set_bytes{namespace="$namespace",
          pod=~"$app-\\d+$",container!=""}) by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Memory Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            displayMode: auto
            filterable: false
          decimals: 2
          displayName: ""
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: Time
          properties:
          - id: displayName
            value: Time
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #A'
          properties:
          - id: displayName
            value: Memory Usage
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #B'
          properties:
          - id: displayName
            value: Memory Requests
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #C'
          properties:
          - id: displayName
            value: Memory Requests %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #D'
          properties:
          - id: displayName
            value: Memory Limits
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #E'
          properties:
          - id: displayName
            value: Memory Limits %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #F'
          properties:
          - id: displayName
            value: Memory Usage (RSS)
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #G'
          properties:
          - id: displayName
            value: Memory Usage (Cache)
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #H'
          properties:
          - id: displayName
            value: Memory Usage (Swap)
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: pod
          properties:
          - id: displayName
            value: Pod
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: links
            value:
            - targetBlank: false
              title: Drill down
              url: ./d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-pod=$__cell
          - id: custom.align
            value: null
      gridPos:
        h: 6
        w: 24
        x: 0
        "y": 28
      id: 124
      links: []
      options:
        showHeader: true
        sortBy:
        - desc: true
          displayName: Memory Usage
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{namespace="$namespace",pod=~"$app-\\d+$",container!="",
          image!=""}) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
        step: 10
      - exemplar: true
        expr: sum(cluster:namespace:pod_memory:active:kube_pod_container_resource_requests{namespace="$namespace",pod=~"$app-\\d+$"})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: B
        step: 10
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{namespace="$namespace",pod=~"$app-\\d+$",container!="",
          image!=""}) by (pod) / sum(cluster:namespace:pod_memory:active:kube_pod_container_resource_requests{namespace="$namespace",pod=~"$app-\\d+$"})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: C
        step: 10
      - exemplar: true
        expr: sum(cluster:namespace:pod_memory:active:kube_pod_container_resource_limits{namespace="$namespace",pod=~"$app-\\d+$"})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: D
        step: 10
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{namespace="$namespace",pod=~"$app-\\d+$",container!="",
          image!=""}) by (pod) / sum(cluster:namespace:pod_memory:active:kube_pod_container_resource_limits{namespace="$namespace",
          pod=~"$app-\\d+$"}) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: E
        step: 10
      - exemplar: true
        expr: sum(container_memory_rss{namespace="$namespace",pod=~"$app-\\d+$",container!=""})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: F
        step: 10
      - exemplar: true
        expr: sum(container_memory_cache{namespace="$namespace",pod=~"$app-\\d+$",container!=""})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: G
        step: 10
      - exemplar: true
        expr: sum(container_memory_swap{namespace="$namespace",pod=~"$app-\\d+$",container!=""})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: H
        step: 10
      timeFrom: null
      timeShift: null
      title: Memory Quota
      transformations:
      - id: merge
        options:
          reducers: []
      type: table
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 34
      id: 142
      panels: []
      title: Storage Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Disk usage by MariaDB pods
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 9
        w: 12
        x: 0
        "y": 35
      hiddenSeries: false
      id: 112
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: avg(container_blkio_device_usage_total{namespace="$namespace", pod=~"$app-\\d+$"})
          by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Disk Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: System Disk Usage Information
      fieldConfig:
        defaults:
          unit: none
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 9
        w: 12
        x: 12
        "y": 35
      hiddenSeries: false
      id: 108
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(rate(container_fs_writes_total{namespace="$namespace", pod=~"$app-\\d+$"}[5m]))by(pod)
        instant: false
        interval: ""
        intervalFactor: 1
        legendFormat: '{{pod}}-disk-write'
        refId: A
      - exemplar: true
        expr: sum(rate(container_fs_reads_total{namespace="$namespace", pod=~"$app-\\d+$"}[5m]))by(pod)
        hide: false
        instant: false
        interval: ""
        legendFormat: '{{pod}}-disk-read'
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Disk R/W Info
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: none
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: short
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 44
      hiddenSeries: false
      id: 126
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: ceil(sum by(pod) (rate(container_fs_reads_total{container!="", namespace=~"$namespace",
          pod=~"$app-\\d+$"}[5m]) + rate(container_fs_writes_total{container!="" ,namespace=~"$namespace",
          pod=~"$app-\\d+$"}[5m])))
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: IOPS (Reads+Writes)
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: Bps
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 44
      hiddenSeries: false
      id: 128
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_bytes_total{container!="", namespace=~"$namespace",
          pod=~"$app-\\d+$"}[5m]) + rate(container_fs_writes_bytes_total{container!=""
          ,namespace=~"$namespace", pod=~"$app-\\d+$"}[5m]))
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: ThroughPut (Read+Write)
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: Bps
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            displayMode: auto
            filterable: false
          decimals: 2
          displayName: ""
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: Time
          properties:
          - id: displayName
            value: Time
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #A'
          properties:
          - id: displayName
            value: IOPS(Reads)
          - id: unit
            value: short
          - id: decimals
            value: -1
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #B'
          properties:
          - id: displayName
            value: IOPS(Writes)
          - id: unit
            value: short
          - id: decimals
            value: -1
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #C'
          properties:
          - id: displayName
            value: IOPS(Reads + Writes)
          - id: unit
            value: short
          - id: decimals
            value: -1
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #D'
          properties:
          - id: displayName
            value: Throughput(Read)
          - id: unit
            value: Bps
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #E'
          properties:
          - id: displayName
            value: Throughput(Write)
          - id: unit
            value: Bps
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #F'
          properties:
          - id: displayName
            value: Throughput(Read + Write)
          - id: unit
            value: Bps
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: pod
          properties:
          - id: displayName
            value: Pod
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: links
            value:
            - targetBlank: false
              title: Drill down to pods
              url: ./d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-pod=$__cell
          - id: custom.align
            value: null
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 51
      id: 130
      links: []
      options:
        showHeader: true
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_total{container!="", pod=~"$app-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_writes_total{container!="", pod=~"$app-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: B
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_total{container!="", pod=~"$app-\\d+$",namespace=~"$namespace"}[5m])
          + rate(container_fs_writes_total{container!="",pod=~"$app-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: C
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_bytes_total{container!="", pod=~"$app-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: D
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_writes_bytes_total{container!="", pod=~"$app-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: E
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_bytes_total{container!="", pod=~"$app-\\d+$",namespace=~"$namespace"}[5m])
          + rate(container_fs_writes_bytes_total{container!="",pod=~"$app-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: F
        step: 10
      timeFrom: null
      timeShift: null
      title: Current Storage IO
      transformations:
      - id: merge
        options:
          reducers: []
      type: table
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 58
      id: 152
      panels: []
      title: Persistent Storage Insight
      type: row
    - datasource: ${datasource}
      description: |
        This panel describes allocated persistent storage in a table format
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: center
            displayMode: color-text
            filterable: false
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: light-blue
              value: null
          unit: decbytes
        overrides: []
      gridPos:
        h: 6
        w: 12
        x: 0
        "y": 59
      id: 148
      options:
        showHeader: true
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubelet_volume_stats_capacity_bytes + on(persistentvolumeclaim) group_left(pod)
          kube_pod_spec_volumes_persistentvolumeclaims_info{pod=~"$app-\\d+$",namespace=~"$namespace"}
        format: table
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Allocated Storage
      transformations:
      - id: organize
        options:
          excludeByName:
            Time: true
            endpoint: true
            instance: true
            job: true
            metrics_path: true
            namespace: true
            node: true
            persistentvolumeclaim: true
            service: true
          indexByName: {}
          renameByName:
            Value: Volume
            pod: Pod
      type: table
    - datasource: ${datasource}
      description: 'This panel shows the persistent volume usage in percentage. '
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: percent
        overrides: []
      gridPos:
        h: 6
        w: 12
        x: 12
        "y": 59
      id: 146
      options:
        displayMode: gradient
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        showUnfilled: true
        text: {}
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: (kubelet_volume_stats_used_bytes / on(persistentvolumeclaim) group_left(pod)
          (kubelet_volume_stats_capacity_bytes + on(persistentvolumeclaim) group_left(pod)
          kube_pod_spec_volumes_persistentvolumeclaims_info{pod=~"$app-\\d+$",namespace=~"$namespace"})
          )* 100
        instant: true
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      title: Persistent Volume Usage
      transformations: []
      type: bargauge
    - datasource: ${datasource}
      description: 'This panel describes the persistent volume usage in a time series. '
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            axisSoftMax: 5000
            axisSoftMin: 0
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: opacity
            hideFrom:
              graph: false
              legend: false
              tooltip: false
            lineInterpolation: linear
            lineStyle:
              fill: solid
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: true
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: decbytes
        overrides: []
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 65
      id: 150
      options:
        graph: {}
        legend:
          calcs:
          - max
          - lastNotNull
          displayMode: table
          placement: right
        tooltipOptions:
          mode: single
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: '(kubelet_volume_stats_used_bytes + on(persistentvolumeclaim) group_left(pod)
          kube_pod_spec_volumes_persistentvolumeclaims_info{pod=~"$app-\\d+$",namespace=~"$namespace"}) '
        interval: ""
        intervalFactor: 1
        legendFormat: '{{pod}}'
        refId: A
      title: Persistent Volume Usage History
      type: timeseries
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 73
      id: 144
      panels: []
      title: Network Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 74
      hiddenSeries: false
      id: 132
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(irate(container_network_receive_bytes_total{namespace=~"$namespace",
          pod=~"$app-\\d+$"}[$__rate_interval])) by (pod)
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Receive Bandwidth
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: Bps
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: Bps
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 74
      hiddenSeries: false
      id: 134
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(irate(container_network_transmit_bytes_total{namespace=~"$namespace",
          pod=~"$app-\\d+$"}[$__rate_interval])) by (pod)
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Transmit Bandwidth
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: Bps
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    refresh: 10s
    schemaVersion: 27
    style: dark
    tags:
    - db
    - stats
    - kubedb
    - mariadb
    templating:
      list:
      - current:
          selected: true
          text: default
          value: default
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Datasource
        multi: false
        name: datasource
        options: []
        query: prometheus
        queryValue: ""
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: '".+"'
        current:
          selected: false
          text: demo
          value: demo
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Namespace
        multi: false
        name: namespace
        options: []
        query:
          query: label_values(kube_namespace_created,namespace)
          refId: Prometheus-namespace-Variable-Query
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text: mariadb-galera
          value: mariadb-galera
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Mariadb
        multi: false
        name: app
        options: []
        query:
          query: label_values(kubedb_com_mariadb_status_phase{namespace=~"$namespace"},app)
          refId: Prometheus-app-Variable-Query
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-6h
      to: now
    timepicker:
      refresh_intervals:
      - 5s
      - 10s
      - 30s
      - 1m
      - 5m
      - 15m
      - 30m
      - 1h
      - 2h
      - 1d
      time_options:
      - 5m
      - 15m
      - 1h
      - 6h
      - 12h
      - 24h
      - 2d
      - 7d
      - 30d
    timezone: ""
    title: KubeDB / MariaDB / Summary
    version: 11
  overwrite: true
  templatize:
    title: false
    datasource: false
---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-mongodb-database-replicaset
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: MongoDB
    k8s.io/resource: mongodbs
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - builtIn: 1
        datasource: -- Grafana --
        enable: true
        hide: true
        iconColor: '#6ed0e0'
        limit: 100
        name: Annotations & Alerts
        showIn: 0
        tags: []
        target:
          limit: 100
          matchAny: false
          tags: []
          type: dashboard
        type: dashboard
    editable: true
    fiscalYearStartMonth: 0
    gnetId: null
    graphTooltip: 1
    iteration: 1639487976334
    links: []
    liveNow: false
    panels:
    - datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 0
      id: 89
      title: Overview
      type: row
    - cacheTimeout: null
      datasource: ${datasource}
      description: Shows the role of the selected member instance (PRIMARY or SECONDARY)
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          decimals: 0
          mappings:
          - options:
              "0":
                text: STARTUP
              "1":
                text: PRIMARY
              "2":
                text: SECONDARY
              "3":
                text: RECOVERING
              "5":
                text: STARTUP2
              "6":
                text: UNKNOWN
              "7":
                text: ARBITER
              "8":
                text: DOWN
              "9":
                text: ROLLBACK
              "10":
                text: REMOVED
            type: value
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 6
        x: 0
        "y": 1
      hideTimeOverride: true
      id: 49
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.2.3
      repeat: null
      targets:
      - exemplar: false
        expr: mongodb_members_state{pod=~"$pod",member_idx=~"$pod.*"}
        interval: 5m
        intervalFactor: 1
        legendFormat: ""
        metric: ""
        refId: A
        step: 300
      timeFrom: 1m
      title: ReplSet State
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      description: Shows the number of members in the replica set
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          decimals: 0
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 6
        "y": 1
      hideTimeOverride: false
      id: 59
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.2.3
      targets:
      - exemplar: false
        expr: count by (rs_nm) (mongodb_members_state{rs_nm=~"$repName", pod="$pod"})
        interval: 5m
        intervalFactor: 1
        legendFormat: ""
        metric: ""
        refId: A
        step: 300
      timeFrom: null
      title: ReplSet Members
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      description: Shows how long ago the last election occurred
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          decimals: 1
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: s
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 10
        "y": 1
      hideTimeOverride: true
      id: 65
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.2.3
      targets:
      - expr: time() - mongodb_electionCandidateMetrics_lastElectionDate{pod=~"$pod"}/1000
        format: time_series
        interval: 5m
        intervalFactor: 1
        legendFormat: ""
        metric: ""
        refId: A
        step: 300
      timeFrom: 1m
      title: ReplSet Last Election
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      description: Shows the current replication lag for the selected member
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          decimals: 1
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: s
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 14
        "y": 1
      hideTimeOverride: true
      id: 77
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.2.3
      targets:
      - expr: (max(mongodb_mongod_replset_member_optime_date{state="PRIMARY", set="$repName"})
          - min(mongodb_mongod_replset_member_optime_date{state="SECONDARY"} * on (name)
          group_left mongodb_mongod_replset_my_name{pod=~"$pod"})) or (max(mongodb_members_optimeDate{member_state="PRIMARY",
          rs_nm="$repName", pod="$pod"}) - min(mongodb_members_optimeDate{pod="$pod",
          member_idx=~"$pod.*"})) or vector(0)
        interval: 5m
        intervalFactor: 1
        legendFormat: ""
        metric: ""
        refId: A
        step: 300
      timeFrom: 1m
      title: ReplSet Lag
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      description: Shows the storage engine used on the instance (inMemory or wiredTiger)
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          decimals: 0
          mappings:
          - options:
              "0":
                index: 1
                text: inMemory
              "1":
                index: 0
                text: wiredTiger
            type: value
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 6
        x: 18
        "y": 1
      hideTimeOverride: true
      id: 92
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.2.3
      targets:
      - expr: mongodb_ss_storageEngine_persistent{pod=~"$pod"}
        interval: 5m
        intervalFactor: 1
        legendFormat: ""
        metric: ""
        refId: A
        step: 300
      timeFrom: 1m
      title: Storage Engine
      type: stat
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 4
      id: 87
      panels: []
      title: Replication Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: null
      editable: true
      error: false
      fill: 2
      fillGradient: 0
      grid:
        leftLogBase: 1
        leftMax: null
        leftMin: 0
        rightLogBase: 1
        rightMax: null
        rightMin: null
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 5
      hiddenSeries: false
      id: 63
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 2
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.2.3
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(mongodb_ss_opcountersRepl{pod=~"$pod", legacy_op_type!~"(command|getmore|query)"}[$interval])
          or irate(mongodb_ss_opcountersRepl{pod=~"$pod", legacy_op_type!~"(command|getmore|query)"}[5m])
        interval: $interval
        intervalFactor: 1
        legendFormat: '{{legacy_op_type}}'
        range: true
        refId: A
        step: 300
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Replication Operations
      tooltip:
        msResolution: false
        shared: true
        sort: 0
        value_type: cumulative
      type: graph
      x-axis: true
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      y-axis: true
      y_formats:
      - short
      - short
      yaxes:
      - format: ops
        label: ""
        logBase: 1
        max: null
        min: 0
        show: true
      - format: short
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: null
      description: Shows the delay between an operation occurring on the primary and that
        same operation getting applied on the selected member
      editable: true
      error: false
      fill: 2
      fillGradient: 0
      grid:
        leftLogBase: 1
        leftMax: null
        leftMin: 0
        rightLogBase: 1
        rightMax: null
        rightMin: null
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 5
      hiddenSeries: false
      id: 14
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: false
        show: true
        total: false
        values: true
      lines: true
      linewidth: 2
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.2.3
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: (max(mongodb_mongod_replset_member_optime_date{state="PRIMARY", set="$repName"})
          - min(mongodb_mongod_replset_member_optime_date{state="SECONDARY"} * on (name)
          group_left mongodb_mongod_replset_my_name{pod=~"$pod"})) or (max(mongodb_members_optimeDate{member_state="PRIMARY",
          rs_nm="$repName", pod="$pod"}) - min(mongodb_members_optimeDate{pod="$pod",
          member_idx=~"$pod.*"})) or vector(0)
        interval: $interval
        intervalFactor: 1
        legendFormat: Lag
        refId: A
        step: 300
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Replication Lag
      tooltip:
        msResolution: false
        shared: true
        sort: 0
        value_type: cumulative
      type: graph
      x-axis: true
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      y-axis: true
      y_formats:
      - s
      - short
      yaxes:
      - format: s
        label: ""
        logBase: 1
        max: null
        min: 0
        show: true
      - format: short
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 12
      id: 91
      panels: []
      title: Oplog Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: null
      editable: true
      error: false
      fill: 2
      fillGradient: 0
      grid:
        leftLogBase: 1
        leftMax: null
        leftMin: 0
        rightLogBase: 1
        rightMax: null
        rightMin: null
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 13
      hiddenSeries: false
      id: 79
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        sort: avg
        sortDesc: true
        total: false
        values: true
      lines: true
      linewidth: 2
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.2.3
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(mongodb_mongod_metrics_repl_network_getmores_total_milliseconds{pod=~"$pod"}[$interval])
          or irate(mongodb_mongod_metrics_repl_network_getmores_total_milliseconds{pod=~"$pod"}[5m])
          or rate(mongodb_ss_metrics_repl_network_getmores_totalMillis{pod=~"$pod"}[$interval])
          or irate(mongodb_ss_metrics_repl_network_getmores_totalMillis{pod=~"$pod"}[5m])
        interval: $interval
        intervalFactor: 1
        legendFormat: '{{pod}}'
        range: true
        refId: A
        step: 300
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Oplog Getmore Time
      tooltip:
        msResolution: false
        shared: true
        sort: 0
        value_type: cumulative
      type: graph
      x-axis: true
      xaxis:
        mode: time
        show: true
        values: []
      y-axis: true
      y_formats:
      - ms
      - short
      yaxes:
      - format: ms
        label: ""
        logBase: 1
        max: null
        min: 0
        show: true
      - format: short
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: null
      editable: true
      error: false
      fill: 2
      fillGradient: 0
      grid:
        leftLogBase: 1
        leftMax: null
        leftMin: 0
        rightLogBase: 1
        rightMax: null
        rightMin: null
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 13
      hiddenSeries: false
      id: 80
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        sort: avg
        sortDesc: true
        total: false
        values: true
      lines: true
      linewidth: 2
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.2.3
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: mongodb_ss_metrics_repl_buffer_sizeBytes{pod=~"$pod"}
        interval: $interval
        intervalFactor: 1
        legendFormat: Used
        refId: A
        step: 300
      - expr: mongodb_ss_metrics_repl_buffer_maxSizeBytes{pod=~"$pod"}
        interval: $interval
        intervalFactor: 1
        legendFormat: Max
        refId: B
        step: 300
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Oplog Buffer Capacity
      tooltip:
        msResolution: false
        shared: true
        sort: 0
        value_type: cumulative
      type: graph
      x-axis: true
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      y-axis: true
      y_formats:
      - ms
      - short
      yaxes:
      - format: bytes
        label: ""
        logBase: 10
        max: null
        min: 0
        show: true
      - format: short
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: null
      editable: true
      error: false
      fill: 2
      fillGradient: 0
      grid:
        leftLogBase: 1
        leftMax: null
        leftMin: 0
        rightLogBase: 1
        rightMax: null
        rightMin: null
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 20
      hiddenSeries: false
      id: 81
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        sort: avg
        sortDesc: true
        total: false
        values: true
      lines: true
      linewidth: 2
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.2.3
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(mongodb_ss_metrics_repl_apply_ops{pod=~"$pod"}[$interval]) or irate(mongodb_ss_metrics_repl_apply_ops{pod=~"$pod"}[5m])
        intervalFactor: 2
        legendFormat: Batch Apply
        refId: C
        step: 120
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Oplog Operations
      tooltip:
        msResolution: false
        shared: true
        sort: 0
        value_type: cumulative
      type: graph
      x-axis: true
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      y-axis: true
      y_formats:
      - ms
      - short
      yaxes:
      - format: ops
        label: ""
        logBase: 1
        max: null
        min: 0
        show: true
      - format: short
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: null
      editable: true
      error: false
      fill: 2
      fillGradient: 0
      grid:
        leftLogBase: 1
        leftMax: null
        leftMin: 0
        rightLogBase: 1
        rightMax: null
        rightMin: null
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 20
      hiddenSeries: false
      id: 85
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        sort: avg
        sortDesc: true
        total: false
        values: true
      lines: true
      linewidth: 2
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.2.3
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: mongodb_mongod_metrics_repl_buffer_count{pod=~"$pod"} or mongodb_ss_metrics_repl_buffer_count{pod=~"$pod"}
        interval: $interval
        intervalFactor: 1
        legendFormat: Current
        refId: A
        step: 300
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Oplog Buffered Operations
      tooltip:
        msResolution: false
        shared: true
        sort: 0
        value_type: cumulative
      type: graph
      x-axis: true
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      y-axis: true
      y_formats:
      - ms
      - short
      yaxes:
      - format: ops
        label: ""
        logBase: 1
        max: null
        min: 0
        show: true
      - format: short
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    refresh: ""
    schemaVersion: 31
    style: dark
    tags:
    - db
    - replicaset
    - mongodb
    - kubedb
    templating:
      list:
      - allFormat: glob
        auto: true
        auto_count: 200
        auto_min: 1s
        current:
          selected: false
          text: auto
          value: $__auto_interval_interval
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Interval
        multi: false
        multiFormat: glob
        name: interval
        options:
        - selected: true
          text: auto
          value: $__auto_interval_interval
        - selected: false
          text: 1s
          value: 1s
        - selected: false
          text: 5s
          value: 5s
        - selected: false
          text: 1m
          value: 1m
        - selected: false
          text: 5m
          value: 5m
        - selected: false
          text: 1h
          value: 1h
        - selected: false
          text: 6h
          value: 6h
        - selected: false
          text: 1d
          value: 1d
        query: 1s,5s,1m,5m,1h,6h,1d
        refresh: 2
        skipUrlSync: false
        type: interval
      - current:
          selected: true
          text: Prometheus
          value: Prometheus
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Datasource
        multi: false
        name: datasource
        options: []
        query: prometheus
        queryValue: ""
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: null
        current:
          selected: true
          text: demo
          value: demo
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Namespace
        multi: false
        name: namespace
        options: []
        query:
          query: label_values(kube_namespace_created,namespace)
          refId: Prometheus-namespace-Variable-Query
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allFormat: glob
        allValue: null
        current:
          selected: true
          text: shard1
          value: shard1
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Replica Set
        multi: false
        multiFormat: glob
        name: repName
        options: []
        query:
          query: label_values(mongodb_members_state{namespace=~"$namespace"}, rs_nm)
          refId: Prometheus-app-Variable-Query
        refresh: 2
        regex: ""
        skipUrlSync: false
        sort: 1
        tagValuesQuery: null
        tagsQuery: null
        type: query
        useTags: false
      - allFormat: glob
        allValue: null
        current:
          selected: false
          text: mg-sh-shard1-0
          value: mg-sh-shard1-0
        datasource: ${datasource}
        definition: ""
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Pod
        multi: false
        multiFormat: glob
        name: pod
        options: []
        query:
          query: label_values(mongodb_members_state{rs_nm="$repName"}, pod)
          refId: Prometheus-pod-Variable-Query
        refresh: 2
        regex: ""
        skipUrlSync: false
        sort: 1
        tagValuesQuery: null
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-6h
      to: now
    timepicker:
      hidden: false
      now: true
      refresh_intervals:
      - 5s
      - 10s
      - 30s
      - 1m
      - 5m
      - 15m
      - 30m
      - 1h
      - 2h
      - 1d
      time_options:
      - 5m
      - 15m
      - 1h
      - 6h
      - 12h
      - 24h
      - 2d
      - 7d
      - 30d
    timezone: browser
    title: KubeDB / MongoDB / Database / ReplicaSet
    version: 2
  overwrite: true
  templatize:
    title: false
    datasource: false
---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-mongodb-pod
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: MongoDB
    k8s.io/resource: mongodbs
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - builtIn: 1
        datasource: -- Grafana --
        enable: true
        hide: true
        iconColor: '#6ed0e0'
        limit: 100
        name: Annotations & Alerts
        showIn: 0
        tags: []
        target:
          limit: 100
          matchAny: false
          tags: []
          type: dashboard
        type: dashboard
    editable: true
    fiscalYearStartMonth: 0
    gnetId: null
    graphTooltip: 0
    iteration: 1639484683174
    links: []
    liveNow: false
    panels:
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 0
      id: 68
      panels: []
      title: Overview
      type: row
    - cacheTimeout: null
      datasource: ${datasource}
      gridPos:
        h: 3
        w: 6
        x: 0
        "y": 1
      id: 1003
      links: []
      options:
        content: <h3 style='color:#e68a00;font-weight:bold;text-align:center'>$pod</h3>
        mode: html
      pluginVersion: 8.2.3
      targets:
      - exemplar: false
        expr: $pod
        interval: ""
        legendFormat: ""
        refId: A
      timeFrom: null
      timeShift: null
      title: Pod
      type: text
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 360086400
          unit: s
        overrides: []
      gridPos:
        h: 3
        w: 6
        x: 6
        "y": 1
      id: 1001
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: value
        graphMode: none
        justifyMode: center
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: value
      pluginVersion: 8.2.3
      targets:
      - exemplar: false
        expr: mongodb_members_uptime{member_idx=~"$pod.*",pod=~"$pod"}
        interval: $interval
        legendFormat: ""
        refId: A
      timeFrom: null
      timeShift: null
      title: Uptime
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      description: ""
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: ops
        overrides: []
      gridPos:
        h: 3
        w: 6
        x: 12
        "y": 1
      id: 1005
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: value
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.2.3
      targets:
      - exemplar: false
        expr: sum(rate(mongodb_ss_opcounters{pod=~"$pod",type!="command"}[$interval])
          or irate(mongodb_ss_opcounters{pod=~"$pod",type!="command"}[5m]))
        interval: $interval
        legendFormat: ""
        refId: A
      timeFrom: null
      timeShift: null
      title: QPS
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: µs
        overrides: []
      gridPos:
        h: 3
        w: 6
        x: 18
        "y": 1
      id: 1007
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: value
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.2.3
      targets:
      - exemplar: false
        expr: |
          avg by (service) (rate(mongodb_ss_opLatencies_latency{service=~"${app}-stats"}[$interval]) / (rate(mongodb_ss_opLatencies_ops{service=~"${app}-stats"}[$interval]) > 0) or irate(mongodb_ss_opLatencies_latency{service=~"${app}-stats"}[5m]) / (irate(mongodb_ss_opLatencies_ops{service=~"${app}-stats"}[5m]) > 0))
        interval: $interval
        legendFormat: ""
        refId: A
      timeFrom: null
      timeShift: null
      title: Latency
      type: stat
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 4
      id: 66
      panels: []
      title: System
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 1
      description: Shows how many times a command is executed per second on average during
        the selected interval.
      editable: true
      error: false
      fill: 2
      fillGradient: 0
      grid:
        leftLogBase: 1
        leftMax: null
        leftMin: 0
        rightLogBase: 1
        rightMax: null
        rightMin: null
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 5
      hiddenSeries: false
      id: 15
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideZero: true
        max: true
        min: true
        rightSide: false
        show: true
        sort: avg
        sortDesc: true
        total: false
        values: true
      lines: true
      linewidth: 2
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.2.3
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(mongodb_ss_opcounters{pod=~"$pod", legacy_op_type!="command"}[$interval])
        format: time_series
        hide: false
        interval: $interval
        intervalFactor: 1
        legendFormat: '{{legacy_op_type}}'
        refId: J
        step: 300
      - expr: rate(mongodb_ss_opcountersRepl{pod=~"$pod", legacy_op_type!~"(command|query|getmore)"}[$interval])
        format: time_series
        hide: false
        interval: $interval
        intervalFactor: 1
        legendFormat: repl_{{legacy_op_type}}
        refId: A
        step: 300
      - expr: rate(mongodb_ss_metrics_ttl_deletedDocuments{pod=~"$pod"}[$interval])
        format: time_series
        hide: false
        interval: $interval
        intervalFactor: 1
        legendFormat: ttl_delete
        refId: B
        step: 300
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Command Operations
      tooltip:
        msResolution: false
        shared: true
        sort: 0
        value_type: individual
      type: graph
      x-axis: true
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      y-axis: true
      y_formats:
      - short
      - short
      yaxes:
      - format: ops
        label: ""
        logBase: 1
        max: null
        min: 0
        show: true
      - format: short
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      description: Average latency of operations (classified by read, write, or (other)
        command)
      fieldConfig:
        defaults:
          links: []
        overrides: []
      fill: 2
      fillGradient: 0
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 13
      hiddenSeries: false
      id: 69
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: false
        show: true
        sort: avg
        sortDesc: true
        total: false
        values: true
      lines: true
      linewidth: 2
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.2.3
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: avg by (service,op_type) (rate(mongodb_ss_opLatencies_latency{service=~"${app}-stats"}[$interval])
          / (rate(mongodb_ss_opLatencies_ops{service=~"${app}-stats"}[$interval]) > 0)
          or irate(mongodb_ss_opLatencies_latency{service=~"${app}-stats"}[5m]) / (irate(mongodb_ss_opLatencies_ops{service=~"${app}-stats"}[5m])
          > 0))
        interval: $interval
        legendFormat: '{{op_type}}'
        range: true
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Latency Detail
      tooltip:
        shared: true
        sort: 5
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - decimals: 2
        format: µs
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: false
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: null
      description: Keep in mind the hard limit on the maximum number of connections set
        by your distribution.
      editable: true
      error: false
      fill: 2
      fillGradient: 0
      grid:
        leftLogBase: 1
        leftMax: null
        leftMin: 0
        rightLogBase: 1
        rightMax: null
        rightMin: null
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 21
      height: 250px
      hiddenSeries: false
      id: 38
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: false
        show: true
        sort: avg
        sortDesc: true
        total: false
        values: true
      lines: true
      linewidth: 2
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.2.3
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: mongodb_ss_connections{pod=~"$pod", conn_type="current"}
        format: time_series
        hide: false
        interval: $interval
        intervalFactor: 1
        legendFormat: Connections
        refId: J
        step: 300
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Connections
      tooltip:
        msResolution: false
        shared: true
        sort: 0
        value_type: cumulative
      type: graph
      x-axis: true
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      y-axis: true
      y_formats:
      - short
      - short
      yaxes:
      - format: short
        label: ""
        logBase: 1
        max: null
        min: 0
        show: true
      - format: short
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: null
      description: Helps identify why connections are increasing. Shows active cursors
        compared to cursors being automatically killed after 10 minutes due to an application
        not closing the connection.
      editable: true
      error: false
      fill: 2
      fillGradient: 0
      grid:
        leftLogBase: 1
        leftMax: null
        leftMin: 0
        rightLogBase: 1
        rightMax: null
        rightMin: null
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 21
      height: 250px
      hiddenSeries: false
      id: 25
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideZero: true
        max: true
        min: true
        rightSide: false
        show: true
        sort: avg
        sortDesc: true
        total: false
        values: true
      lines: true
      linewidth: 2
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.2.3
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: mongodb_ss_metrics_cursor_open{pod=~"$pod"}
        format: time_series
        hide: false
        interval: $interval
        intervalFactor: 1
        legendFormat: '{{csr_type}}'
        range: true
        refId: J
        step: 300
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Cursors
      tooltip:
        msResolution: false
        shared: true
        sort: 0
        value_type: cumulative
      type: graph
      x-axis: true
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      y-axis: true
      y_formats:
      - short
      - short
      yaxes:
      - format: short
        label: ""
        logBase: 1
        max: null
        min: 0
        show: true
      - format: short
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: null
      description: When used in combination with 'Command Operations', this graph can
        help identify write amplification. For example, when one insert or update command
        actually inserts or updates hundreds, thousands, or even millions of documents.
      editable: true
      error: false
      fill: 2
      fillGradient: 0
      grid:
        leftLogBase: 1
        leftMax: null
        leftMin: 0
        rightLogBase: 1
        rightMax: null
        rightMin: null
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 28
      height: 250px
      hiddenSeries: false
      id: 36
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideZero: true
        max: true
        min: true
        show: true
        sort: avg
        sortDesc: true
        total: false
        values: true
      lines: true
      linewidth: 2
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.2.3
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(mongodb_ss_metrics_document{pod=~"$pod"}[$interval])
        format: time_series
        hide: false
        interval: $interval
        intervalFactor: 1
        legendFormat: '{{doc_op_type}}'
        range: true
        refId: J
        step: 300
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Document Operations
      tooltip:
        msResolution: false
        shared: true
        sort: 0
        value_type: cumulative
      type: graph
      x-axis: true
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      y-axis: true
      y_formats:
      - short
      - short
      yaxes:
      - format: ops
        label: ""
        logBase: 1
        max: null
        min: 0
        show: true
      - format: short
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: null
      description: Any number of queued operations for long periods of time is an indication
        of possible issues. Find the cause and fix it before requests get stuck in the
        queue.
      editable: true
      error: false
      fill: 2
      fillGradient: 0
      grid:
        leftLogBase: 1
        leftMax: null
        leftMin: 0
        rightLogBase: 1
        rightMax: null
        rightMin: null
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 28
      height: 250px
      hiddenSeries: false
      id: 40
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideZero: false
        max: true
        min: true
        show: true
        sort: avg
        sortDesc: true
        total: false
        values: true
      lines: true
      linewidth: 2
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.2.3
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: mongodb_ss_globalLock_currentQueue{pod=~"$pod"}
        format: time_series
        hide: false
        interval: $interval
        intervalFactor: 1
        legendFormat: '{{count_type}}'
        range: true
        refId: J
        step: 300
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Queued Operations
      tooltip:
        msResolution: false
        shared: true
        sort: 0
        value_type: cumulative
      type: graph
      x-axis: true
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      y-axis: true
      y_formats:
      - short
      - short
      yaxes:
      - format: ops
        label: ""
        logBase: 1
        max: null
        min: 0
        show: true
      - format: short
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      editable: true
      error: false
      fill: 2
      fillGradient: 0
      grid:
        leftLogBase: 1
        leftMax: null
        leftMin: 0
        rightLogBase: 1
        rightMax: null
        rightMin: null
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 35
      height: 250px
      hiddenSeries: false
      id: 63
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        sort: avg
        sortDesc: true
        total: false
        values: true
      lines: true
      linewidth: 2
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: true
      pluginVersion: 8.2.3
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: "sum(rate(mongodb_ss_metrics_document{pod=~\"$pod\", doc_op_type=\"returned\"}[$interval]))/\nsum(rate(mongodb_ss_metrics_queryExecutor_scannedObjects{pod=~\"$pod\"}[$interval])) "
        format: time_series
        hide: false
        interval: $interval
        intervalFactor: 1
        legendFormat: Document
        refId: J
        step: 300
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Query Efficiency
      tooltip:
        msResolution: false
        shared: true
        sort: 0
        value_type: cumulative
      type: graph
      x-axis: true
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      y-axis: true
      y_formats:
      - short
      - short
      yaxes:
      - format: percentunit
        label: ""
        logBase: 1
        max: null
        min: 0
        show: true
      - format: none
        logBase: 1
        max: null
        min: null
        show: false
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: null
      editable: true
      error: false
      fill: 2
      fillGradient: 0
      grid: {}
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 35
      hiddenSeries: false
      id: 64
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideZero: true
        max: true
        min: true
        rightSide: false
        show: true
        sort: avg
        sortDesc: true
        total: false
        values: true
      lines: true
      linewidth: 2
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.2.3
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(mongodb_ss_metrics_queryExecutor_scannedObjects{pod=~"$pod"}[$interval])
          or irate(mongodb_ss_metrics_queryExecutor_scannedObjects{pod=~"$pod"}[5m])
        format: time_series
        interval: $interval
        intervalFactor: 1
        legendFormat: Scanned
        metric: ""
        range: true
        refId: A
        step: 300
      - expr: rate(mongodb_ss_metrics_record_moves{pod=~"$pod"}[$interval]) or irate(mongodb_ss_metrics_record_moves{pod=~"$pod"}[5m])
        format: time_series
        interval: $interval
        intervalFactor: 1
        legendFormat: Moved
        range: true
        refId: B
        step: 300
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Scanned and Moved Objects
      tooltip:
        msResolution: false
        shared: true
        sort: 0
        value_type: cumulative
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: ops
        label: ""
        logBase: 1
        max: null
        min: 0
        show: true
      - format: short
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: null
      description: This is useful for write-heavy workloads to understand how long it
        takes to verify writes and how many concurrent writes are occurring.
      editable: true
      error: false
      fill: 2
      fillGradient: 0
      grid:
        leftLogBase: 1
        leftMax: null
        leftMin: 0
        rightLogBase: 1
        rightMax: null
        rightMin: null
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 42
      hiddenSeries: false
      id: 41
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        sort: avg
        sortDesc: true
        total: false
        values: true
      lines: true
      linewidth: 2
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.2.3
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(mongodb_ss_metrics_getLastError_wtime_totalMillis{pod=~"$pod"}[$interval])
        format: time_series
        hide: false
        interval: $interval
        intervalFactor: 1
        legendFormat: Write Wait Time
        refId: J
        step: 300
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: getLastError Write Time
      tooltip:
        msResolution: false
        shared: true
        sort: 0
        value_type: cumulative
      type: graph
      x-axis: true
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      y-axis: true
      y_formats:
      - short
      - short
      yaxes:
      - format: ms
        label: ""
        logBase: 1
        max: null
        min: 0
        show: true
      - format: short
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: null
      description: This is useful for write-heavy workloads to understand how long it
        takes to verify writes and how many concurrent writes are occurring.
      editable: true
      error: false
      fill: 2
      fillGradient: 0
      grid:
        leftLogBase: 1
        leftMax: null
        leftMin: 0
        rightLogBase: 1
        rightMax: null
        rightMin: null
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 42
      height: 250px
      hiddenSeries: false
      id: 62
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideZero: true
        max: true
        min: true
        show: true
        sort: avg
        sortDesc: true
        total: false
        values: true
      lines: true
      linewidth: 2
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.2.3
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: "rate(mongodb_ss_metrics_getLastError_wtime_num{pod=~\"$pod\"}[$interval])
          or \nirate(mongodb_ss_metrics_getLastError_wtime_num{pod=~\"$pod\"}[5m])"
        format: time_series
        hide: false
        interval: $interval
        intervalFactor: 1
        legendFormat: Total
        refId: J
        step: 300
      - expr: "rate(mongodb_ss_metrics_getLastError_wtimeouts{pod=~\"$pod\"}[$interval])
          or \nirate(mongodb_ss_metrics_getLastError_wtimeouts{pod=~\"$pod\"}[5m])"
        format: time_series
        hide: false
        interval: $interval
        intervalFactor: 1
        legendFormat: Timeouts
        refId: A
        step: 300
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: getLastError Write Operations
      tooltip:
        msResolution: false
        shared: true
        sort: 0
        value_type: cumulative
      type: graph
      x-axis: true
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      y-axis: true
      y_formats:
      - short
      - short
      yaxes:
      - format: ops
        label: ""
        logBase: 1
        max: null
        min: 0
        show: true
      - format: short
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: null
      description: Asserts are not important by themselves, but you can correlate spikes
        with other graphs.
      editable: true
      error: false
      fill: 2
      fillGradient: 0
      grid:
        leftLogBase: 1
        leftMax: null
        leftMin: 0
        rightLogBase: 1
        rightMax: null
        rightMin: null
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 49
      height: 250px
      hiddenSeries: false
      id: 37
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideZero: true
        max: true
        min: true
        rightSide: false
        show: true
        sort: avg
        sortDesc: true
        total: false
        values: true
      lines: true
      linewidth: 2
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.2.3
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: "rate(mongodb_ss_asserts{pod=~\"$pod\"}[$interval]) or \nirate(mongodb_ss_asserts{pod=~\"$pod\"}[5m])"
        format: time_series
        hide: false
        interval: $interval
        intervalFactor: 1
        legendFormat: '{{assert_type}}'
        range: true
        refId: J
        step: 300
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Assert Events
      tooltip:
        msResolution: false
        shared: true
        sort: 0
        value_type: cumulative
      type: graph
      x-axis: true
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      y-axis: true
      y_formats:
      - short
      - short
      yaxes:
      - format: short
        label: ""
        logBase: 1
        max: null
        min: 0
        show: true
      - format: short
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: null
      description: Page faults indicate that requests are processed from disk either because
        an index is missing or there is not enough memory for the data set. Consider increasing
        memory or sharding out.
      editable: true
      error: false
      fill: 2
      fillGradient: 0
      grid:
        leftLogBase: 1
        leftMax: null
        leftMin: 0
        rightLogBase: 1
        rightMax: null
        rightMin: null
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 49
      height: 250px
      hiddenSeries: false
      id: 39
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        sort: avg
        sortDesc: true
        total: false
        values: true
      lines: true
      linewidth: 2
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.2.3
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: "rate(mongodb_ss_extra_info_page_faults{pod=~\"$pod\"}[$interval]) or \nirate(mongodb_ss_extra_info_page_faults{pod=~\"$pod\"}[5m])"
        format: time_series
        hide: false
        interval: $interval
        intervalFactor: 1
        legendFormat: Faults
        refId: J
        step: 300
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Page Faults
      tooltip:
        msResolution: false
        shared: true
        sort: 0
        value_type: cumulative
      type: graph
      x-axis: true
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      y-axis: true
      y_formats:
      - short
      - short
      yaxes:
      - format: short
        label: ""
        logBase: 1
        max: null
        min: 0
        show: true
      - format: short
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    refresh: 1m
    schemaVersion: 31
    style: dark
    tags:
    - db
    - pod
    - mongodb
    - kubedb
    templating:
      list:
      - allFormat: glob
        auto: true
        auto_count: 200
        auto_min: 1s
        current:
          selected: false
          text: 1m
          value: 1m
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Interval
        multi: false
        multiFormat: glob
        name: interval
        options:
        - selected: false
          text: auto
          value: $__auto_interval_interval
        - selected: false
          text: 1s
          value: 1s
        - selected: false
          text: 5s
          value: 5s
        - selected: true
          text: 1m
          value: 1m
        - selected: false
          text: 5m
          value: 5m
        - selected: false
          text: 1h
          value: 1h
        - selected: false
          text: 6h
          value: 6h
        - selected: false
          text: 1d
          value: 1d
        query: 1s,5s,1m,5m,1h,6h,1d
        queryValue: ""
        refresh: 2
        skipUrlSync: false
        type: interval
      - current:
          selected: false
          text: default
          value: default
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Datasource
        multi: false
        name: datasource
        options: []
        query: prometheus
        queryValue: ""
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: null
        current:
          selected: true
          text: demo
          value: demo
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Namespace
        multi: false
        name: namespace
        options: []
        query:
          query: label_values(kube_namespace_created,namespace)
          refId: Prometheus-namespace-Variable-Query
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text: mg-rs
          value: mg-rs
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: MongoDB
        multi: false
        name: app
        options: []
        query:
          query: label_values(kubedb_com_mongodb_status_phase{namespace=~"$namespace"},app)
          refId: Prometheus-app-Variable-Query
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tagsQuery: ""
        type: query
        useTags: false
      - allFormat: glob
        allValue: null
        current:
          selected: true
          text: mg-rs-0
          value: mg-rs-0
        datasource: ${datasource}
        definition: ""
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Pod
        multi: false
        multiFormat: glob
        name: pod
        options: []
        query:
          query: label_values(mongodb_up{namespace=~"$namespace",service="${app}-stats"},
            pod)
          refId: Prometheus-pod-Variable-Query
        refresh: 2
        regex: ""
        skipUrlSync: false
        sort: 1
        tagValuesQuery: null
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-6h
      to: now
    timepicker:
      hidden: false
      now: true
      refresh_intervals:
      - 5s
      - 10s
      - 30s
      - 1m
      - 5m
      - 15m
      - 30m
      - 1h
      - 2h
      - 1d
      time_options:
      - 5m
      - 15m
      - 1h
      - 6h
      - 12h
      - 24h
      - 2d
      - 7d
      - 30d
    timezone: browser
    title: KubeDB / MongoDB / Pod
    version: 12
  overwrite: true
  templatize:
    title: false
    datasource: false
---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-mongodb-summary
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: MongoDB
    k8s.io/resource: mongodbs
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - builtIn: 1
        datasource: -- Grafana --
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        target:
          limit: 100
          matchAny: false
          tags: []
          type: dashboard
        type: dashboard
    description: The dashboard is designed for KubeDB managed MongoDB
    editable: true
    gnetId: 9628
    graphTooltip: 0
    iteration: 1702443901060
    links: []
    panels:
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 0
      id: 136
      panels: []
      title: General Info
      type: row
    - datasource: ${datasource}
      description: Represent database status
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          mappings:
          - options:
              Critical:
                color: dark-yellow
                index: 1
              DataRestoring:
                color: dark-red
                index: 4
              Halted:
                color: dark-red
                index: 5
              NotReady:
                color: dark-red
                index: 2
              Provisioning:
                color: text
                index: 3
              Ready:
                color: semi-dark-green
                index: 0
            type: value
          thresholds:
            mode: absolute
            steps:
            - color: text
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 8
        x: 0
        "y": 1
      id: 78
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: /^phase$/
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: kubedb_com_mongodb_status_phase{namespace="$namespace", app="$app"} == 1
        format: table
        instant: true
        interval: ""
        legendFormat: '{{phase}}'
        refId: A
      title: Database Status
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      description: MongoDBVersion CR Name
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings:
          - options:
              match: "null"
              result:
                index: 0
                text: N/A
            type: special
          noValue: N/A
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: s
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 8
        "y": 1
      id: 145
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: value
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: time() - kubedb_com_mongodb_created{namespace="$namespace", app="$app"}
        format: time_series
        instant: true
        interval: ""
        intervalFactor: 1
        legendFormat: ""
        refId: A
      title: Database Up-time
      type: stat
    - datasource: ${datasource}
      description: CPU Limit in core by MongoDB instance
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 12
        "y": 1
      id: 114
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: kubedb_com_mongodb_resource_limit_cpu{namespace="$namespace", app="$app"}
        interval: ""
        legendFormat: ""
        refId: A
      title: CPU Limit (Core)
      type: stat
    - datasource: ${datasource}
      description: KubeDB MongoDB Total Memory Limit
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 16
        "y": 1
      id: 116
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: kubedb_com_mongodb_resource_limit_memory{namespace="$namespace", app="$app"}
        interval: ""
        legendFormat: ""
        refId: A
      title: Memory Limit
      type: stat
    - datasource: ${datasource}
      description: Total storage request by MongoDB nodes
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          min: 0
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 20
        "y": 1
      id: 96
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: kubedb_com_mongodb_resource_request_storage{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Storage Request
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      description: MongoDBVersion CR Name
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings:
          - options:
              match: "null"
              result:
                index: 0
                text: N/A
            type: special
          noValue: N/A
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 8
        x: 0
        "y": 4
      id: 36
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - mean
          fields: ""
          values: false
        text: {}
        textMode: name
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: kubedb_com_mongodb_info{namespace="$namespace", app="$app"}
        format: time_series
        instant: true
        interval: ""
        intervalFactor: 1
        legendFormat: '{{version}}'
        refId: A
      title: Version
      type: stat
    - datasource: ${datasource}
      description: Total node count of MongoDB cluster
      fieldConfig:
        defaults:
          color:
            fixedColor: green
            mode: fixed
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 8
        "y": 4
      id: 76
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: kubedb_com_mongodb_replicas{namespace="$namespace",app="$app"} or (kubedb_com_mongodb_shard_shards{namespace="$namespace",app="$app"}
          * kubedb_com_mongodb_shard_replicas{namespace="$namespace",app="$app"} +kubedb_com_mongodb_mongos_replicas{namespace="$namespace",app="$app"}+
          kubedb_com_mongodb_configsvr_replicas{namespace="$namespace",app="$app"})
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Total Nodes
      type: stat
    - datasource: ${datasource}
      description: Initial Requested CPU amount by Postgres Instance
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          min: 0
          thresholds:
            mode: percentage
            steps:
            - color: green
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 12
        "y": 4
      id: 92
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: kubedb_com_mongodb_resource_request_cpu{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: CPU Request (Core)
      type: stat
    - datasource: ${datasource}
      description: Initial Requested Memory amount by MongoDB Instance
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          min: 0
          thresholds:
            mode: percentage
            steps:
            - color: green
              value: null
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 16
        "y": 4
      id: 94
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: kubedb_com_mongodb_resource_request_memory{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Memory Request
      type: stat
    - datasource: ${datasource}
      description: KubeDB Database Resource terminationPolicy
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          mappings:
          - options:
              Delete:
                color: yellow
                index: 1
              DoNotTerminate:
                color: green
                index: 2
              Halt:
                color: blue
                index: 3
              WipeOut:
                color: dark-red
                index: 0
            type: value
          thresholds:
            mode: absolute
            steps:
            - color: text
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 20
        "y": 4
      id: 84
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: /^terminationPolicy$/
          values: false
        text: {}
        textMode: value
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: kubedb_com_mongodb_info{namespace="$namespace", app="$app"}
        format: table
        instant: true
        interval: ""
        legendFormat: '{{terminationPolicy}}'
        refId: A
      title: Termination Policy
      type: stat
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 12
      id: 138
      panels: []
      title: CPU Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: CPU Usage by MongoDB pods
      fieldConfig:
        defaults:
          unit: short
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 13
      hiddenSeries: false
      id: 98
      legend:
        alignAsTable: true
        avg: true
        current: true
        hideEmpty: false
        hideZero: false
        max: true
        min: true
        rightSide: true
        show: true
        sort: current
        sortDesc: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: sum(sum by (namespace, pod, container) (irate(container_cpu_usage_seconds_total{image!="",job="kubelet",metrics_path="/metrics/cadvisor",namespace="$namespace",
          pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"}[5m])) * on (namespace, pod) group_left
          (node) topk by (namespace, pod) (1, max by (namespace, pod, node) (kube_pod_info{node!="",namespace="$namespace",
          pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"}))) by (pod)
        format: time_series
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: CPU Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:61
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:62
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      description: CPU Quote information in details
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: auto
            displayMode: auto
            filterable: false
          displayName: ""
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: Time
          properties:
          - id: displayName
            value: Time
        - matcher:
            id: byName
            options: 'Value #A'
          properties:
          - id: displayName
            value: CPU Usage
          - id: unit
            value: short
        - matcher:
            id: byName
            options: 'Value #B'
          properties:
          - id: displayName
            value: CPU Requests
          - id: unit
            value: short
        - matcher:
            id: byName
            options: 'Value #C'
          properties:
          - id: displayName
            value: CPU Requests %
          - id: unit
            value: percentunit
        - matcher:
            id: byName
            options: 'Value #D'
          properties:
          - id: displayName
            value: CPU Limits
          - id: unit
            value: short
        - matcher:
            id: byName
            options: 'Value #E'
          properties:
          - id: displayName
            value: CPU Limits %
          - id: unit
            value: percentunit
        - matcher:
            id: byName
            options: pod
          properties:
          - id: displayName
            value: Pod
          - id: unit
            value: short
          - id: links
            value:
            - targetBlank: false
              title: Drill down
              url: ./d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-pod=$__cell
      gridPos:
        h: 6
        w: 24
        x: 0
        "y": 20
      id: 122
      links: []
      options:
        showHeader: true
        sortBy:
        - desc: true
          displayName: Pod
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: sum(sum by (namespace, pod, container) (irate(container_cpu_usage_seconds_total{image!="",job="kubelet",metrics_path="/metrics/cadvisor",namespace="$namespace",
          pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"}[5m])) * on (namespace, pod) group_left
          (node) topk by (namespace, pod) (1, max by (namespace, pod, node) (kube_pod_info{node!="",namespace="$namespace",
          pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"}))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
        step: 10
      - exemplar: false
        expr: sum(kube_pod_container_resource_requests{job="kube-state-metrics",resource="cpu",namespace="$namespace",
          pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"} * on (namespace,pod) group_left () max
          by (namespace,pod) ((kube_pod_status_phase{phase=~"Pending|Running"} == 1)))
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: B
        step: 10
      - exemplar: false
        expr: sum(sum by (namespace, pod, container) (irate(container_cpu_usage_seconds_total{image!="",job="kubelet",metrics_path="/metrics/cadvisor",namespace="$namespace",
          pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"}[5m])) * on (namespace, pod) group_left
          (node) topk by (namespace, pod) (1, max by (namespace, pod, node) (kube_pod_info{node!="",namespace="$namespace",
          pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"}))) by (pod) / sum(kube_pod_container_resource_requests{job="kube-state-metrics",resource="cpu",namespace="$namespace",
          pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"} * on (namespace,pod) group_left () max
          by (namespace,pod) ((kube_pod_status_phase{phase=~"Pending|Running"} == 1)))
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: C
        step: 10
      - exemplar: false
        expr: sum(kube_pod_container_resource_limits{job="kube-state-metrics",resource="cpu",namespace="$namespace",
          pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"} * on (namespace,pod) group_left() max
          by (namespace, pod) ((kube_pod_status_phase{phase=~"Pending|Running"} == 1)))
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: D
        step: 10
      - exemplar: false
        expr: sum(sum by (namespace, pod, container) (irate(container_cpu_usage_seconds_total{image!="",job="kubelet",metrics_path="/metrics/cadvisor",namespace="$namespace",
          pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"}[5m])) * on (namespace, pod) group_left
          (node) topk by (namespace, pod) (1, max by (namespace, pod, node) (kube_pod_info{node!="",namespace="$namespace",
          pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"}))) by (pod) / sum(kube_pod_container_resource_limits{job="kube-state-metrics",resource="cpu",namespace="$namespace",
          pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"} * on (namespace,pod) group_left() max
          by (namespace, pod) ((kube_pod_status_phase{phase=~"Pending|Running"} == 1)))
          by (pod)
        format: table
        hide: false
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: E
        step: 10
      timeFrom: null
      timeShift: null
      title: CPU Quota
      transformations:
      - id: merge
        options:
          reducers: []
      type: table
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 33
      id: 140
      panels: []
      title: Memory Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Memory Usage by MongoDB pods
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 6
        w: 24
        x: 0
        "y": 34
      hiddenSeries: false
      id: 100
      legend:
        alignAsTable: true
        avg: true
        current: true
        max: true
        min: true
        rightSide: true
        show: true
        sort: current
        sortDesc: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: sum(container_memory_working_set_bytes{image!="",job="kubelet",metrics_path="/metrics/cadvisor",namespace="$namespace",
          pod=~"$app-\\d+$|$app-shard\\d+-\\d+$",container!=""} * on (namespace, pod)
          group_left (node) topk by (namespace, pod) (1, max by (namespace, pod, node)
          (kube_pod_info{node!=""}))) by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Memory Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            displayMode: auto
            filterable: false
          decimals: 2
          displayName: ""
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: Time
          properties:
          - id: displayName
            value: Time
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #A'
          properties:
          - id: displayName
            value: Memory Usage
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #B'
          properties:
          - id: displayName
            value: Memory Requests
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #C'
          properties:
          - id: displayName
            value: Memory Requests %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #D'
          properties:
          - id: displayName
            value: Memory Limits
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #E'
          properties:
          - id: displayName
            value: Memory Limits %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #F'
          properties:
          - id: displayName
            value: Memory Usage (RSS)
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #G'
          properties:
          - id: displayName
            value: Memory Usage (Cache)
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #H'
          properties:
          - id: displayName
            value: Memory Usage (Swap)
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: pod
          properties:
          - id: displayName
            value: Pod
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: links
            value:
            - targetBlank: false
              title: Drill down
              url: ./d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-pod=$__cell
          - id: custom.align
            value: null
      gridPos:
        h: 6
        w: 24
        x: 0
        "y": 40
      id: 124
      links: []
      options:
        showHeader: true
        sortBy:
        - desc: true
          displayName: Memory Usage
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: sum(container_memory_working_set_bytes{namespace="$namespace",pod=~"$app-\\d+$|$app-shard\\d+-\\d+$",container!="",
          image!=""}) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
        step: 10
      - exemplar: false
        expr: sum (kube_pod_container_resource_requests{job="kube-state-metrics",resource="memory",namespace="$namespace",pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"}
          * on (namespace, pod, cluster) group_left () max by (namespace, pod, cluster)
          ((kube_pod_status_phase{phase=~"Pending|Running"} == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: B
        step: 10
      - exemplar: false
        expr: sum(container_memory_working_set_bytes{namespace="$namespace",pod=~"$app-\\d+$|$app-shard\\d+-\\d+$",container!="",
          image!=""}) by (pod) / sum(kube_pod_container_resource_requests{job="kube-state-metrics",resource="memory",namespace="$namespace",pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"}
          * on (namespace, pod, cluster) group_left () max by (namespace, pod, cluster)
          ((kube_pod_status_phase{phase=~"Pending|Running"} == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: C
        step: 10
      - exemplar: false
        expr: sum(kube_pod_container_resource_limits{job="kube-state-metrics",resource="memory",namespace="$namespace",pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"}
          * on (namespace, pod, cluster) group_left () max by (namespace, pod, cluster)
          ((kube_pod_status_phase{phase=~"Pending|Running"} == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: D
        step: 10
      - exemplar: false
        expr: sum(container_memory_working_set_bytes{namespace="$namespace",pod=~"$app-\\d+$|$app-shard\\d+-\\d+$",container!="",
          image!=""}) by (pod) / sum(kube_pod_container_resource_limits{job="kube-state-metrics",resource="memory",namespace="$namespace",
          pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"} * on (namespace, pod, cluster) group_left
          () max by (namespace, pod, cluster) ((kube_pod_status_phase{phase=~"Pending|Running"}
          == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: E
        step: 10
      - exemplar: false
        expr: sum(container_memory_rss{namespace="$namespace",pod=~"$app-\\d+$|$app-shard\\d+-\\d+$",container!=""})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: F
        step: 10
      - exemplar: false
        expr: sum(container_memory_cache{namespace="$namespace",pod=~"$app-\\d+$|$app-shard\\d+-\\d+$",container!=""})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: G
        step: 10
      - exemplar: false
        expr: sum(container_memory_swap{namespace="$namespace",pod=~"$app-\\d+$|$app-shard\\d+-\\d+$",container!=""})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: H
        step: 10
      timeFrom: null
      timeShift: null
      title: Memory Quota
      transformations:
      - id: merge
        options:
          reducers: []
      type: table
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 58
      id: 142
      panels: []
      title: Storage Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Disk usage by MongoDB pods
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 9
        w: 12
        x: 0
        "y": 59
      hiddenSeries: false
      id: 112
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
        legend:
          calcs: []
          displayMode: list
          placement: bottom
        tooltip:
          mode: single
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: avg(container_blkio_device_usage_total{namespace="$namespace", pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"})
          by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Disk Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: System Disk Usage Information
      fieldConfig:
        defaults:
          unit: none
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 9
        w: 12
        x: 12
        "y": 59
      hiddenSeries: false
      id: 108
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
        legend:
          calcs: []
          displayMode: table
          placement: right
        tooltip:
          mode: single
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: sum(rate(container_fs_writes_total{namespace="$namespace", pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"}[5m]))by(pod)
        instant: false
        interval: ""
        intervalFactor: 1
        legendFormat: '{{pod}}-disk-write'
        refId: A
      - exemplar: false
        expr: sum(rate(container_fs_reads_total{namespace="$namespace", pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"}[5m]))by(pod)
        hide: false
        instant: false
        interval: ""
        legendFormat: '{{pod}}-disk-read'
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Disk R/W Info
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: none
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: short
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 68
      hiddenSeries: false
      id: 126
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
        legend:
          calcs: []
          displayMode: list
          placement: bottom
        tooltip:
          mode: single
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: ceil(sum by(pod) (rate(container_fs_reads_total{container!="", namespace=~"$namespace",
          pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"}[5m]) + rate(container_fs_writes_total{container!=""
          ,namespace=~"$namespace", pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"}[5m])))
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: IOPS (Reads+Writes)
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: Bps
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 68
      hiddenSeries: false
      id: 128
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
        legend:
          calcs: []
          displayMode: list
          placement: bottom
        tooltip:
          mode: single
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: sum by(pod) (rate(container_fs_reads_bytes_total{container!="", namespace=~"$namespace",
          pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"}[5m]) + rate(container_fs_writes_bytes_total{container!=""
          ,namespace=~"$namespace", pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"}[5m]))
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: ThroughPut (Read+Write)
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: Bps
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            displayMode: auto
            filterable: false
          decimals: 2
          displayName: ""
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: Time
          properties:
          - id: displayName
            value: Time
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #A'
          properties:
          - id: displayName
            value: IOPS(Reads)
          - id: unit
            value: short
          - id: decimals
            value: -1
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #B'
          properties:
          - id: displayName
            value: IOPS(Writes)
          - id: unit
            value: short
          - id: decimals
            value: -1
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #C'
          properties:
          - id: displayName
            value: IOPS(Reads + Writes)
          - id: unit
            value: short
          - id: decimals
            value: -1
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #D'
          properties:
          - id: displayName
            value: Throughput(Read)
          - id: unit
            value: Bps
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #E'
          properties:
          - id: displayName
            value: Throughput(Write)
          - id: unit
            value: Bps
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #F'
          properties:
          - id: displayName
            value: Throughput(Read + Write)
          - id: unit
            value: Bps
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: pod
          properties:
          - id: displayName
            value: Pod
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: links
            value:
            - targetBlank: false
              title: Drill down to pods
              url: ./d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-pod=$__cell
          - id: custom.align
            value: null
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 75
      id: 130
      links: []
      options:
        showHeader: true
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: sum by(pod) (rate(container_fs_reads_total{container!="", pod=~"$app-\\d+$|$app-shard\\d+-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
        step: 10
      - exemplar: false
        expr: sum by(pod) (rate(container_fs_writes_total{container!="", pod=~"$app-\\d+$|$app-shard\\d+-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: B
        step: 10
      - exemplar: false
        expr: sum by(pod) (rate(container_fs_reads_total{container!="", pod=~"$app-\\d+$|$app-shard\\d+-\\d+$",namespace=~"$namespace"}[5m])
          + rate(container_fs_writes_total{container!="",pod=~"$app-\\d+$|$app-shard\\d+-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: C
        step: 10
      - exemplar: false
        expr: sum by(pod) (rate(container_fs_reads_bytes_total{container!="", pod=~"$app-\\d+$|$app-shard\\d+-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: D
        step: 10
      - exemplar: false
        expr: sum by(pod) (rate(container_fs_writes_bytes_total{container!="", pod=~"$app-\\d+$|$app-shard\\d+-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: E
        step: 10
      - exemplar: false
        expr: sum by(pod) (rate(container_fs_reads_bytes_total{container!="", pod=~"$app-\\d+$|$app-shard\\d+-\\d+$",namespace=~"$namespace"}[5m])
          + rate(container_fs_writes_bytes_total{container!="",pod=~"$app-\\d+$|$app-shard\\d+-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: F
        step: 10
      timeFrom: null
      timeShift: null
      title: Current Storage IO
      transformations:
      - id: merge
        options:
          reducers: []
      type: table
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 82
      id: 147
      panels: []
      title: Persistent Storage Insight
      type: row
    - datasource: ${datasource}
      description: |
        This panel describes allocated persistent storage in a table format
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: center
            displayMode: color-text
            filterable: false
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: light-blue
              value: null
          unit: decbytes
        overrides: []
      gridPos:
        h: 6
        w: 12
        x: 0
        "y": 83
      id: 149
      options:
        showHeader: true
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: kubelet_volume_stats_capacity_bytes + on(persistentvolumeclaim) group_left(pod)
          kube_pod_spec_volumes_persistentvolumeclaims_info{pod=~"$app-\\d+$|$app-shard\\d+-\\d+$",namespace=~"$namespace"}
        format: table
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Allocated Storage
      transformations:
      - id: organize
        options:
          excludeByName:
            Time: true
            endpoint: true
            instance: true
            job: true
            metrics_path: true
            namespace: true
            node: true
            persistentvolumeclaim: true
            service: true
          indexByName: {}
          renameByName:
            Value: Volume
            pod: Pod
      type: table
    - datasource: ${datasource}
      description: 'This panel shows the persistent volume usage in percentage. '
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          max: 100
          min: 0
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: percent
        overrides: []
      gridPos:
        h: 6
        w: 12
        x: 12
        "y": 83
      id: 151
      options:
        displayMode: gradient
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        showUnfilled: true
        text: {}
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: (kubelet_volume_stats_used_bytes / on(persistentvolumeclaim) group_left(pod)
          (kubelet_volume_stats_capacity_bytes + on(persistentvolumeclaim) group_left(pod)
          kube_pod_spec_volumes_persistentvolumeclaims_info{pod=~"$app-\\d+$|$app-shard\\d+-\\d+$",namespace=~"$namespace"})
          )* 100
        instant: true
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      title: Persistent Volume Usage
      transformations: []
      type: bargauge
    - datasource: ${datasource}
      description: 'This panel describes the persistent volume usage in a time series. '
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            axisSoftMax: 5000
            axisSoftMin: 0
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: opacity
            hideFrom:
              graph: false
              legend: false
              tooltip: false
              viz: false
            lineInterpolation: linear
            lineStyle:
              fill: solid
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: true
            stacking:
              group: A
              mode: none
            thresholdsStyle:
              mode: "off"
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: decbytes
        overrides: []
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 89
      id: 153
      options:
        graph: {}
        legend:
          calcs:
          - max
          - lastNotNull
          displayMode: table
          placement: right
        tooltip:
          mode: single
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: '(kubelet_volume_stats_used_bytes + on(persistentvolumeclaim) group_left(pod)
          kube_pod_spec_volumes_persistentvolumeclaims_info{pod=~"$app-\\d+$|$app-shard\\d+-\\d+$",namespace=~"$namespace"}) '
        interval: ""
        intervalFactor: 1
        legendFormat: '{{pod}}'
        refId: A
      title: Persistent Volume Usage History
      type: timeseries
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 106
      id: 144
      panels: []
      title: Network Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: Bps
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 107
      hiddenSeries: false
      id: 132
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
        legend:
          calcs: []
          displayMode: list
          placement: bottom
        tooltip:
          mode: single
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: sum(irate(container_network_receive_bytes_total{namespace=~"$namespace",
          pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"}[$__rate_interval])) by (pod)
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Receive Bandwidth
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: Bps
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: Bps
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 107
      hiddenSeries: false
      id: 134
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
        legend:
          calcs: []
          displayMode: list
          placement: bottom
        tooltip:
          mode: single
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: sum(irate(container_network_transmit_bytes_total{namespace=~"$namespace",
          pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"}[$__rate_interval])) by (pod)
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Transmit Bandwidth
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: Bps
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 122
      id: 171
      panels: []
      title: Server Status Info
      type: row
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 147
      id: 191
      panels: []
      title: KubeStash Backup & Restore Info
      type: row
    - aliasColors: {}
      bars: true
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Total number of successful backup
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 4
        w: 5
        x: 0
        "y": 148
      hiddenSeries: false
      id: 195
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: false
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: false
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: count(core_kubestash_com_backupsession_phase{phase="Succeeded"} * on(backup_invoker_kind,
          backup_invoker_name) group_left(target_kind, target_name, target_namespace)
          core_kubestash_com_backupconfiguration_info{target_kind="MongoDB", target_name="$app",
          target_namespace="$namespace"} == 1)
        format: time_series
        instant: true
        interval: ""
        legendFormat: value
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Successful Backups
      tooltip:
        shared: false
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: series
        name: null
        show: true
        values:
        - current
      yaxes:
      - $$hashKey: object:2118
        decimals: 0
        format: short
        label: ""
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:2119
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: false
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: true
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Total number of successful restore
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 4
        w: 5
        x: 15
        "y": 148
      hiddenSeries: false
      id: 199
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: false
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: count(core_kubestash_com_restoresession_phase{target_kind="MongoDB", target_name="$app",
          target_namespace="$namespace", phase="Succeeded"} == 1)
        format: time_series
        instant: true
        interval: ""
        legendFormat: value
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Successful Restore
      tooltip:
        shared: false
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: series
        name: null
        show: true
        values:
        - current
      yaxes:
      - $$hashKey: object:207
        decimals: 0
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:208
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: false
      yaxis:
        align: false
        alignLevel: null
    refresh: ""
    schemaVersion: 30
    style: dark
    tags:
    - db
    - stats
    - mongodb
    - kubedb
    templating:
      list:
      - current:
          selected: false
          text: Prometheus
          value: Prometheus
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Datasource
        multi: false
        name: datasource
        options: []
        query: prometheus
        queryValue: ""
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: '".+"'
        current:
          selected: false
          text: demo
          value: demo
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Namespace
        multi: false
        name: namespace
        options: []
        query:
          query: label_values(kube_namespace_created,namespace)
          refId: Prometheus-namespace-Variable-Query
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text: mg4
          value: mg4
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: MongoDB
        multi: false
        name: app
        options: []
        query:
          query: label_values(kubedb_com_mongodb_status_phase{namespace=~"$namespace"},app)
          refId: Prometheus-app-Variable-Query
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-6h
      to: now
    timepicker:
      refresh_intervals:
      - 5s
      - 10s
      - 30s
      - 1m
      - 5m
      - 15m
      - 30m
      - 1h
      - 2h
      - 1d
      time_options:
      - 5m
      - 15m
      - 1h
      - 6h
      - 12h
      - 24h
      - 2d
      - 7d
      - 30d
    timezone: ""
    title: KubeDB / MongoDB / Summary
    version: 50
  overwrite: true
  templatize:
    title: false
    datasource: false
---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-mysql-database
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: MySQL
    k8s.io/resource: mysqls
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - builtIn: 1
        datasource: -- Grafana --
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        target:
          limit: 100
          matchAny: false
          tags: []
          type: dashboard
        type: dashboard
    description: ""
    editable: true
    gnetId: 13106
    graphTooltip: 0
    iteration: 1637751338849
    links: []
    panels:
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          custom:
            align: null
            displayMode: auto
            filterable: false
          mappings:
          - options:
              "0":
                text: DOWN
              "1":
                text: UP
            type: value
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 0
        overrides:
        - matcher:
            id: byType
            options: number
          properties:
          - id: custom.displayMode
            value: color-background
          - id: thresholds
            value:
              mode: absolute
              steps:
              - color: red
                value: null
              - color: green
                value: 1
          - id: custom.width
            value: 200
          - id: mappings
            value:
            - from: ""
              id: 1
              text: UP
              to: ""
              type: 1
              value: "1"
            - from: ""
              id: 2
              text: DOWN
              to: ""
              type: 1
              value: "0"
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 0
      id: 2
      options:
        showHeader: true
        sortBy: []
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: mysql_up{namespace=~"$namespace",service=~"$app+-stats"}
        format: table
        instant: true
        interval: ""
        intervalFactor: 1
        legendFormat: '{{pod}}'
        refId: A
      timeFrom: null
      timeShift: null
      title: Service Status
      transformations:
      - id: filterFieldsByName
        options:
          include:
            names:
            - instance
            - Value
            - pod
      type: table
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          custom:
            align: null
            displayMode: auto
            filterable: false
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides:
        - matcher:
            id: byType
            options: number
          properties:
          - id: unit
            value: s
          - id: custom.width
            value: 200
          - id: custom.displayMode
            value: color-background
          - id: thresholds
            value:
              mode: absolute
              steps:
              - color: red
                value: null
              - color: green
                value: 80
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 0
      id: 4
      options:
        showHeader: true
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: mysql_global_status_uptime{namespace=~"$namespace",service=~"$app+-stats"}
        format: table
        instant: true
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      timeFrom: null
      timeShift: null
      title: Service Uptime
      transformations:
      - id: filterFieldsByName
        options:
          include:
            names:
            - Value
            - pod
      type: table
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 7
      hiddenSeries: false
      id: 16
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: false
        show: true
        sideWidth: 200
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_queries{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Current QPS
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:57
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:58
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 7
      hiddenSeries: false
      id: 10
      legend:
        alignAsTable: true
        avg: false
        current: false
        max: false
        min: false
        rightSide: true
        show: true
        sideWidth: 200
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: mysql_global_status_max_used_connections{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: Current - {{ pod }}
        refId: A
      - exemplar: true
        expr: mysql_global_variables_max_connections{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: Max - {{ pod }}
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Connections
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:273
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:274
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 14
      hiddenSeries: false
      id: 12
      legend:
        avg: false
        current: false
        max: false
        min: false
        rightSide: true
        show: true
        sideWidth: 200
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides:
      - alias: write
        transform: negative-Y
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_innodb_data_reads{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: reads - {{ pod }}
        refId: A
      - exemplar: true
        expr: rate(mysql_global_status_innodb_data_writes{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: write - {{ pod }}
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL  disk reads vs writes
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:959
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:960
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 14
      hiddenSeries: false
      id: 14
      legend:
        avg: false
        current: false
        max: false
        min: false
        rightSide: true
        show: true
        sideWidth: 200
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides:
      - alias: /sent/
        transform: negative-Y
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_bytes_received{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: received - {{ pod }}
        refId: A
      - exemplar: true
        expr: rate(mysql_global_status_bytes_sent{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: sent - {{ pod }}
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL network received vs sent
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1585
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:1586
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 21
      hiddenSeries: false
      id: 18
      legend:
        alignAsTable: false
        avg: false
        current: false
        hideEmpty: false
        hideZero: false
        max: false
        min: false
        rightSide: true
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: topk(3, rate(mysql_global_status_commands_total{namespace=~"$namespace",service=~"$app+-stats"}[5m]))
        instant: false
        interval: ""
        legendFormat: '{{ pod }} = ''{{ command }}'''
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Top Command Counters
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:283
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:284
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 29
      hiddenSeries: false
      id: 20
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_opened_files{namespace=~"$namespace",service=~"$app+-stats"}[1m])
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL File Openings
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2655
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:2656
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 29
      hiddenSeries: false
      id: 22
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: mysql_global_status_open_files{namespace=~"$namespace",service=~"$app+-stats"}
        interval: ""
        legendFormat: Open Files - {{ pod }}
        refId: A
      - exemplar: true
        expr: mysql_global_variables_open_files_limit{namespace=~"$namespace",service=~"$app+-stats"}
        interval: ""
        legendFormat: Open Files Limit - {{ pod }}
        refId: B
      - exemplar: true
        expr: mysql_global_status_innodb_num_open_files{namespace=~"$namespace",service=~"$app+-stats"}
        interval: ""
        legendFormat: InnoDB Open Files - {{ pod }}
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Open Files
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2579
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:2580
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 1
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 11
        w: 12
        x: 0
        "y": 37
      hiddenSeries: false
      id: 24
      legend:
        alignAsTable: true
        avg: true
        current: true
        max: true
        min: false
        rightSide: false
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_slow_queries{namespace=~"$namespace",service=~"$app+-stats"}[1m])
        interval: ""
        legendFormat: Slow Queries on {{ pod }}
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Slow Queries
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:94
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:95
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 11
        w: 12
        x: 12
        "y": 37
      hiddenSeries: false
      id: 26
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: false
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_aborted_connects{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        interval: ""
        legendFormat: Aborted Connects (attempts) on - {{ pod }}
        refId: A
      - exemplar: true
        expr: rate(mysql_global_status_aborted_clients{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        interval: ""
        legendFormat: Aborted Clients (timeout) on - {{ pod }}
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Aborted Connections
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:206
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:207
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    refresh: 5s
    schemaVersion: 27
    style: dark
    tags:
    - galera
    - mysql
    templating:
      list:
      - current:
          selected: false
          text: Prometheus
          value: Prometheus
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Datasource
        multi: false
        name: datasource
        options: []
        query: prometheus
        queryValue: ""
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: null
        current:
          selected: false
          text: demo
          value: demo
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Namespace
        multi: false
        name: namespace
        options: []
        query: label_values(kube_namespace_created,namespace)
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text: sample-mysql-stats
          value: sample-mysql-stats
        datasource: ${datasource}
        description: ""
        error: null
        hide: 0
        includeAll: false
        label: MySQL
        multi: false
        name: app
        options: []
        query: label_values(kubedb_com_mysql_status_phase{namespace=~"$namespace"},app)
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-6h
      to: now
    timepicker: {}
    timezone: ""
    title: KubeDB / MySQL / Database
    version: 2
  overwrite: true
  templatize:
    title: false
    datasource: false
---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-mysql-group-replication-summary
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: MySQL
    k8s.io/resource: mysqls
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - builtIn: 1
        datasource: -- Grafana --
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        type: dashboard
    editable: true
    gnetId: null
    graphTooltip: 0
    iteration: 1637571075821
    links: []
    panels:
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings:
          - from: ""
            id: 1
            text: ONLINE
            to: ""
            type: 1
            value: "1"
          - from: ""
            id: 2
            text: RECOVERING
            to: ""
            type: 1
            value: "2"
          - from: ""
            id: 3
            text: OFFLINE
            to: ""
            type: 1
            value: "3"
          - from: ""
            id: 4
            text: ERROR
            to: ""
            type: 1
            value: "4"
          - from: ""
            id: 5
            text: UNREACHABLE
            to: ""
            type: 1
            value: "5"
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 2
        overrides: []
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 0
      id: 65
      options:
        colorMode: background
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: value_and_name
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: avg by(member_host)(mysql_perf_schema_replication_group_member_info{namespace=~"$namespace",service=~"$app+-stats"})
        interval: ""
        legendFormat: '{{member_host}}'
        refId: A
      title: Group Replication Node Title
      type: stat
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings:
          - from: ""
            id: 1
            text: PRIMARY
            to: ""
            type: 1
            value: "1"
          thresholds:
            mode: absolute
            steps:
            - color: blue
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 3
        w: 24
        x: 0
        "y": 7
      id: 64
      options:
        colorMode: background
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: value_and_name
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: avg by(member_host)(mysql_perf_schema_replication_group_member_info{namespace=~"$namespace",service=~"$app+-stats",
          member_role="PRIMARY"})
        interval: ""
        legendFormat: '{{member_host}}'
        refId: A
      timeFrom: null
      timeShift: null
      title: Primary Node
      type: stat
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 10
      id: 67
      panels: []
      title: Replication Delay Details
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 11
      hiddenSeries: false
      id: 69
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: false
        hideZero: false
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: max by (pod)(max_over_time(mysql_perf_schema_replication_group_worker_lag_in_seconds{namespace=~"$namespace",service=~"$app+-stats"}[5m]))
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Replication Lag
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:291
        format: s
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:292
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 19
      hiddenSeries: false
      id: 70
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: false
        hideZero: false
        max: true
        min: true
        rightSide: false
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: max by (pod)(max_over_time(mysql_perf_schema_replication_group_worker_transport_time_seconds{namespace=~"$namespace",service=~"$app+-stats"}[5m]))
          < 20000000
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Transport TIme
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:291
        format: s
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:292
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 19
      hiddenSeries: false
      id: 71
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: false
        hideZero: false
        max: true
        min: true
        rightSide: false
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: max by (pod)(max_over_time(mysql_perf_schema_replication_group_worker_apply_time_seconds{namespace=~"$namespace",service=~"$app+-stats"}[5m]))
          < 20000000
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Replication Delay
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:291
        format: s
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:292
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 26
      hiddenSeries: false
      id: 72
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: false
        hideZero: false
        max: true
        min: true
        rightSide: false
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: max by (pod)(max_over_time(mysql_perf_schema_replication_group_worker_apply_time_seconds{namespace=~"$namespace",service=~"$app+-stats"}[5m]))
          < 20000000
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Transaction Apply Time
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:291
        format: s
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:292
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 26
      hiddenSeries: false
      id: 73
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: false
        hideZero: false
        max: true
        min: true
        rightSide: false
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: max by (pod)(max_over_time(mysql_perf_schema_replication_group_worker_time_RL_seconds{namespace=~"$namespace",service=~"$app+-stats"}[5m]))
          < 20000000
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Transaction Time Inside the Local Queue
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:291
        format: s
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:292
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 33
      id: 76
      panels: []
      title: Transactions
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 34
      hiddenSeries: false
      id: 77
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: false
        hideZero: false
        max: true
        min: true
        rightSide: false
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: 'avg by (pod)(rate(mysql_perf_schema_transactions_checked_total{namespace=~"$namespace",service=~"$app+-stats"}[5m])
          or rate(mysql_perf_schema_5_transactions_checked_total{namespace=~"$namespace",service=~"$app+-stats"}[5m])) '
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Checked Transactions
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:291
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:292
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 34
      hiddenSeries: false
      id: 78
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: false
        hideZero: false
        max: true
        min: true
        rightSide: false
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: 'avg by (pod)(rate(mysql_perf_schema_transactions_rows_validating_total{namespace=~"$namespace",service=~"$app+-stats"}[5m])
          or rate(mysql_perf_schema_5_transactions_rows_validating_total{namespace=~"$namespace",service=~"$app+-stats"}[5m])) '
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Transactions Row Validating
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:291
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:292
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 41
      hiddenSeries: false
      id: 79
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: false
        hideZero: false
        max: true
        min: true
        rightSide: false
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: 'avg by (pod)(rate(mysql_perf_schema_transactions_remote_applied_total{namespace=~"$namespace",service=~"$app+-stats"}[5m])) '
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Applied Transactions
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:291
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:292
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 41
      hiddenSeries: false
      id: 80
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: false
        hideZero: false
        max: true
        min: true
        rightSide: false
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: 'avg by (pod)(rate(mysql_perf_schema_transactions_local_proposed_total{namespace=~"$namespace",service=~"$app+-stats"}[5m])) '
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Sent Transactions
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:291
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:292
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 48
      hiddenSeries: false
      id: 81
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: false
        hideZero: false
        max: true
        min: true
        rightSide: false
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: 'avg by (pod)(rate(mysql_perf_schema_transactions_remote_in_applier_queue{namespace=~"$namespace",service=~"$app+-stats"}[5m])) '
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Received Transactions Queue
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:291
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:292
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 48
      hiddenSeries: false
      id: 82
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: false
        hideZero: false
        max: true
        min: true
        rightSide: false
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: 'avg by (pod)(rate(mysql_perf_schema_transactions_local_rollback_total{namespace=~"$namespace",service=~"$app+-stats"}[5m])) '
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Rolled Back Transactions
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:291
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:292
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 55
      hiddenSeries: false
      id: 83
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: false
        hideZero: false
        max: true
        min: true
        rightSide: false
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: 'avg by (pod)(rate(mysql_perf_schema_transactions_in_queue{namespace=~"$namespace",service=~"$app+-stats"}[5m])
          or rate(mysql_perf_schema_5_transactions_in_queue{namespace=~"$namespace",service=~"$app+-stats"}[5m])) '
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Transactions in the Queue for Checking
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:291
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:292
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 62
      id: 85
      panels: []
      title: Conflicts
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 63
      hiddenSeries: false
      id: 86
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: false
        hideZero: false
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: 'avg by (pod)(rate(mysql_perf_schema_conflicts_detected_total{namespace=~"$namespace",service=~"$app+-stats"}[5m])
          or rate(mysql_perf_schema_5_conflicts_detected_total{namespace=~"$namespace",service=~"$app+-stats"}[5m])) '
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Transactions in the Queue for Checking
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:291
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:292
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    refresh: 1h
    schemaVersion: 27
    style: dark
    tags: []
    templating:
      list:
      - current:
          selected: false
          text: Prometheus
          value: Prometheus
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Datasource
        multi: false
        name: datasource
        options: []
        query: prometheus
        queryValue: ""
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: null
        current:
          selected: false
          text: demo
          value: demo
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Namespace
        multi: false
        name: namespace
        options: []
        query: label_values(kube_namespace_created,namespace)
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: true
          text: old-mysql-stats
          value: old-mysql-stats
        datasource: ${datasource}
        description: ""
        error: null
        hide: 0
        includeAll: false
        label: MySQL
        multi: false
        name: app
        options: []
        query: label_values(kubedb_com_mysql_status_phase{namespace=~"$namespace"},app)
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-6h
      to: now
    timepicker: {}
    timezone: ""
    title: KubeDB / MySQL / Group-Replication-Summary
    version: 2
  overwrite: true
  templatize:
    title: false
    datasource: false
---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-mysql-pod
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: MySQL
    k8s.io/resource: mysqls
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - builtIn: 1
        datasource: -- Grafana --
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        type: dashboard
    editable: true
    gnetId: null
    graphTooltip: 0
    iteration: 1637649345901
    links: []
    panels:
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 0
      id: 2
      panels: []
      title: MySQL Pod Summary
      type: row
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: semi-dark-blue
              value: null
          unit: short
        overrides: []
      gridPos:
        h: 3
        w: 5
        x: 0
        "y": 1
      id: 4
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: name
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: mysql_up{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      title: Pod Name
      type: stat
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: semi-dark-red
              value: null
            - color: green
              value: 90
          unit: short
        overrides:
        - matcher:
            id: byType
            options: number
          properties:
          - id: unit
            value: s
      gridPos:
        h: 3
        w: 4
        x: 5
        "y": 1
      id: 5
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: value
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: mysql_global_status_uptime{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        format: time_series
        instant: false
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      title: MySQL Uptime
      type: stat
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: semi-dark-orange
              value: null
            - color: red
              value: 80
          unit: short
        overrides: []
      gridPos:
        h: 3
        w: 6
        x: 9
        "y": 1
      id: 6
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: name
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: mysql_version_info{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: '{{version}}'
        refId: A
      title: Version
      type: stat
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: light-blue
              value: null
          unit: short
        overrides: []
      gridPos:
        h: 3
        w: 5
        x: 15
        "y": 1
      id: 7
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: value
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_queries{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      timeFrom: null
      timeShift: null
      title: Current QPS
      type: stat
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: semi-dark-red
              value: null
            - color: light-blue
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byType
            options: number
          properties:
          - id: unit
            value: bits
      gridPos:
        h: 3
        w: 4
        x: 20
        "y": 1
      id: 8
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: value
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: mysql_global_variables_innodb_buffer_pool_size{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        format: time_series
        instant: false
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      title: InnoDB Buffer Pool Size
      type: stat
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 4
      id: 57
      panels: []
      title: Pod CPU, Memory and File Descriptor Stats
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: none
        overrides: []
      fill: 5
      fillGradient: 0
      gridPos:
        h: 7
        w: 8
        x: 0
        "y": 5
      hiddenSeries: false
      id: 61
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(rate(container_cpu_usage_seconds_total{namespace="$namespace", pod=~"$pod",
          container!="", image!=""}[5m])) by (pod)
        interval: ""
        legendFormat: '{{container}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: CPU Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: none
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 5
      fillGradient: 0
      gridPos:
        h: 7
        w: 8
        x: 8
        "y": 5
      hiddenSeries: false
      id: 59
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{namespace="$namespace", pod=~"$pod",
          container!="", image!=""}) by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Memory Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Number of open file descriptors
      fieldConfig:
        defaults:
          unit: none
        overrides: []
      fill: 5
      fillGradient: 0
      gridPos:
        h: 7
        w: 8
        x: 16
        "y": 5
      hiddenSeries: false
      id: 62
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(process_open_fds{pod=~"$pod", namespace="$namespace"}) by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Open File Descriptors
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: none
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 12
      id: 10
      panels: []
      repeat: null
      title: Connections
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 13
      hiddenSeries: false
      id: 12
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: mysql_global_status_max_used_connections{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: Max Used Connects - {{pod}}
        refId: A
      - exemplar: true
        expr: mysql_global_variables_max_connections{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: Max Connects - {{pod}}
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Connections
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:402
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:403
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 13
      hiddenSeries: false
      id: 16
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: mysql_global_status_aborted_connects{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: Aborted Connects - {{pod}}
        refId: A
      - exemplar: true
        expr: mysql_global_status_aborted_clients{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: Aborted Clients - {{pod}}
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Aborted Connections
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:237
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:238
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 20
      id: 15
      panels: []
      repeat: null
      title: Client Threads
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 21
      hiddenSeries: false
      id: 13
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: false
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: mysql_global_status_threads_connected{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: Threads Connected - {{pod}}
        refId: A
      - exemplar: true
        expr: mysql_global_status_threads_running{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: Threads Running - {{pod}}
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Client Thread Activity
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:290
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:291
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 21
      hiddenSeries: false
      id: 17
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: false
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: mysql_global_variables_thread_cache_size{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: Thread Cache Size - {{pod}}
        refId: A
      - exemplar: true
        expr: mysql_global_status_threads_cached{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: Threads Cached - {{pod}}
        refId: B
      - exemplar: true
        expr: mysql_global_status_threads_created{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: Threads Created - {{pod}}
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Thread Cache
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:659
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:660
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 28
      id: 19
      panels: []
      title: Temporary Objects & Slow Queries
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 29
      hiddenSeries: false
      id: 20
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: false
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_created_tmp_tables{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        interval: ""
        legendFormat: Created Tmp Tables - {{pod}}
        refId: A
      - exemplar: true
        expr: rate(mysql_global_status_created_tmp_disk_tables{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Created Tmp Disk Tables - {{pod}}
        refId: B
      - exemplar: true
        expr: mysql_global_status_created_tmp_files{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: Created Tmp Files - {{pod}}
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Temporary Objects
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:763
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:764
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 29
      hiddenSeries: false
      id: 25
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: false
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: mysql_global_status_slow_queries{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: Slow Queries - {{pod}}
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Slow Queries
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:816
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:817
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 36
      id: 23
      panels: []
      title: Select Types and Sorts
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 37
      hiddenSeries: false
      id: 24
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: false
        show: true
        sort: max
        sortDesc: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_select_full_join{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        interval: ""
        legendFormat: Select Full Join - {{pod}}
        refId: A
      - exemplar: true
        expr: rate(mysql_global_status_select_scan{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Select Scan - {{pod}}
        refId: E
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Select Types
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:873
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:874
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 37
      hiddenSeries: false
      id: 21
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: false
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_sort_rows{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        interval: ""
        legendFormat: Sort Rows - {{pod}}
        refId: A
      - exemplar: true
        expr: rate(mysql_global_status_sort_range{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Sort Range - {{pod}}
        refId: B
      - exemplar: true
        expr: rate(mysql_global_status_sort_merge_passes{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Sort Merge Passes - {{pod}}
        refId: C
      - exemplar: true
        expr: rate(mysql_global_status_sort_scan{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Sort Scan - {{pod}}
        refId: D
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Sorts
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1134
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:1135
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 44
      id: 27
      panels: []
      title: Table Locks and Questions
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 45
      hiddenSeries: false
      id: 28
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_table_locks_immediate{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        interval: ""
        legendFormat: Table Locks Immediate - {{pod}}
        refId: A
      - exemplar: true
        expr: rate(mysql_global_status_table_locks_waited{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Table Locks Waited - {{pod}}
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Table Locks
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1493
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:1494
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 45
      hiddenSeries: false
      id: 29
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_questions{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        interval: ""
        legendFormat: Questions - {{pod}}
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Questions
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1550
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:1551
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 52
      id: 31
      panels: []
      title: Network
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      description: |2-
    
    
        Here we can see how much network traffic is generated by MySQL. Outbound is network traffic sent from MySQL and Inbound is network traffic MySQL has received.
      editable: true
      error: false
      fieldConfig:
        defaults:
          links: []
        overrides: []
      fill: 6
      fillGradient: 0
      grid: {}
      gridPos:
        h: 10
        w: 24
        x: 0
        "y": 53
      hiddenSeries: false
      id: 9
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: false
        show: true
        sort: avg
        sortDesc: true
        total: false
        values: true
      lines: true
      linewidth: 2
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      paceLength: 10
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: true
      steppedLine: false
      targets:
      - calculatedInterval: 2m
        datasourceErrors: {}
        errors: {}
        exemplar: true
        expr: rate(mysql_global_status_bytes_received{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: Inbound - {{pod}}
        metric: ""
        refId: A
        step: 20
      - calculatedInterval: 2m
        datasourceErrors: {}
        errors: {}
        exemplar: true
        expr: rate(mysql_global_status_bytes_sent{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: Outbound - {{pod}}
        metric: ""
        refId: B
        step: 20
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Network Traffic
      tooltip:
        msResolution: false
        shared: true
        sort: 5
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1886
        decimals: 2
        format: Bps
        logBase: 1
        max: null
        min: 0
        show: true
      - $$hashKey: object:1887
        format: none
        logBase: 1
        max: null
        min: 0
        show: false
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: true
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      description: |2-
    
    
        Here we can see how much network traffic is generated by MySQL. Outbound is network traffic sent from MySQL and Inbound is network traffic MySQL has received.
      editable: true
      error: false
      fieldConfig:
        defaults:
          links: []
        overrides: []
      fill: 6
      fillGradient: 0
      grid: {}
      gridPos:
        h: 10
        w: 24
        x: 0
        "y": 63
      hiddenSeries: false
      id: 44
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: false
        show: true
        sort: avg
        sortDesc: true
        total: false
        values: true
      lines: false
      linewidth: 2
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      paceLength: 10
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: true
      steppedLine: false
      targets:
      - calculatedInterval: 2m
        datasourceErrors: {}
        errors: {}
        exemplar: true
        expr: increase(mysql_global_status_bytes_received{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[1h])
        format: time_series
        instant: false
        interval: 1h
        intervalFactor: 1
        legendFormat: Received - {{pod}}
        metric: ""
        refId: A
        step: 20
      - calculatedInterval: 2m
        datasourceErrors: {}
        errors: {}
        exemplar: true
        expr: increase(mysql_global_status_bytes_sent{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[1h])
        format: time_series
        interval: 1h
        intervalFactor: 1
        legendFormat: Sent - {{pod}}
        metric: ""
        refId: B
        step: 20
      thresholds: []
      timeFrom: 24h
      timeRegions: []
      timeShift: null
      title: MySQL Network Usage Hourly
      tooltip:
        msResolution: false
        shared: true
        sort: 5
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1513
        decimals: 2
        format: bytes
        logBase: 1
        max: null
        min: 0
        show: true
      - $$hashKey: object:1514
        format: none
        logBase: 1
        max: null
        min: 0
        show: false
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 73
      id: 48
      panels: []
      title: Memory
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: ""
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 74
      hiddenSeries: false
      id: 50
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: mysql_global_variables_innodb_buffer_pool_size{namespace="$namespace",service=~"$app+-stats",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: InnoDB Buffer Pool Size - {{pod}}
        refId: A
      - exemplar: true
        expr: mysql_global_variables_innodb_log_buffer_size{namespace="$namespace",service=~"$app+-stats",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: InnoDB Log Buffer Size - {{pod}}
        refId: B
      - exemplar: true
        expr: mysql_global_status_innodb_mem_dictionary{namespace="$namespace",service=~"$app+-stats",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: InnoDB Dictionary Size - {{pod}}
        refId: D
      - exemplar: false
        expr: mysql_global_variables_key_buffer_size{namespace="$namespace",service=~"$app+-stats",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: Key Buffer Size - {{pod}}
        refId: E
      - exemplar: true
        expr: mysql_global_variables_query_cache_size{namespace="$namespace",service=~"$app+-stats",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: Query Cache Size - {{pod}}
        refId: F
      - exemplar: true
        expr: mysql_global_status_innodb_mem_adaptive_hash{namespace="$namespace",service=~"$app+-stats",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: Adaptive Hash Index Size - {{pod}}
        refId: G
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Internal Memory Overview
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:237
        format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:238
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 82
      id: 46
      panels: []
      title: Command, Handlers
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 83
      hiddenSeries: false
      id: 18
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: false
        hideZero: false
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 2
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: topk(5, rate(mysql_global_status_commands_total{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m]))
        instant: false
        interval: ""
        legendFormat: Com_{{ command }} - {{pod}}
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Top Command Counters
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:283
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:284
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: true
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      description: |2-
    
    
        Here we can see how much network traffic is generated by MySQL. Outbound is network traffic sent from MySQL and Inbound is network traffic MySQL has received.
      editable: true
      error: false
      fieldConfig:
        defaults:
          links: []
          unit: none
        overrides: []
      fill: 6
      fillGradient: 0
      grid: {}
      gridPos:
        h: 10
        w: 24
        x: 0
        "y": 91
      hiddenSeries: false
      id: 51
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: true
        show: true
        sort: avg
        sortDesc: true
        total: false
        values: true
      lines: false
      linewidth: 2
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      paceLength: 10
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: true
      steppedLine: false
      targets:
      - calculatedInterval: 2m
        datasourceErrors: {}
        errors: {}
        exemplar: true
        expr: topk(5, avg by (pod,command) (increase(mysql_global_status_commands_total{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[1h])>0))
        format: time_series
        instant: false
        interval: 1h
        intervalFactor: 1
        legendFormat: Com_{{ command }} - {{pod}}
        metric: ""
        refId: A
        step: 20
      thresholds: []
      timeFrom: 24h
      timeRegions: []
      timeShift: null
      title: Top Command Counter Hourly
      tooltip:
        msResolution: false
        shared: true
        sort: 5
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1513
        decimals: 2
        format: none
        logBase: 1
        max: null
        min: 0
        show: true
      - $$hashKey: object:1514
        format: none
        logBase: 1
        max: null
        min: 0
        show: false
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: ""
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 101
      hiddenSeries: false
      id: 32
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: false
        hideZero: false
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 2
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_handlers_total{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])>0
        instant: false
        interval: ""
        legendFormat: '{{ handler }} - {{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Handlers
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:283
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:284
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 109
      id: 53
      panels: []
      title: Query Cache
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 110
      hiddenSeries: false
      id: 54
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_qcache_free_memory{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        interval: ""
        legendFormat: Query Cache Size - {{pod}}
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Query Cache Memory
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2422
        format: bytes
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:2423
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      fieldConfig:
        defaults:
          unit: none
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 110
      hiddenSeries: false
      id: 55
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_qcache_hits{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        interval: ""
        legendFormat: Hits - {{pod}}
        refId: A
      - exemplar: true
        expr: rate(mysql_global_status_qcache_inserts{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Inserts - {{pod}}
        refId: B
      - exemplar: true
        expr: rate(mysql_global_status_qcache_not_cached{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Not Cached - {{pod}}
        refId: C
      - exemplar: true
        expr: rate(mysql_global_status_qcache_lowmem_prunes{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Prunes - {{pod}}
        refId: D
      - exemplar: true
        expr: rate(mysql_global_status_qcache_queries_in_cache{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Queries in Cache - {{pod}}
        refId: E
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Query Cache Activity
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2475
        format: none
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:2476
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 117
      id: 38
      panels: []
      title: Files and Tables
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 118
      hiddenSeries: false
      id: 34
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: mysql_global_status_opened_files{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: Openings - {{pod}}
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL File Openings
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2585
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:2586
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 118
      hiddenSeries: false
      id: 36
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: mysql_global_status_open_files{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: Open Files - {{pod}}
        refId: A
      - exemplar: true
        expr: mysql_global_variables_open_files_limit{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: Open Files Limit - {{pod}}
        refId: B
      - exemplar: true
        expr: mysql_global_status_innodb_num_open_files{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: InnoDB Open Files - {{pod}}
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Open Files
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2640
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:2641
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 125
      id: 41
      panels: []
      title: MySQL Table Openings and Definition Cache
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 126
      hiddenSeries: false
      id: 39
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_opened_tables{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        interval: ""
        legendFormat: Openings - {{pod}}
        refId: A
      - exemplar: true
        expr: rate(mysql_global_status_table_open_cache_hits{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Hits - {{pod}}
        refId: B
      - exemplar: true
        expr: rate(mysql_global_status_table_open_cache_misses{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Misses - {{pod}}
        refId: C
      - exemplar: true
        expr: rate(mysql_global_status_table_open_cache_overflows{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Misses due to Overflows - {{pod}}
        refId: D
      - exemplar: true
        expr: rate(mysql_global_status_table_open_cache_hits{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Table Open Cache Hit Ratio - {{pod}}
        refId: E
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Table Open Cache Status
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2748
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:2749
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 126
      hiddenSeries: false
      id: 42
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: mysql_global_status_open_tables{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: Open Tables - {{pod}}
        refId: A
      - exemplar: true
        expr: mysql_global_variables_table_open_cache{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: Table Open Cache - {{pod}}
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Open Tables
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2909
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:2910
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 133
      hiddenSeries: false
      id: 43
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: mysql_global_status_open_table_definitions{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: Open Table Definitions - {{pod}}
        refId: A
      - exemplar: true
        expr: mysql_global_variables_table_definition_cache{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: Table Definitions Cache Size - {{pod}}
        refId: B
      - exemplar: true
        expr: mysql_global_status_opened_table_definitions{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: Opened Table Definitions - {{pod}}
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Table Definition Cache
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2964
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:2965
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    refresh: false
    schemaVersion: 27
    style: dark
    tags: []
    templating:
      list:
      - current:
          selected: false
          text: default
          value: default
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Datasource
        multi: false
        name: datasource
        options: []
        query: prometheus
        queryValue: ""
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: null
        current:
          selected: false
          text: demo
          value: demo
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Namespace
        multi: false
        name: namespace
        options: []
        query: label_values(kube_namespace_created,namespace)
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text: sample-mysql-stats
          value: sample-mysql-stats
        datasource: ${datasource}
        description: ""
        error: null
        hide: 0
        includeAll: false
        label: MySQL
        multi: false
        name: app
        options: []
        query: label_values(kubedb_com_mysql_status_phase{namespace=~"$namespace"},app)
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: true
          text:
          - sample-mysql-0
          value:
          - sample-mysql-0
        datasource: ${datasource}
        definition: label_values(mysql_up{namespace=~"$namespace", service=~"$app+-stats"},
          pod)
        description: null
        error: null
        hide: 0
        includeAll: true
        label: Pod
        multi: true
        name: pod
        options: []
        query: label_values(mysql_up{namespace=~"$namespace", service=~"$app+-stats"},
          pod)
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-6h
      to: now
    timepicker: {}
    timezone: ""
    title: KubeDB / MySQL / Pod
    version: 6
  overwrite: true
  templatize:
    title: false
    datasource: false
---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-mysql-summary
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: MySQL
    k8s.io/resource: mysqls
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - builtIn: 1
        datasource: -- Grafana --
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        target:
          limit: 100
          matchAny: false
          tags: []
          type: dashboard
        type: dashboard
    description: The dashboard is designed for KubeDB managed MySQL
    editable: true
    gnetId: 9628
    graphTooltip: 0
    iteration: 1682812345585
    links: []
    panels:
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 0
      id: 136
      panels: []
      title: General Info
      type: row
    - datasource: ${datasource}
      description: Represent database status
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          mappings:
          - options:
              Critical:
                color: dark-yellow
                index: 1
              DataRestoring:
                color: dark-red
                index: 4
              Halted:
                color: dark-red
                index: 5
              NotReady:
                color: dark-red
                index: 2
              Provisioning:
                color: text
                index: 3
              Ready:
                color: semi-dark-green
                index: 0
            type: value
          thresholds:
            mode: absolute
            steps:
            - color: text
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 6
        x: 0
        "y": 1
      id: 78
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: /^phase$/
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: |
          kubedb_com_mysql_status_phase{namespace="$namespace", app="$app"} == 1
        format: table
        instant: true
        interval: ""
        legendFormat: '{{phase}}'
        refId: A
      title: Database Status
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      description: MySQL CR Name
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: palette-classic
          mappings:
          - options:
              match: "null"
              result:
                index: 0
                text: N/A
            type: special
          noValue: N/A
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 5
        x: 6
        "y": 1
      id: 36
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - mean
          fields: ""
          values: false
        text:
          valueSize: 50
        textMode: name
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_mysql_info{namespace="$namespace", app="$app"}
        format: time_series
        instant: true
        interval: ""
        intervalFactor: 1
        legendFormat: '{{version}}'
        refId: A
      title: Version
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      description: MySQL CR Name
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: palette-classic
          mappings:
          - options:
              match: "null"
              result:
                index: 0
                text: N/A
            type: special
          noValue: N/A
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 5
        x: 11
        "y": 1
      id: 145
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - mean
          fields: ""
          values: false
        text:
          valueSize: 50
        textMode: name
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_mysql_info{namespace="$namespace", app="$app"}
        format: time_series
        instant: true
        interval: ""
        intervalFactor: 1
        legendFormat: '{{ useAddressType }}'
        refId: A
      title: User Address Type
      type: stat
    - datasource: ${datasource}
      description: When this option is enabled, connections attempted using insecure transport
        will be rejected.
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings:
          - from: ""
            id: 1
            text: "True"
            to: ""
            type: 1
            value: "1"
          - from: ""
            id: 2
            text: "False"
            to: ""
            type: 1
            value: "0"
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 16
        "y": 1
      id: 82
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: value
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_mysql_info{namespace="$namespace", app="$app"}
        format: time_series
        instant: true
        interval: ""
        legendFormat: '{{requireSSL}}'
        refId: A
      timeFrom: null
      timeShift: null
      title: Require Secure Transport
      type: stat
    - datasource: ${datasource}
      description: KubeDB Database Resource terminationPolicy
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          mappings:
          - options:
              Delete:
                color: yellow
                index: 1
              DoNotTerminate:
                color: green
                index: 2
              Halt:
                color: blue
                index: 3
              WipeOut:
                color: dark-red
                index: 0
            type: value
          thresholds:
            mode: absolute
            steps:
            - color: text
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 20
        "y": 1
      id: 84
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: /^terminationPolicy$/
          values: false
        text: {}
        textMode: value
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_mysql_info{namespace="$namespace", app="$app"}
        format: table
        instant: true
        interval: ""
        legendFormat: '{{terminationPolicy}}'
        refId: A
      title: Termination Policy
      type: stat
    - datasource: ${datasource}
      description: Total node count of MySQL cluster
      fieldConfig:
        defaults:
          color:
            fixedColor: green
            mode: fixed
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 0
        "y": 4
      id: 76
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_mysql_replicas{namespace="$namespace",app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Total Nodes
      type: stat
    - datasource: ${datasource}
      description: Initial Requested CPU amount by MySQL Instance
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          min: 0
          thresholds:
            mode: percentage
            steps:
            - color: green
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 4
        "y": 4
      id: 92
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_mysql_resource_request_cpu{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: CPU Request (Core)
      type: stat
    - datasource: ${datasource}
      description: CPU Limit in core by MySQL instance
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 8
        "y": 4
      id: 114
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_mysql_resource_limit_cpu{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: CPU Limit (Core)
      type: stat
    - datasource: ${datasource}
      description: Initial Requested Memory amount by MySQL Instance
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          min: 0
          thresholds:
            mode: percentage
            steps:
            - color: green
              value: null
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 12
        "y": 4
      id: 94
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_mysql_resource_request_memory{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Memory Request
      type: stat
    - datasource: ${datasource}
      description: KubeDB MySQL Total Memory Limit
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 16
        "y": 4
      id: 116
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_mysql_resource_limit_memory{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Memory Limit
      type: stat
    - datasource: ${datasource}
      description: Total storage request by MySQL nodes
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          min: 0
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 20
        "y": 4
      id: 96
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_mysql_resource_request_storage{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Storage Request
      type: stat
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 7
      id: 138
      panels: []
      title: CPU Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: CPU Usage by MySQL pods
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 8
      hiddenSeries: false
      id: 98
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{namespace="$namespace",
          pod=~"$app-\\d+$"}) by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: CPU Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      description: CPU Quote information in details
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            displayMode: auto
            filterable: false
          decimals: 2
          displayName: ""
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: Time
          properties:
          - id: displayName
            value: Time
          - id: custom.align
            value: null
          - id: custom.width
            value: null
        - matcher:
            id: byName
            options: 'Value #A'
          properties:
          - id: displayName
            value: CPU Usage
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #B'
          properties:
          - id: displayName
            value: CPU Requests
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #C'
          properties:
          - id: displayName
            value: CPU Requests %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #D'
          properties:
          - id: displayName
            value: CPU Limits
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #E'
          properties:
          - id: displayName
            value: CPU Limits %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: pod
          properties:
          - id: displayName
            value: Pod
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: links
            value:
            - targetBlank: false
              title: Drill down
              url: ./d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-pod=$__cell
          - id: custom.align
            value: null
      gridPos:
        h: 6
        w: 24
        x: 0
        "y": 15
      id: 122
      links: []
      options:
        showHeader: true
        sortBy: []
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: sum(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{namespace="$namespace",
          pod=~"$app-\\d+$"}) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
        step: 10
      - exemplar: true
        expr: sum(cluster:namespace:pod_cpu:active:kube_pod_container_resource_requests{namespace="$namespace",
          pod=~"$app-\\d+$"}) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: B
        step: 10
      - exemplar: true
        expr: sum(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{namespace="$namespace",
          pod=~"$app-\\d+$"}) by (pod) / sum(cluster:namespace:pod_cpu:active:kube_pod_container_resource_requests{namespace="$namespace",
          pod=~"$app-\\d+$"}) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: C
        step: 10
      - exemplar: true
        expr: sum(cluster:namespace:pod_cpu:active:kube_pod_container_resource_limits{namespace="$namespace",
          pod=~"$app-\\d+$"}) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: D
        step: 10
      - exemplar: true
        expr: sum(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{namespace="$namespace",
          pod=~"$app-\\d+$"}) by (pod) / sum(cluster:namespace:pod_cpu:active:kube_pod_container_resource_limits{namespace="$namespace",
          pod=~"$app-\\d+$"}) by (pod)
        format: table
        hide: false
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: E
        step: 10
      timeFrom: null
      timeShift: null
      title: CPU Quota
      transformations:
      - id: merge
        options:
          reducers: []
      type: table
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 21
      id: 140
      panels: []
      title: Memory Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Memory Usage by MySQL pods
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 6
        w: 24
        x: 0
        "y": 22
      hiddenSeries: false
      id: 100
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(node_namespace_pod_container:container_memory_working_set_bytes{namespace="$namespace",
          pod=~"$app-\\d+$",container!=""}) by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Memory Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            displayMode: auto
            filterable: false
          decimals: 2
          displayName: ""
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: Time
          properties:
          - id: displayName
            value: Time
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #A'
          properties:
          - id: displayName
            value: Memory Usage
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #B'
          properties:
          - id: displayName
            value: Memory Requests
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #C'
          properties:
          - id: displayName
            value: Memory Requests %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #D'
          properties:
          - id: displayName
            value: Memory Limits
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #E'
          properties:
          - id: displayName
            value: Memory Limits %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #F'
          properties:
          - id: displayName
            value: Memory Usage (RSS)
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #G'
          properties:
          - id: displayName
            value: Memory Usage (Cache)
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #H'
          properties:
          - id: displayName
            value: Memory Usage (Swap)
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: pod
          properties:
          - id: displayName
            value: Pod
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: links
            value:
            - targetBlank: false
              title: Drill down
              url: ./d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-pod=$__cell
          - id: custom.align
            value: null
      gridPos:
        h: 6
        w: 24
        x: 0
        "y": 28
      id: 124
      links: []
      options:
        showHeader: true
        sortBy:
        - desc: true
          displayName: Memory Usage
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{namespace="$namespace",pod=~"$app-\\d+$",container!="",
          image!=""}) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
        step: 10
      - exemplar: true
        expr: sum(cluster:namespace:pod_memory:active:kube_pod_container_resource_requests{namespace="$namespace",pod=~"$app-\\d+$"})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: B
        step: 10
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{namespace="$namespace",pod=~"$app-\\d+$",container!="",
          image!=""}) by (pod) / sum(cluster:namespace:pod_memory:active:kube_pod_container_resource_requests{namespace="$namespace",pod=~"$app-\\d+$"})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: C
        step: 10
      - exemplar: true
        expr: sum(cluster:namespace:pod_memory:active:kube_pod_container_resource_limits{namespace="$namespace",pod=~"$app-\\d+$"})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: D
        step: 10
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{namespace="$namespace",pod=~"$app-\\d+$",container!="",
          image!=""}) by (pod) / sum(cluster:namespace:pod_memory:active:kube_pod_container_resource_limits{namespace="$namespace",
          pod=~"$app-\\d+$"}) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: E
        step: 10
      - exemplar: true
        expr: sum(container_memory_rss{namespace="$namespace",pod=~"$app-\\d+$",container!=""})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: F
        step: 10
      - exemplar: true
        expr: sum(container_memory_cache{namespace="$namespace",pod=~"$app-\\d+$",container!=""})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: G
        step: 10
      - exemplar: true
        expr: sum(container_memory_swap{namespace="$namespace",pod=~"$app-\\d+$",container!=""})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: H
        step: 10
      timeFrom: null
      timeShift: null
      title: Memory Quota
      transformations:
      - id: merge
        options:
          reducers: []
      type: table
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 34
      id: 142
      panels: []
      title: Storage Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Disk usage by MySQL pods
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 9
        w: 12
        x: 0
        "y": 35
      hiddenSeries: false
      id: 112
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: avg(container_blkio_device_usage_total{namespace="$namespace", pod=~"$app-\\d+$"})
          by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Disk Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: System Disk Usage Information
      fieldConfig:
        defaults:
          unit: none
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 9
        w: 12
        x: 12
        "y": 35
      hiddenSeries: false
      id: 108
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(rate(container_fs_writes_total{namespace="$namespace", pod=~"$app-\\d+$"}[5m]))by(pod)
        instant: false
        interval: ""
        intervalFactor: 1
        legendFormat: '{{pod}}-disk-write'
        refId: A
      - exemplar: true
        expr: sum(rate(container_fs_reads_total{namespace="$namespace", pod=~"$app-\\d+$"}[5m]))by(pod)
        hide: false
        instant: false
        interval: ""
        legendFormat: '{{pod}}-disk-read'
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Disk R/W Info
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: none
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: short
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 44
      hiddenSeries: false
      id: 126
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: ceil(sum by(pod) (rate(container_fs_reads_total{container!="", namespace=~"$namespace",
          pod=~"$app-\\d+$"}[5m]) + rate(container_fs_writes_total{container!="" ,namespace=~"$namespace",
          pod=~"$app-\\d+$"}[5m])))
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: IOPS (Reads+Writes)
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: Bps
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 44
      hiddenSeries: false
      id: 128
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_bytes_total{container!="", namespace=~"$namespace",
          pod=~"$app-\\d+$"}[5m]) + rate(container_fs_writes_bytes_total{container!=""
          ,namespace=~"$namespace", pod=~"$app-\\d+$"}[5m]))
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: ThroughPut (Read+Write)
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: Bps
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            displayMode: auto
            filterable: false
          decimals: 2
          displayName: ""
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: Time
          properties:
          - id: displayName
            value: Time
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #A'
          properties:
          - id: displayName
            value: IOPS(Reads)
          - id: unit
            value: short
          - id: decimals
            value: -1
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #B'
          properties:
          - id: displayName
            value: IOPS(Writes)
          - id: unit
            value: short
          - id: decimals
            value: -1
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #C'
          properties:
          - id: displayName
            value: IOPS(Reads + Writes)
          - id: unit
            value: short
          - id: decimals
            value: -1
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #D'
          properties:
          - id: displayName
            value: Throughput(Read)
          - id: unit
            value: Bps
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #E'
          properties:
          - id: displayName
            value: Throughput(Write)
          - id: unit
            value: Bps
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #F'
          properties:
          - id: displayName
            value: Throughput(Read + Write)
          - id: unit
            value: Bps
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: pod
          properties:
          - id: displayName
            value: Pod
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: links
            value:
            - targetBlank: false
              title: Drill down to pods
              url: ./d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-pod=$__cell
          - id: custom.align
            value: null
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 51
      id: 130
      links: []
      options:
        showHeader: true
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_total{container!="", pod=~"$app-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_writes_total{container!="", pod=~"$app-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: B
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_total{container!="", pod=~"$app-\\d+$",namespace=~"$namespace"}[5m])
          + rate(container_fs_writes_total{container!="",pod=~"$app-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: C
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_bytes_total{container!="", pod=~"$app-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: D
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_writes_bytes_total{container!="", pod=~"$app-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: E
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_bytes_total{container!="", pod=~"$app-\\d+$",namespace=~"$namespace"}[5m])
          + rate(container_fs_writes_bytes_total{container!="",pod=~"$app-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: F
        step: 10
      timeFrom: null
      timeShift: null
      title: Current Storage IO
      transformations:
      - id: merge
        options:
          reducers: []
      type: table
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 58
      id: 147
      panels: []
      title: Persistent Storage Insight
      type: row
    - datasource: ${datasource}
      description: |
        This panel describes allocated persistent storage in a table format
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: center
            displayMode: color-text
            filterable: false
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: light-blue
              value: null
          unit: decbytes
        overrides: []
      gridPos:
        h: 6
        w: 12
        x: 0
        "y": 59
      id: 151
      options:
        showHeader: true
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubelet_volume_stats_capacity_bytes + on(persistentvolumeclaim) group_left(pod)
          kube_pod_spec_volumes_persistentvolumeclaims_info{pod=~"$app-\\d+$",namespace=~"$namespace"}
        format: table
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Allocated Storage
      transformations:
      - id: organize
        options:
          excludeByName:
            Time: true
            endpoint: true
            instance: true
            job: true
            metrics_path: true
            namespace: true
            node: true
            persistentvolumeclaim: true
            service: true
          indexByName: {}
          renameByName:
            Value: Volume
            pod: Pod
      type: table
    - datasource: ${datasource}
      description: 'This panel shows the persistent volume usage in percentage. '
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: percent
        overrides: []
      gridPos:
        h: 6
        w: 12
        x: 12
        "y": 59
      id: 153
      options:
        displayMode: gradient
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        showUnfilled: true
        text: {}
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: (kubelet_volume_stats_used_bytes / on(persistentvolumeclaim) group_left(pod)
          (kubelet_volume_stats_capacity_bytes + on(persistentvolumeclaim) group_left(pod)
          kube_pod_spec_volumes_persistentvolumeclaims_info{pod=~"$app-\\d+$",namespace=~"$namespace"})
          )* 100
        instant: true
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      title: Persistent Volume Usage
      transformations: []
      type: bargauge
    - datasource: ${datasource}
      description: 'This panel describes the persistent volume usage in a time series. '
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            axisSoftMax: 5000
            axisSoftMin: 0
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: opacity
            hideFrom:
              graph: false
              legend: false
              tooltip: false
            lineInterpolation: linear
            lineStyle:
              fill: solid
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: true
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: decbytes
        overrides: []
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 65
      id: 149
      options:
        graph: {}
        legend:
          calcs:
          - max
          - lastNotNull
          displayMode: table
          placement: right
        tooltipOptions:
          mode: single
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: '(kubelet_volume_stats_used_bytes + on(persistentvolumeclaim) group_left(pod)
          kube_pod_spec_volumes_persistentvolumeclaims_info{pod=~"$app-\\d+$",namespace=~"$namespace"}) '
        interval: ""
        intervalFactor: 1
        legendFormat: '{{pod}}'
        refId: A
      title: Persistent Volume Usage History
      type: timeseries
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 73
      id: 144
      panels: []
      title: Network Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 74
      hiddenSeries: false
      id: 132
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(irate(container_network_receive_bytes_total{namespace=~"$namespace",
          pod=~"$app-\\d+$"}[$__rate_interval])) by (pod)
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Receive Bandwidth
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: Bps
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: Bps
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 74
      hiddenSeries: false
      id: 134
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(irate(container_network_transmit_bytes_total{namespace=~"$namespace",
          pod=~"$app-\\d+$"}[$__rate_interval])) by (pod)
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Transmit Bandwidth
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: Bps
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    refresh: 10s
    schemaVersion: 27
    style: dark
    tags:
    - db
    - stats
    - kubedb
    - mysql
    templating:
      list:
      - current:
          selected: false
          text: Prometheus
          value: Prometheus
        description: null
        error: null
        hide: 0
        includeAll: false
        label: null
        multi: false
        name: datasource
        options: []
        query: prometheus
        queryValue: ""
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: '".+"'
        current:
          selected: false
          text: demo
          value: demo
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Namespace
        multi: false
        name: namespace
        options: []
        query:
          query: label_values(kube_namespace_created,namespace)
          refId: Prometheus-namespace-Variable-Query
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text: coreos-prom-mysql
          value: coreos-prom-mysql
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: mysql
        multi: false
        name: app
        options: []
        query:
          query: label_values(kubedb_com_mysql_status_phase{namespace=~"$namespace"},app)
          refId: Prometheus-app-Variable-Query
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-6h
      to: now
    timepicker:
      refresh_intervals:
      - 5s
      - 10s
      - 30s
      - 1m
      - 5m
      - 15m
      - 30m
      - 1h
      - 2h
      - 1d
      time_options:
      - 5m
      - 15m
      - 1h
      - 6h
      - 12h
      - 24h
      - 2d
      - 7d
      - 30d
    timezone: ""
    title: KubeDB / MySQL / Summary
    version: 3
  overwrite: true
  templatize:
    title: false
    datasource: false
---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-perconaxtradb-database
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: PerconaXtraDB
    k8s.io/resource: perconaxtradbs
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - builtIn: 1
        datasource: -- Grafana --
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        target:
          limit: 100
          matchAny: false
          tags: []
          type: dashboard
        type: dashboard
    description: ""
    editable: true
    gnetId: 13106
    graphTooltip: 0
    iteration: 1637752208210
    links: []
    panels:
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          custom:
            align: null
            displayMode: auto
            filterable: false
          mappings:
          - options:
              "0":
                text: DOWN
              "1":
                text: UP
            type: value
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 0
        overrides:
        - matcher:
            id: byType
            options: number
          properties:
          - id: custom.displayMode
            value: color-background
          - id: thresholds
            value:
              mode: absolute
              steps:
              - color: red
                value: null
              - color: green
                value: 1
          - id: custom.width
            value: 200
          - id: mappings
            value:
            - from: ""
              id: 1
              text: UP
              to: ""
              type: 1
              value: "1"
            - from: ""
              id: 2
              text: DOWN
              to: ""
              type: 1
              value: "0"
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 0
      id: 2
      options:
        showHeader: true
        sortBy: []
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: mysql_up{namespace=~"$namespace",service=~"$app"}
        format: table
        instant: true
        interval: ""
        intervalFactor: 1
        legendFormat: '{{pod}}'
        refId: A
      timeFrom: null
      timeShift: null
      title: Service Status
      transformations:
      - id: filterFieldsByName
        options:
          include:
            names:
            - instance
            - Value
            - pod
      type: table
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          custom:
            align: null
            displayMode: auto
            filterable: false
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides:
        - matcher:
            id: byType
            options: number
          properties:
          - id: unit
            value: s
          - id: custom.width
            value: 200
          - id: custom.displayMode
            value: color-background
          - id: thresholds
            value:
              mode: absolute
              steps:
              - color: red
                value: null
              - color: green
                value: 80
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 0
      id: 4
      options:
        showHeader: true
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: mysql_global_status_uptime{namespace=~"$namespace",service=~"$app"}
        format: table
        instant: true
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      timeFrom: null
      timeShift: null
      title: Service Uptime
      transformations:
      - id: filterFieldsByName
        options:
          include:
            names:
            - Value
            - pod
      type: table
    - datasource: ${datasource}
      description: ""
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          max: 0
          min: 0
          thresholds:
            mode: absolute
            steps:
            - color: red
              value: null
            - color: yellow
              value: 2
            - color: green
              value: 3
        overrides: []
      gridPos:
        h: 5
        w: 12
        x: 0
        "y": 7
      id: 6
      options:
        colorMode: value
        graphMode: area
        justifyMode: center
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: mysql_global_status_wsrep_cluster_size{namespace=~"$namespace",service=~"$app"}
        format: time_series
        instant: false
        interval: ""
        legendFormat: ""
        refId: A
      timeFrom: null
      timeShift: null
      title: Cluster Size
      transformations:
      - id: labelsToFields
        options:
          valueLabel: pod
      type: stat
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings:
          - from: ""
            id: 1
            text: Primary
            to: ""
            type: 1
            value: "1"
          - from: ""
            id: 2
            text: Non-Primary
            to: ""
            type: 1
            value: "0"
          thresholds:
            mode: absolute
            steps:
            - color: yellow
              value: null
            - color: red
              value: 0
            - color: green
              value: 1
        overrides: []
      gridPos:
        h: 5
        w: 12
        x: 12
        "y": 7
      id: 8
      options:
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        showThresholdLabels: false
        showThresholdMarkers: true
        text:
          titleSize: 15
          valueSize: 25
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: mysql_global_status_wsrep_cluster_status{namespace=~"$namespace",service=~"$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      timeFrom: null
      timeShift: null
      title: Cluster Status
      transformations:
      - id: labelsToFields
        options:
          valueLabel: pod
      type: gauge
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 12
      hiddenSeries: false
      id: 16
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: false
        show: true
        sideWidth: 200
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_queries{namespace=~"$namespace",service=~"$app"}[5m])
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Current QPS
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:57
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:58
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 12
      hiddenSeries: false
      id: 10
      legend:
        alignAsTable: true
        avg: false
        current: false
        max: false
        min: false
        rightSide: true
        show: true
        sideWidth: 200
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: mysql_global_status_max_used_connections{namespace=~"$namespace",service=~"$app"}
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: Current - {{ pod }}
        refId: A
      - exemplar: true
        expr: mysql_global_variables_max_connections{namespace=~"$namespace",service=~"$app"}
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: Max - {{ pod }}
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Connections
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:273
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:274
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 19
      hiddenSeries: false
      id: 12
      legend:
        avg: false
        current: false
        max: false
        min: false
        rightSide: true
        show: true
        sideWidth: 200
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides:
      - alias: write
        transform: negative-Y
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_innodb_data_reads{namespace=~"$namespace",service=~"$app"}[5m])
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: reads - {{ pod }}
        refId: A
      - exemplar: true
        expr: rate(mysql_global_status_innodb_data_writes{namespace=~"$namespace",service=~"$app"}[5m])
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: write - {{ pod }}
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL  disk reads vs writes
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:959
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:960
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 19
      hiddenSeries: false
      id: 14
      legend:
        avg: false
        current: false
        max: false
        min: false
        rightSide: true
        show: true
        sideWidth: 200
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides:
      - alias: /sent/
        transform: negative-Y
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_bytes_received{namespace=~"$namespace",service=~"$app"}[5m])
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: received - {{ pod }}
        refId: A
      - exemplar: true
        expr: rate(mysql_global_status_bytes_sent{namespace=~"$namespace",service=~"$app"}[5m])
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: sent - {{ pod }}
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL network received vs sent
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1585
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:1586
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 26
      hiddenSeries: false
      id: 18
      legend:
        alignAsTable: false
        avg: false
        current: false
        hideEmpty: false
        hideZero: false
        max: false
        min: false
        rightSide: true
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: topk(3, rate(mysql_global_status_commands_total{namespace=~"$namespace",service=~"$app"}[5m]))
        instant: false
        interval: ""
        legendFormat: '{{ pod }} = ''{{ command }}'''
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Top Command Counters
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:283
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:284
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 34
      hiddenSeries: false
      id: 20
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_opened_files{namespace=~"$namespace",service=~"$app"}[1m])
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL File Openings
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2655
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:2656
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 34
      hiddenSeries: false
      id: 22
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: mysql_global_status_open_files{namespace=~"$namespace",service=~"$app"}
        interval: ""
        legendFormat: Open Files - {{ pod }}
        refId: A
      - exemplar: true
        expr: mysql_global_variables_open_files_limit{namespace=~"$namespace",service=~"$app"}
        interval: ""
        legendFormat: Open Files Limit - {{ pod }}
        refId: B
      - exemplar: true
        expr: mysql_global_status_innodb_num_open_files{namespace=~"$namespace",service=~"$app"}
        interval: ""
        legendFormat: InnoDB Open Files - {{ pod }}
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Open Files
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2579
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:2580
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 1
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 11
        w: 12
        x: 0
        "y": 42
      hiddenSeries: false
      id: 24
      legend:
        alignAsTable: true
        avg: true
        current: true
        max: true
        min: false
        rightSide: false
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_slow_queries{namespace=~"$namespace",service=~"$app"}[1m])
        interval: ""
        legendFormat: Slow Queries on {{ pod }}
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Slow Queries
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:94
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:95
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 11
        w: 12
        x: 12
        "y": 42
      hiddenSeries: false
      id: 26
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: false
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_aborted_connects{namespace=~"$namespace",service=~"$app"}[5m])
        interval: ""
        legendFormat: Aborted Connects (attempts) on - {{ pod }}
        refId: A
      - exemplar: true
        expr: rate(mysql_global_status_aborted_clients{namespace=~"$namespace",service=~"$app"}[5m])
        interval: ""
        legendFormat: Aborted Clients (timeout) on - {{ pod }}
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Aborted Connections
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:206
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:207
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    refresh: 5s
    schemaVersion: 27
    style: dark
    tags:
    - galera
    - perconaxtradb
    templating:
      list:
      - current:
          selected: false
          text: Prometheus
          value: Prometheus
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Datasource
        multi: false
        name: datasource
        options: []
        query: prometheus
        queryValue: ""
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: null
        current:
          selected: false
          text: demo
          value: demo
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Namespace
        multi: false
        name: namespace
        options: []
        query: label_values(kube_namespace_created,namespace)
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text: sample-perconaxtradb-stats
          value: sample-perconaxtradb-stats
        datasource: ${datasource}
        description: PerconaXtraDB stats service name
        error: null
        hide: 0
        includeAll: false
        label: PerconaXtraDB
        multi: false
        name: app
        options: []
        query: label_values(mysql_up{namespace=~"$namespace"}, service)
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-6h
      to: now
    timepicker: {}
    timezone: ""
    title: KubeDB / PerconaXtraDB / Database
    version: 8
  overwrite: true
  templatize:
    title: false
    datasource: false
---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-perconaxtradb-galera-cluster
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: PerconaXtraDB
    k8s.io/resource: perconaxtradbs
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - builtIn: 1
        datasource: -- Grafana --
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        type: dashboard
    editable: true
    gnetId: null
    graphTooltip: 0
    iteration: 1646820279844
    links: []
    panels:
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings:
          - from: ""
            id: 1
            text: PRIMARY
            to: ""
            type: 1
            value: "1"
          thresholds:
            mode: absolute
            steps:
            - color: blue
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 3
        w: 24
        x: 0
        "y": 0
      id: 64
      options:
        colorMode: background
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: name
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: avg by(wsrep_cluster_name)(mysql_galera_variables_info{namespace=~"$namespace",service=~"$app"})
        interval: ""
        legendFormat: '{{wsrep_cluster_name}}'
        refId: A
      timeFrom: null
      timeShift: null
      title: Cluster Name
      type: stat
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings:
          - from: ""
            id: 1
            text: ONLINE
            to: ""
            type: 1
            value: "1"
          - from: ""
            id: 2
            text: RECOVERING
            to: ""
            type: 1
            value: "2"
          - from: ""
            id: 3
            text: OFFLINE
            to: ""
            type: 1
            value: "3"
          - from: ""
            id: 4
            text: ERROR
            to: ""
            type: 1
            value: "4"
          - from: ""
            id: 5
            text: UNREACHABLE
            to: ""
            type: 1
            value: "5"
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 2
        overrides: []
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 3
      id: 65
      options:
        colorMode: background
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: value_and_name
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: avg by(pod)(mysql_galera_variables_info{namespace=~"$namespace",service=~"$app"})
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      title: Cluster Members
      type: stat
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 10
      id: 67
      panels: []
      title: Replication Delay Details
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 11
      hiddenSeries: false
      id: 69
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: false
        hideZero: false
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: avg_over_time(mysql_galera_evs_repl_latency_avg_seconds{namespace=~"$namespace",service=~"$app"}[5m])
        interval: ""
        legendFormat: '{{pod}} - Latency Average'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: 'Average: Galera Replication Latency'
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:291
        format: s
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:292
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 19
      hiddenSeries: false
      id: 87
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: false
        hideZero: false
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_galera_evs_repl_latency_stdev{namespace=~"$namespace",service=~"$app"}[1m])
        interval: ""
        legendFormat: '{{pod}} - Latency Average'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: 'Standard Deviation: Galera Replication Latency'
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:291
        format: none
        label: ""
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:292
        format: none
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 27
      hiddenSeries: false
      id: 88
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: false
        hideZero: false
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_galera_evs_repl_latency_sample_size{namespace=~"$namespace",service=~"$app"}[1m])
        interval: ""
        legendFormat: '{{pod}} - Latency Average'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: 'Sample Size: Galera Replication Latency'
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:291
        format: none
        label: ""
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:292
        format: none
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    refresh: 1m
    schemaVersion: 27
    style: dark
    tags: []
    templating:
      list:
      - current:
          selected: false
          text: Prometheus
          value: Prometheus
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Datasource
        multi: false
        name: datasource
        options: []
        query: prometheus
        queryValue: ""
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: null
        current:
          selected: false
          text: demo
          value: demo
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Namespace
        multi: false
        name: namespace
        options: []
        query: label_values(kube_namespace_created,namespace)
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text: sample-perconaxtradb-stats
          value: sample-perconaxtradb-stats
        datasource: ${datasource}
        description: ""
        error: null
        hide: 0
        includeAll: false
        label: PerconaXtraDB
        multi: false
        name: app
        options: []
        query: label_values(mysql_up{namespace=~"$namespace"}, service)
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-6h
      to: now
    timepicker: {}
    timezone: ""
    title: KubeDB / PerconaXtraDB / Galera-Cluster
    version: 5
  overwrite: true
  templatize:
    title: false
    datasource: false
---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-perconaxtradb-pod
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: PerconaXtraDB
    k8s.io/resource: perconaxtradbs
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - builtIn: 1
        datasource: -- Grafana --
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        type: dashboard
    editable: true
    gnetId: null
    graphTooltip: 0
    iteration: 1637732366226
    links: []
    panels:
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 0
      id: 2
      panels: []
      title: PerconaXtraDB Pod Summary
      type: row
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: semi-dark-blue
              value: null
          unit: short
        overrides: []
      gridPos:
        h: 3
        w: 5
        x: 0
        "y": 1
      id: 4
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: name
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: mysql_up{namespace=~"$namespace",service=~"$app",pod=~"$pod"}
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      title: Pod Name
      type: stat
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: semi-dark-red
              value: null
            - color: green
              value: 90
          unit: short
        overrides:
        - matcher:
            id: byType
            options: number
          properties:
          - id: unit
            value: s
      gridPos:
        h: 3
        w: 4
        x: 5
        "y": 1
      id: 5
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: value
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: mysql_global_status_uptime{namespace=~"$namespace",service=~"$app",pod=~"$pod"}
        format: time_series
        instant: false
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      title: MySQL Uptime
      type: stat
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: semi-dark-orange
              value: null
            - color: red
              value: 80
          unit: short
        overrides: []
      gridPos:
        h: 3
        w: 6
        x: 9
        "y": 1
      id: 6
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: name
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: mysql_version_info{namespace=~"$namespace",service=~"$app",pod=~"$pod"}
        interval: ""
        legendFormat: '{{version}}'
        refId: A
      title: Version
      type: stat
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: light-blue
              value: null
          unit: short
        overrides: []
      gridPos:
        h: 3
        w: 5
        x: 15
        "y": 1
      id: 7
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: value
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_queries{namespace=~"$namespace",service=~"$app",pod=~"$pod"}[5m])
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      timeFrom: null
      timeShift: null
      title: Current QPS
      type: stat
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: semi-dark-red
              value: null
            - color: light-blue
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byType
            options: number
          properties:
          - id: unit
            value: bits
      gridPos:
        h: 3
        w: 4
        x: 20
        "y": 1
      id: 8
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: value
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: mysql_global_variables_innodb_buffer_pool_size{namespace=~"$namespace",service=~"$app",pod=~"$pod"}
        format: time_series
        instant: false
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      title: InnoDB Buffer Pool Size
      type: stat
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 4
      id: 57
      panels: []
      title: Pod CPU, Memory and File Descriptor Stats
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: none
        overrides: []
      fill: 5
      fillGradient: 0
      gridPos:
        h: 7
        w: 8
        x: 0
        "y": 5
      hiddenSeries: false
      id: 61
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(rate(container_cpu_usage_seconds_total{namespace="$namespace", pod="$pod",
          container!="", image!=""}[5m])) by (pod)
        interval: ""
        legendFormat: '{{container}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: CPU Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: none
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 5
      fillGradient: 0
      gridPos:
        h: 7
        w: 8
        x: 8
        "y": 5
      hiddenSeries: false
      id: 59
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{namespace="$namespace", pod="$pod",
          container!="", image!=""}) by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Memory Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Number of open file descriptors
      fieldConfig:
        defaults:
          unit: none
        overrides: []
      fill: 5
      fillGradient: 0
      gridPos:
        h: 7
        w: 8
        x: 16
        "y": 5
      hiddenSeries: false
      id: 62
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(process_open_fds{pod="$pod", namespace="$namespace"}) by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Open File Descriptors
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: none
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 12
      id: 10
      panels: []
      repeat: null
      title: Connections
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 13
      hiddenSeries: false
      id: 12
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: mysql_global_status_max_used_connections{namespace=~"$namespace",service=~"$app",pod=~"$pod"}
        interval: ""
        legendFormat: Max Used Connects - {{pod}}
        refId: A
      - exemplar: true
        expr: mysql_global_variables_max_connections{namespace=~"$namespace",service=~"$app",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: Max Connects - {{pod}}
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Connections
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:402
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:403
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 13
      hiddenSeries: false
      id: 16
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: mysql_global_status_aborted_connects{namespace=~"$namespace",service=~"$app",pod=~"$pod"}
        interval: ""
        legendFormat: Aborted Connects - {{pod}}
        refId: A
      - exemplar: true
        expr: mysql_global_status_aborted_clients{namespace=~"$namespace",service=~"$app",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: Aborted Clients - {{pod}}
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Aborted Connections
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:237
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:238
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 20
      id: 15
      panels: []
      repeat: null
      title: Client Threads
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 21
      hiddenSeries: false
      id: 13
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: false
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: mysql_global_status_threads_connected{namespace=~"$namespace",service=~"$app",pod=~"$pod"}
        interval: ""
        legendFormat: Threads Connected - {{pod}}
        refId: A
      - exemplar: true
        expr: mysql_global_status_threads_running{namespace=~"$namespace",service=~"$app",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: Threads Running - {{pod}}
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Client Thread Activity
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:290
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:291
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 21
      hiddenSeries: false
      id: 17
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: false
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: mysql_global_variables_thread_cache_size{namespace=~"$namespace",service=~"$app",pod=~"$pod"}
        interval: ""
        legendFormat: Thread Cache Size - {{pod}}
        refId: A
      - exemplar: true
        expr: mysql_global_status_threads_cached{namespace=~"$namespace",service=~"$app",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: Threads Cached - {{pod}}
        refId: B
      - exemplar: true
        expr: mysql_global_status_threads_created{namespace=~"$namespace",service=~"$app",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: Threads Created - {{pod}}
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Thread Cache
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:659
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:660
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 28
      id: 19
      panels: []
      title: Temporary Objects & Slow Queries
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 29
      hiddenSeries: false
      id: 20
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: false
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_created_tmp_tables{namespace=~"$namespace",service=~"$app",pod=~"$pod"}[5m])
        interval: ""
        legendFormat: Created Tmp Tables - {{pod}}
        refId: A
      - exemplar: true
        expr: rate(mysql_global_status_created_tmp_disk_tables{namespace=~"$namespace",service=~"$app",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Created Tmp Disk Tables - {{pod}}
        refId: B
      - exemplar: true
        expr: mysql_global_status_created_tmp_files{namespace=~"$namespace",service=~"$app",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: Created Tmp Files - {{pod}}
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Temporary Objects
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:763
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:764
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 29
      hiddenSeries: false
      id: 25
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: false
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: mysql_global_status_slow_queries{namespace=~"$namespace",service=~"$app",pod=~"$pod"}
        interval: ""
        legendFormat: Slow Queries - {{pod}}
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Slow Queries
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:816
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:817
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 36
      id: 23
      panels: []
      title: Select Types and Sorts
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 37
      hiddenSeries: false
      id: 24
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: false
        show: true
        sort: max
        sortDesc: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_select_full_join{namespace=~"$namespace",service=~"$app",pod=~"$pod"}[5m])
        interval: ""
        legendFormat: Select Full Join - {{pod}}
        refId: A
      - exemplar: true
        expr: rate(mysql_global_status_select_scan{namespace=~"$namespace",service=~"$app",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Select Scan - {{pod}}
        refId: E
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Select Types
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:873
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:874
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 37
      hiddenSeries: false
      id: 21
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: false
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_sort_rows{namespace=~"$namespace",service=~"$app",pod=~"$pod"}[5m])
        interval: ""
        legendFormat: Sort Rows - {{pod}}
        refId: A
      - exemplar: true
        expr: rate(mysql_global_status_sort_range{namespace=~"$namespace",service=~"$app",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Sort Range - {{pod}}
        refId: B
      - exemplar: true
        expr: rate(mysql_global_status_sort_merge_passes{namespace=~"$namespace",service=~"$app",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Sort Merge Passes - {{pod}}
        refId: C
      - exemplar: true
        expr: rate(mysql_global_status_sort_scan{namespace=~"$namespace",service=~"$app",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Sort Scan - {{pod}}
        refId: D
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Sorts
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1134
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:1135
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 44
      id: 27
      panels: []
      title: Table Locks and Questions
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 45
      hiddenSeries: false
      id: 28
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_table_locks_immediate{namespace=~"$namespace",service=~"$app",pod=~"$pod"}[5m])
        interval: ""
        legendFormat: Table Locks Immediate - {{pod}}
        refId: A
      - exemplar: true
        expr: rate(mysql_global_status_table_locks_waited{namespace=~"$namespace",service=~"$app",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Table Locks Waited - {{pod}}
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Table Locks
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1493
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:1494
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 45
      hiddenSeries: false
      id: 29
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_questions{namespace=~"$namespace",service=~"$app",pod=~"$pod"}[5m])
        interval: ""
        legendFormat: Questions - {{pod}}
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Questions
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1550
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:1551
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 52
      id: 31
      panels: []
      title: Network
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      description: |2-
    
    
        Here we can see how much network traffic is generated by MySQL. Outbound is network traffic sent from MySQL and Inbound is network traffic MySQL has received.
      editable: true
      error: false
      fieldConfig:
        defaults:
          links: []
        overrides: []
      fill: 6
      fillGradient: 0
      grid: {}
      gridPos:
        h: 10
        w: 24
        x: 0
        "y": 53
      hiddenSeries: false
      id: 9
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: false
        show: true
        sort: avg
        sortDesc: true
        total: false
        values: true
      lines: true
      linewidth: 2
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      paceLength: 10
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: true
      steppedLine: false
      targets:
      - calculatedInterval: 2m
        datasourceErrors: {}
        errors: {}
        exemplar: true
        expr: rate(mysql_global_status_bytes_received{namespace=~"$namespace",service=~"$app",pod=~"$pod"}[5m])
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: Inbound - {{pod}}
        metric: ""
        refId: A
        step: 20
      - calculatedInterval: 2m
        datasourceErrors: {}
        errors: {}
        exemplar: true
        expr: rate(mysql_global_status_bytes_sent{namespace=~"$namespace",service=~"$app",pod=~"$pod"}[5m])
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: Outbound - {{pod}}
        metric: ""
        refId: B
        step: 20
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Network Traffic
      tooltip:
        msResolution: false
        shared: true
        sort: 5
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1886
        decimals: 2
        format: Bps
        logBase: 1
        max: null
        min: 0
        show: true
      - $$hashKey: object:1887
        format: none
        logBase: 1
        max: null
        min: 0
        show: false
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: true
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      description: |2-
    
    
        Here we can see how much network traffic is generated by MySQL. Outbound is network traffic sent from MySQL and Inbound is network traffic MySQL has received.
      editable: true
      error: false
      fieldConfig:
        defaults:
          links: []
        overrides: []
      fill: 6
      fillGradient: 0
      grid: {}
      gridPos:
        h: 10
        w: 24
        x: 0
        "y": 63
      hiddenSeries: false
      id: 44
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: false
        show: true
        sort: avg
        sortDesc: true
        total: false
        values: true
      lines: false
      linewidth: 2
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      paceLength: 10
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: true
      steppedLine: false
      targets:
      - calculatedInterval: 2m
        datasourceErrors: {}
        errors: {}
        exemplar: true
        expr: increase(mysql_global_status_bytes_received{namespace=~"$namespace",service=~"$app",pod=~"$pod"}[1h])
        format: time_series
        instant: false
        interval: 1h
        intervalFactor: 1
        legendFormat: Received - {{pod}}
        metric: ""
        refId: A
        step: 20
      - calculatedInterval: 2m
        datasourceErrors: {}
        errors: {}
        exemplar: true
        expr: increase(mysql_global_status_bytes_sent{namespace=~"$namespace",service=~"$app",pod=~"$pod"}[1h])
        format: time_series
        interval: 1h
        intervalFactor: 1
        legendFormat: Sent - {{pod}}
        metric: ""
        refId: B
        step: 20
      thresholds: []
      timeFrom: 24h
      timeRegions: []
      timeShift: null
      title: MySQL Network Usage Hourly
      tooltip:
        msResolution: false
        shared: true
        sort: 5
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1513
        decimals: 2
        format: bytes
        logBase: 1
        max: null
        min: 0
        show: true
      - $$hashKey: object:1514
        format: none
        logBase: 1
        max: null
        min: 0
        show: false
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 73
      id: 48
      panels: []
      title: Memory
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: ""
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 74
      hiddenSeries: false
      id: 50
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: mysql_global_variables_innodb_buffer_pool_size{namespace="$namespace",service="$app",pod="$pod"}
        hide: false
        interval: ""
        legendFormat: InnoDB Buffer Pool Size - {{pod}}
        refId: A
      - exemplar: true
        expr: mysql_global_variables_innodb_log_buffer_size{namespace="$namespace",service="$app",pod="$pod"}
        hide: false
        interval: ""
        legendFormat: InnoDB Log Buffer Size - {{pod}}
        refId: B
      - exemplar: true
        expr: mysql_global_status_innodb_mem_dictionary{namespace="$namespace",service="$app",pod="$pod"}
        hide: false
        interval: ""
        legendFormat: InnoDB Dictionary Size - {{pod}}
        refId: D
      - exemplar: false
        expr: mysql_global_variables_key_buffer_size{namespace="$namespace",service="$app",pod="$pod"}
        hide: false
        interval: ""
        legendFormat: Key Buffer Size - {{pod}}
        refId: E
      - exemplar: true
        expr: mysql_global_variables_query_cache_size{namespace="$namespace",service="$app",pod="$pod"}
        hide: false
        interval: ""
        legendFormat: Query Cache Size - {{pod}}
        refId: F
      - exemplar: true
        expr: mysql_global_status_innodb_mem_adaptive_hash{namespace="$namespace",service="$app",pod="$pod"}
        hide: false
        interval: ""
        legendFormat: Adaptive Hash Index Size - {{pod}}
        refId: G
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Internal Memory Overview
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:237
        format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:238
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 82
      id: 46
      panels: []
      title: Command, Handlers
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 83
      hiddenSeries: false
      id: 18
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: false
        hideZero: false
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 2
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: topk(5, rate(mysql_global_status_commands_total{namespace=~"$namespace",service=~"$app",pod=~"$pod"}[5m]))
        instant: false
        interval: ""
        legendFormat: Com_{{ command }} - {{pod}}
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Top Command Counters
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:283
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:284
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: true
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      description: |2-
    
    
        Here we can see how much network traffic is generated by MySQL. Outbound is network traffic sent from MySQL and Inbound is network traffic MySQL has received.
      editable: true
      error: false
      fieldConfig:
        defaults:
          links: []
          unit: none
        overrides: []
      fill: 6
      fillGradient: 0
      grid: {}
      gridPos:
        h: 10
        w: 24
        x: 0
        "y": 91
      hiddenSeries: false
      id: 51
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: true
        show: true
        sort: avg
        sortDesc: true
        total: false
        values: true
      lines: false
      linewidth: 2
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      paceLength: 10
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: true
      steppedLine: false
      targets:
      - calculatedInterval: 2m
        datasourceErrors: {}
        errors: {}
        exemplar: true
        expr: topk(5, avg by (pod,command) (increase(mysql_global_status_commands_total{namespace=~"$namespace",service=~"$app",pod=~"$pod"}[1h])>0))
        format: time_series
        instant: false
        interval: 1h
        intervalFactor: 1
        legendFormat: Com_{{ command }} - {{pod}}
        metric: ""
        refId: A
        step: 20
      thresholds: []
      timeFrom: 24h
      timeRegions: []
      timeShift: null
      title: Top Command Counter Hourly
      tooltip:
        msResolution: false
        shared: true
        sort: 5
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1513
        decimals: 2
        format: none
        logBase: 1
        max: null
        min: 0
        show: true
      - $$hashKey: object:1514
        format: none
        logBase: 1
        max: null
        min: 0
        show: false
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: ""
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 101
      hiddenSeries: false
      id: 32
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: false
        hideZero: false
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 2
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_handlers_total{namespace=~"$namespace",service=~"$app",pod=~"$pod"}[5m])>0
        instant: false
        interval: ""
        legendFormat: '{{ handler }} - {{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Handlers
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:283
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:284
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 109
      id: 53
      panels: []
      title: Query Cache
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 110
      hiddenSeries: false
      id: 54
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_qcache_free_memory{namespace=~"$namespace",service=~"$app",pod=~"$pod"}[5m])
        interval: ""
        legendFormat: Query Cache Size - {{pod}}
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Query Cache Memory
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2422
        format: bytes
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:2423
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      fieldConfig:
        defaults:
          unit: none
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 110
      hiddenSeries: false
      id: 55
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_qcache_hits{namespace=~"$namespace",service=~"$app",pod=~"$pod"}[5m])
        interval: ""
        legendFormat: Hits - {{pod}}
        refId: A
      - exemplar: true
        expr: rate(mysql_global_status_qcache_inserts{namespace=~"$namespace",service=~"$app",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Inserts - {{pod}}
        refId: B
      - exemplar: true
        expr: rate(mysql_global_status_qcache_not_cached{namespace=~"$namespace",service=~"$app",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Not Cached - {{pod}}
        refId: C
      - exemplar: true
        expr: rate(mysql_global_status_qcache_lowmem_prunes{namespace=~"$namespace",service=~"$app",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Prunes - {{pod}}
        refId: D
      - exemplar: true
        expr: rate(mysql_global_status_qcache_queries_in_cache{namespace=~"$namespace",service=~"$app",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Queries in Cache - {{pod}}
        refId: E
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Query Cache Activity
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2475
        format: none
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:2476
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 117
      id: 38
      panels: []
      title: Files and Tables
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 118
      hiddenSeries: false
      id: 34
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: mysql_global_status_opened_files{namespace=~"$namespace",service=~"$app",pod=~"$pod"}
        interval: ""
        legendFormat: Openings - {{pod}}
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL File Openings
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2585
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:2586
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 118
      hiddenSeries: false
      id: 36
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: mysql_global_status_open_files{namespace=~"$namespace",service=~"$app",pod=~"$pod"}
        interval: ""
        legendFormat: Open Files - {{pod}}
        refId: A
      - exemplar: true
        expr: mysql_global_variables_open_files_limit{namespace=~"$namespace",service=~"$app",pod=~"$pod"}
        interval: ""
        legendFormat: Open Files Limit - {{pod}}
        refId: B
      - exemplar: true
        expr: mysql_global_status_innodb_num_open_files{namespace=~"$namespace",service=~"$app",pod=~"$pod"}
        interval: ""
        legendFormat: InnoDB Open Files - {{pod}}
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Open Files
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2640
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:2641
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 125
      id: 41
      panels: []
      title: MySQL Table Openings and Definition Cache
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 126
      hiddenSeries: false
      id: 39
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(mysql_global_status_opened_tables{namespace=~"$namespace",service=~"$app",pod=~"$pod"}[5m])
        interval: ""
        legendFormat: Openings - {{pod}}
        refId: A
      - exemplar: true
        expr: rate(mysql_global_status_table_open_cache_hits{namespace=~"$namespace",service=~"$app",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Hits - {{pod}}
        refId: B
      - exemplar: true
        expr: rate(mysql_global_status_table_open_cache_misses{namespace=~"$namespace",service=~"$app",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Misses - {{pod}}
        refId: C
      - exemplar: true
        expr: rate(mysql_global_status_table_open_cache_overflows{namespace=~"$namespace",service=~"$app",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Misses due to Overflows - {{pod}}
        refId: D
      - exemplar: true
        expr: rate(mysql_global_status_table_open_cache_hits{namespace=~"$namespace",service=~"$app",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Table Open Cache Hit Ratio - {{pod}}
        refId: E
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Table Open Cache Status
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2748
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:2749
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 126
      hiddenSeries: false
      id: 42
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: mysql_global_status_open_tables{namespace=~"$namespace",service=~"$app",pod=~"$pod"}
        interval: ""
        legendFormat: Open Tables - {{pod}}
        refId: A
      - exemplar: true
        expr: mysql_global_variables_table_open_cache{namespace=~"$namespace",service=~"$app",pod=~"$pod"}
        interval: ""
        legendFormat: Table Open Cache - {{pod}}
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Open Tables
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2909
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:2910
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 133
      hiddenSeries: false
      id: 43
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: mysql_global_status_open_table_definitions{namespace=~"$namespace",service=~"$app",pod=~"$pod"}
        interval: ""
        legendFormat: Open Table Definitions - {{pod}}
        refId: A
      - exemplar: true
        expr: mysql_global_variables_table_definition_cache{namespace=~"$namespace",service=~"$app",pod=~"$pod"}
        interval: ""
        legendFormat: Table Definitions Cache Size - {{pod}}
        refId: B
      - exemplar: true
        expr: mysql_global_status_opened_table_definitions{namespace=~"$namespace",service=~"$app",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: Opened Table Definitions - {{pod}}
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: MySQL Table Definition Cache
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2964
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:2965
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    refresh: false
    schemaVersion: 27
    style: dark
    tags: []
    templating:
      list:
      - current:
          selected: false
          text: default
          value: default
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Datasource
        multi: false
        name: datasource
        options: []
        query: prometheus
        queryValue: ""
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: null
        current:
          selected: false
          text: demo
          value: demo
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Namespace
        multi: false
        name: namespace
        options: []
        query: label_values(kube_namespace_created,namespace)
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text: sample-perconaxtradb-stats
          value: sample-perconaxtradb-stats
        datasource: ${datasource}
        description: ""
        error: null
        hide: 0
        includeAll: false
        label: PerconaXtraDB
        multi: false
        name: app
        options: []
        query: label_values(mysql_up{namespace=~"$namespace"}, service)
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: true
          tags: []
          text:
          - sample-perconaxtradb-0
          value:
          - sample-perconaxtradb-0
        datasource: ${datasource}
        definition: label_values(mysql_up{namespace=~"$namespace", service=~"$app"}, pod)
        description: null
        error: null
        hide: 0
        includeAll: true
        label: Pod
        multi: true
        name: pod
        options: []
        query: label_values(mysql_up{namespace=~"$namespace", service=~"$app"}, pod)
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-6h
      to: now
    timepicker: {}
    timezone: ""
    title: KubeDB / PerconaXtraDB / Pod
    version: 3
  overwrite: true
  templatize:
    title: false
    datasource: false
---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-perconaxtradb-summary
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: PerconaXtraDB
    k8s.io/resource: perconaxtradbs
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - builtIn: 1
        datasource: -- Grafana --
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        target:
          limit: 100
          matchAny: false
          tags: []
          type: dashboard
        type: dashboard
    description: The dashboard is designed for KubeDB managed PerconaXtraDB
    editable: true
    gnetId: 9628
    graphTooltip: 0
    iteration: 1682812923176
    links: []
    panels:
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 0
      id: 136
      panels: []
      title: General Info
      type: row
    - datasource: ${datasource}
      description: Represent database status
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          mappings:
          - options:
              Critical:
                color: dark-yellow
                index: 1
              DataRestoring:
                color: dark-red
                index: 4
              Halted:
                color: dark-red
                index: 5
              NotReady:
                color: dark-red
                index: 2
              Provisioning:
                color: text
                index: 3
              Ready:
                color: semi-dark-green
                index: 0
            type: value
          thresholds:
            mode: absolute
            steps:
            - color: text
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 8
        x: 0
        "y": 1
      id: 78
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: /^phase$/
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: |
          kubedb_com_perconaxtradb_status_phase{namespace="$namespace", app="$app"} == 1
        format: table
        instant: true
        interval: ""
        legendFormat: '{{phase}}'
        refId: A
      title: Database Status
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      description: PerconaXtraDB CR Name
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: palette-classic
          mappings:
          - options:
              match: "null"
              result:
                index: 0
                text: N/A
            type: special
          noValue: N/A
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 8
        x: 8
        "y": 1
      id: 36
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - mean
          fields: ""
          values: false
        text:
          valueSize: 50
        textMode: name
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_perconaxtradb_info{namespace="$namespace", app="$app"}
        format: time_series
        instant: true
        interval: ""
        intervalFactor: 1
        legendFormat: '{{version}}'
        refId: A
      title: Version
      type: stat
    - datasource: ${datasource}
      description: When this option is enabled, connections attempted using insecure transport
        will be rejected.
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings:
          - from: ""
            id: 1
            text: "True"
            to: ""
            type: 1
            value: "1"
          - from: ""
            id: 2
            text: "False"
            to: ""
            type: 1
            value: "0"
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 16
        "y": 1
      id: 82
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: value
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_perconaxtradb_info{namespace="$namespace", app="$app"}
        format: time_series
        instant: true
        interval: ""
        legendFormat: '{{requireSSL}}'
        refId: A
      timeFrom: null
      timeShift: null
      title: Require Secure Transport
      type: stat
    - datasource: ${datasource}
      description: KubeDB Database Resource terminationPolicy
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          mappings:
          - options:
              Delete:
                color: yellow
                index: 1
              DoNotTerminate:
                color: green
                index: 2
              Halt:
                color: blue
                index: 3
              WipeOut:
                color: dark-red
                index: 0
            type: value
          thresholds:
            mode: absolute
            steps:
            - color: text
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 20
        "y": 1
      id: 84
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: /^terminationPolicy$/
          values: false
        text: {}
        textMode: value
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_perconaxtradb_info{namespace="$namespace", app="$app"}
        format: table
        instant: true
        interval: ""
        legendFormat: '{{terminationPolicy}}'
        refId: A
      title: Termination Policy
      type: stat
    - datasource: ${datasource}
      description: Total node count of PerconaXtraDB cluster
      fieldConfig:
        defaults:
          color:
            fixedColor: green
            mode: fixed
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 0
        "y": 4
      id: 76
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_perconaxtradb_replicas{namespace="$namespace",app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Total Nodes
      type: stat
    - datasource: ${datasource}
      description: Initial Requested CPU amount by PerconaXtraDB Instance
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          min: 0
          thresholds:
            mode: percentage
            steps:
            - color: green
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 4
        "y": 4
      id: 92
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_perconaxtradb_resource_request_cpu{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: CPU Request (Core)
      type: stat
    - datasource: ${datasource}
      description: CPU Limit in core by PerconaXtraDB instance
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 8
        "y": 4
      id: 114
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_perconaxtradb_resource_limit_cpu{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: CPU Limit (Core)
      type: stat
    - datasource: ${datasource}
      description: Initial Requested Memory amount by PerconaXtraDB Instance
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          min: 0
          thresholds:
            mode: percentage
            steps:
            - color: green
              value: null
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 12
        "y": 4
      id: 94
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_perconaxtradb_resource_request_memory{namespace="$namespace",
          app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Memory Request
      type: stat
    - datasource: ${datasource}
      description: KubeDB perconaxtradb Total Memory Limit
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 16
        "y": 4
      id: 116
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_perconaxtradb_resource_limit_memory{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Memory Limit
      type: stat
    - datasource: ${datasource}
      description: Total storage request by perconaxtradb nodes
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          min: 0
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 20
        "y": 4
      id: 96
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_perconaxtradb_resource_request_storage{namespace="$namespace",
          app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Storage Request
      type: stat
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 7
      id: 138
      panels: []
      title: CPU Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: CPU Usage by PerconaXtraDB pods
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 8
      hiddenSeries: false
      id: 98
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{namespace="$namespace",
          pod=~"$app-\\d+$"}) by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: CPU Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      description: CPU Quote information in details
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            displayMode: auto
            filterable: false
          decimals: 2
          displayName: ""
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: Time
          properties:
          - id: displayName
            value: Time
          - id: custom.align
            value: null
          - id: custom.width
            value: null
        - matcher:
            id: byName
            options: 'Value #A'
          properties:
          - id: displayName
            value: CPU Usage
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #B'
          properties:
          - id: displayName
            value: CPU Requests
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #C'
          properties:
          - id: displayName
            value: CPU Requests %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #D'
          properties:
          - id: displayName
            value: CPU Limits
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #E'
          properties:
          - id: displayName
            value: CPU Limits %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: pod
          properties:
          - id: displayName
            value: Pod
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: links
            value:
            - targetBlank: false
              title: Drill down
              url: ./d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-pod=$__cell
          - id: custom.align
            value: null
      gridPos:
        h: 6
        w: 24
        x: 0
        "y": 15
      id: 122
      links: []
      options:
        showHeader: true
        sortBy: []
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: sum(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{namespace="$namespace",
          pod=~"$app-\\d+$"}) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
        step: 10
      - exemplar: true
        expr: sum(cluster:namespace:pod_cpu:active:kube_pod_container_resource_requests{namespace="$namespace",
          pod=~"$app-\\d+$"}) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: B
        step: 10
      - exemplar: true
        expr: sum(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{namespace="$namespace",
          pod=~"$app-\\d+$"}) by (pod) / sum(cluster:namespace:pod_cpu:active:kube_pod_container_resource_requests{namespace="$namespace",
          pod=~"$app-\\d+$"}) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: C
        step: 10
      - exemplar: true
        expr: sum(cluster:namespace:pod_cpu:active:kube_pod_container_resource_limits{namespace="$namespace",
          pod=~"$app-\\d+$"}) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: D
        step: 10
      - exemplar: true
        expr: sum(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{namespace="$namespace",
          pod=~"$app-\\d+$"}) by (pod) / sum(cluster:namespace:pod_cpu:active:kube_pod_container_resource_limits{namespace="$namespace",
          pod=~"$app-\\d+$"}) by (pod)
        format: table
        hide: false
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: E
        step: 10
      timeFrom: null
      timeShift: null
      title: CPU Quota
      transformations:
      - id: merge
        options:
          reducers: []
      type: table
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 21
      id: 140
      panels: []
      title: Memory Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Memory Usage by PerconaXtraDB pods
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 6
        w: 24
        x: 0
        "y": 22
      hiddenSeries: false
      id: 100
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(node_namespace_pod_container:container_memory_working_set_bytes{namespace="$namespace",
          pod=~"$app-\\d+$",container!=""}) by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Memory Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            displayMode: auto
            filterable: false
          decimals: 2
          displayName: ""
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: Time
          properties:
          - id: displayName
            value: Time
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #A'
          properties:
          - id: displayName
            value: Memory Usage
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #B'
          properties:
          - id: displayName
            value: Memory Requests
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #C'
          properties:
          - id: displayName
            value: Memory Requests %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #D'
          properties:
          - id: displayName
            value: Memory Limits
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #E'
          properties:
          - id: displayName
            value: Memory Limits %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #F'
          properties:
          - id: displayName
            value: Memory Usage (RSS)
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #G'
          properties:
          - id: displayName
            value: Memory Usage (Cache)
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #H'
          properties:
          - id: displayName
            value: Memory Usage (Swap)
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: pod
          properties:
          - id: displayName
            value: Pod
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: links
            value:
            - targetBlank: false
              title: Drill down
              url: ./d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-pod=$__cell
          - id: custom.align
            value: null
      gridPos:
        h: 6
        w: 24
        x: 0
        "y": 28
      id: 124
      links: []
      options:
        showHeader: true
        sortBy:
        - desc: true
          displayName: Memory Usage
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{namespace="$namespace",pod=~"$app-\\d+$",container!="",
          image!=""}) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
        step: 10
      - exemplar: true
        expr: sum(cluster:namespace:pod_memory:active:kube_pod_container_resource_requests{namespace="$namespace",pod=~"$app-\\d+$"})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: B
        step: 10
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{namespace="$namespace",pod=~"$app-\\d+$",container!="",
          image!=""}) by (pod) / sum(cluster:namespace:pod_memory:active:kube_pod_container_resource_requests{namespace="$namespace",pod=~"$app-\\d+$"})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: C
        step: 10
      - exemplar: true
        expr: sum(cluster:namespace:pod_memory:active:kube_pod_container_resource_limits{namespace="$namespace",pod=~"$app-\\d+$"})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: D
        step: 10
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{namespace="$namespace",pod=~"$app-\\d+$",container!="",
          image!=""}) by (pod) / sum(cluster:namespace:pod_memory:active:kube_pod_container_resource_limits{namespace="$namespace",
          pod=~"$app-\\d+$"}) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: E
        step: 10
      - exemplar: true
        expr: sum(container_memory_rss{namespace="$namespace",pod=~"$app-\\d+$",container!=""})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: F
        step: 10
      - exemplar: true
        expr: sum(container_memory_cache{namespace="$namespace",pod=~"$app-\\d+$",container!=""})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: G
        step: 10
      - exemplar: true
        expr: sum(container_memory_swap{namespace="$namespace",pod=~"$app-\\d+$",container!=""})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: H
        step: 10
      timeFrom: null
      timeShift: null
      title: Memory Quota
      transformations:
      - id: merge
        options:
          reducers: []
      type: table
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 34
      id: 142
      panels: []
      title: Storage Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Disk usage by PerconaXtraDB pods
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 9
        w: 12
        x: 0
        "y": 35
      hiddenSeries: false
      id: 112
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: avg(container_blkio_device_usage_total{namespace="$namespace", pod=~"$app-\\d+$"})
          by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Disk Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: System Disk Usage Information
      fieldConfig:
        defaults:
          unit: none
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 9
        w: 12
        x: 12
        "y": 35
      hiddenSeries: false
      id: 108
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(rate(container_fs_writes_total{namespace="$namespace", pod=~"$app-\\d+$"}[5m]))by(pod)
        instant: false
        interval: ""
        intervalFactor: 1
        legendFormat: '{{pod}}-disk-write'
        refId: A
      - exemplar: true
        expr: sum(rate(container_fs_reads_total{namespace="$namespace", pod=~"$app-\\d+$"}[5m]))by(pod)
        hide: false
        instant: false
        interval: ""
        legendFormat: '{{pod}}-disk-read'
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Disk R/W Info
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: none
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: short
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 44
      hiddenSeries: false
      id: 126
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: ceil(sum by(pod) (rate(container_fs_reads_total{container!="", namespace=~"$namespace",
          pod=~"$app-\\d+$"}[5m]) + rate(container_fs_writes_total{container!="" ,namespace=~"$namespace",
          pod=~"$app-\\d+$"}[5m])))
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: IOPS (Reads+Writes)
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: Bps
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 44
      hiddenSeries: false
      id: 128
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_bytes_total{container!="", namespace=~"$namespace",
          pod=~"$app-\\d+$"}[5m]) + rate(container_fs_writes_bytes_total{container!=""
          ,namespace=~"$namespace", pod=~"$app-\\d+$"}[5m]))
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: ThroughPut (Read+Write)
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: Bps
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            displayMode: auto
            filterable: false
          decimals: 2
          displayName: ""
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: Time
          properties:
          - id: displayName
            value: Time
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #A'
          properties:
          - id: displayName
            value: IOPS(Reads)
          - id: unit
            value: short
          - id: decimals
            value: -1
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #B'
          properties:
          - id: displayName
            value: IOPS(Writes)
          - id: unit
            value: short
          - id: decimals
            value: -1
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #C'
          properties:
          - id: displayName
            value: IOPS(Reads + Writes)
          - id: unit
            value: short
          - id: decimals
            value: -1
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #D'
          properties:
          - id: displayName
            value: Throughput(Read)
          - id: unit
            value: Bps
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #E'
          properties:
          - id: displayName
            value: Throughput(Write)
          - id: unit
            value: Bps
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #F'
          properties:
          - id: displayName
            value: Throughput(Read + Write)
          - id: unit
            value: Bps
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: pod
          properties:
          - id: displayName
            value: Pod
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: links
            value:
            - targetBlank: false
              title: Drill down to pods
              url: ./d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-pod=$__cell
          - id: custom.align
            value: null
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 51
      id: 130
      links: []
      options:
        showHeader: true
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_total{container!="", pod=~"$app-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_writes_total{container!="", pod=~"$app-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: B
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_total{container!="", pod=~"$app-\\d+$",namespace=~"$namespace"}[5m])
          + rate(container_fs_writes_total{container!="",pod=~"$app-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: C
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_bytes_total{container!="", pod=~"$app-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: D
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_writes_bytes_total{container!="", pod=~"$app-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: E
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_bytes_total{container!="", pod=~"$app-\\d+$",namespace=~"$namespace"}[5m])
          + rate(container_fs_writes_bytes_total{container!="",pod=~"$app-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: F
        step: 10
      timeFrom: null
      timeShift: null
      title: Current Storage IO
      transformations:
      - id: merge
        options:
          reducers: []
      type: table
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 58
      id: 152
      panels: []
      title: Persistent Storage Insight
      type: row
    - datasource: ${datasource}
      description: |
        This panel describes allocated persistent storage in a table format
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: center
            displayMode: color-text
            filterable: false
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: light-blue
              value: null
          unit: decbytes
        overrides: []
      gridPos:
        h: 6
        w: 12
        x: 0
        "y": 59
      id: 148
      options:
        showHeader: true
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubelet_volume_stats_capacity_bytes + on(persistentvolumeclaim) group_left(pod)
          kube_pod_spec_volumes_persistentvolumeclaims_info{pod=~"$app-\\d+$",namespace=~"$namespace"}
        format: table
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Allocated Storage
      transformations:
      - id: organize
        options:
          excludeByName:
            Time: true
            endpoint: true
            instance: true
            job: true
            metrics_path: true
            namespace: true
            node: true
            persistentvolumeclaim: true
            service: true
          indexByName: {}
          renameByName:
            Value: Volume
            pod: Pod
      type: table
    - datasource: ${datasource}
      description: 'This panel shows the persistent volume usage in percentage. '
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: percent
        overrides: []
      gridPos:
        h: 6
        w: 12
        x: 12
        "y": 59
      id: 150
      options:
        displayMode: gradient
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        showUnfilled: true
        text: {}
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: (kubelet_volume_stats_used_bytes / on(persistentvolumeclaim) group_left(pod)
          (kubelet_volume_stats_capacity_bytes + on(persistentvolumeclaim) group_left(pod)
          kube_pod_spec_volumes_persistentvolumeclaims_info{pod=~"$app-\\d+$",namespace=~"$namespace"})
          )* 100
        instant: true
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      title: Persistent Volume Usage
      transformations: []
      type: bargauge
    - datasource: ${datasource}
      description: 'This panel describes the persistent volume usage in a time series. '
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            axisSoftMax: 5000
            axisSoftMin: 0
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: opacity
            hideFrom:
              graph: false
              legend: false
              tooltip: false
            lineInterpolation: linear
            lineStyle:
              fill: solid
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: true
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: decbytes
        overrides: []
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 65
      id: 146
      options:
        graph: {}
        legend:
          calcs:
          - max
          - lastNotNull
          displayMode: table
          placement: right
        tooltipOptions:
          mode: single
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: '(kubelet_volume_stats_used_bytes + on(persistentvolumeclaim) group_left(pod)
          kube_pod_spec_volumes_persistentvolumeclaims_info{pod=~"$app-\\d+$",namespace=~"$namespace"}) '
        interval: ""
        intervalFactor: 1
        legendFormat: '{{pod}}'
        refId: A
      title: Persistent Volume Usage History
      type: timeseries
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 73
      id: 144
      panels: []
      title: Network Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 74
      hiddenSeries: false
      id: 132
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(irate(container_network_receive_bytes_total{namespace=~"$namespace",
          pod=~"$app-\\d+$"}[$__rate_interval])) by (pod)
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Receive Bandwidth
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: Bps
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: Bps
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 74
      hiddenSeries: false
      id: 134
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(irate(container_network_transmit_bytes_total{namespace=~"$namespace",
          pod=~"$app-\\d+$"}[$__rate_interval])) by (pod)
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Transmit Bandwidth
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: Bps
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    refresh: 10s
    schemaVersion: 27
    style: dark
    tags:
    - db
    - stats
    - kubedb
    - perconaxtradb
    templating:
      list:
      - current:
          selected: false
          text: Prometheus
          value: Prometheus
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Datasource
        multi: false
        name: datasource
        options: []
        query: prometheus
        queryValue: ""
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: '".+"'
        current:
          selected: false
          text: demo
          value: demo
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Namespace
        multi: false
        name: namespace
        options: []
        query:
          query: label_values(kube_namespace_created,namespace)
          refId: Prometheus-namespace-Variable-Query
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text: coreos-prom-px
          value: coreos-prom-px
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: PerconaXtraDB
        multi: false
        name: app
        options: []
        query:
          query: label_values(kubedb_com_perconaxtradb_status_phase{namespace=~"$namespace"},app)
          refId: Prometheus-app-Variable-Query
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-6h
      to: now
    timepicker:
      refresh_intervals:
      - 5s
      - 10s
      - 30s
      - 1m
      - 5m
      - 15m
      - 30m
      - 1h
      - 2h
      - 1d
      time_options:
      - 5m
      - 15m
      - 1h
      - 6h
      - 12h
      - 24h
      - 2d
      - 7d
      - 30d
    timezone: ""
    title: KubeDB / PerconaXtraDB / Summary
    version: 2
  overwrite: true
  templatize:
    title: false
    datasource: false
---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-postgres-database
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: Postgres
    k8s.io/resource: postgreses
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - builtIn: 1
        datasource: -- Grafana --
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        target:
          limit: 100
          matchAny: false
          tags: []
          type: dashboard
        type: dashboard
    description: This dashboard works with postgres_exporter for prometheus
    editable: true
    gnetId: 9628
    graphTooltip: 0
    iteration: 1633319925526
    links: []
    panels:
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 0
      id: 30
      panels: []
      title: Database Stats
      type: row
    - datasource: ${datasource}
      description: Query per second
      fieldConfig:
        defaults:
          color:
            fixedColor: dark-blue
            mode: fixed
          custom: {}
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 7
        w: 8
        x: 0
        "y": 1
      id: 72
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - mean
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.4.5
      targets:
      - exemplar: false
        expr: "sum(irate(pg_stat_database_xact_commit{datname=~\"$datname\", pod=\"$pod\",
          namespace=\"$namespace\"}[5m])) + \nsum(irate(pg_stat_database_xact_rollback{datname=~\"$datname\",
          pod=\"$pod\", namespace=\"$namespace\"}[5m]))"
        interval: ""
        legendFormat: ""
        refId: A
      title: QPS
      type: stat
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          custom: {}
          links: []
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 8
        x: 8
        "y": 1
      hiddenSeries: false
      id: 60
      legend:
        alignAsTable: true
        avg: true
        current: true
        max: false
        min: false
        rightSide: true
        show: true
        total: true
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.4.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: irate(pg_stat_database_xact_commit{pod="$pod", namespace="$namespace", datname=~"$datname"}[5m])
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: '{{datname}} commits'
        refId: A
      - exemplar: false
        expr: irate(pg_stat_database_xact_rollback{pod="$pod", namespace="$namespace",
          datname=~"$datname"}[5m])
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: '{{datname}} rollbacks'
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Transactions
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          custom: {}
          links: []
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 8
        x: 16
        "y": 1
      hiddenSeries: false
      id: 8
      legend:
        alignAsTable: true
        avg: true
        current: true
        max: false
        min: false
        rightSide: true
        show: true
        sideWidth: null
        sort: current
        sortDesc: true
        total: true
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.4.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: pg_stat_database_tup_updated{datname=~"$datname", pod="$pod", namespace="$namespace"}
          != 0
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{datname}}'
        refId: A
        step: 2
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Update data
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          custom: {}
          links: []
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 8
        x: 0
        "y": 8
      hiddenSeries: false
      id: 1
      legend:
        alignAsTable: true
        avg: true
        current: true
        max: true
        min: false
        rightSide: true
        show: true
        sort: current
        sortDesc: true
        total: false
        values: true
      lines: false
      linewidth: 1
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.4.5
      pointradius: 3
      points: true
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: pg_stat_activity_count{datname=~"$datname", pod="$pod", namespace="$namespace"}
          !=0
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{datname}}, s: {{state}}'
        refId: A
        step: 2
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Active sessions
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:203
        decimals: 0
        format: none
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:204
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          custom: {}
          links: []
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 8
        x: 8
        "y": 8
      hiddenSeries: false
      id: 6
      legend:
        alignAsTable: true
        avg: true
        current: true
        max: false
        min: false
        rightSide: true
        show: true
        sort: current
        sortDesc: true
        total: true
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.4.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: pg_stat_database_tup_inserted{datname=~"$datname", pod="$pod", namespace="$namespace"}
          != 0
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{datname}}'
        refId: A
        step: 2
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Insert data
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 0
      fieldConfig:
        defaults:
          custom: {}
          links: []
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 8
        x: 16
        "y": 8
      hiddenSeries: false
      id: 3
      legend:
        alignAsTable: true
        avg: true
        current: true
        hideEmpty: false
        max: false
        min: false
        rightSide: true
        show: true
        sort: current
        sortDesc: true
        total: true
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.4.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: pg_locks_count{datname=~"$datname", pod="$pod", namespace="$namespace"}
          != 0
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{datname}},{{mode}}'
        refId: A
        step: 2
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Lock tables
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - decimals: 0
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          custom: {}
          links: []
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 8
        x: 0
        "y": 15
      hiddenSeries: false
      id: 5
      legend:
        alignAsTable: true
        avg: true
        current: true
        max: false
        min: false
        rightSide: true
        show: true
        sort: current
        sortDesc: true
        total: true
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.4.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: pg_stat_database_tup_fetched{datname=~"$datname",pod="$pod", namespace="$namespace"}
          != 0
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{datname}}'
        refId: A
        step: 2
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Fetch data (SELECT)
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          custom: {}
          links: []
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 8
        x: 8
        "y": 15
      hiddenSeries: false
      id: 4
      legend:
        alignAsTable: true
        avg: false
        current: true
        max: true
        min: false
        rightSide: true
        show: true
        sort: current
        sortDesc: false
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.4.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: pg_stat_activity_count{datname=~"$datname", pod="$pod", namespace="$namespace",
          state=~"idle|idle in transaction|idle in transaction (aborted)"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{datname}}, s: {{state}}'
        refId: A
        step: 2
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Idle sessions
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          custom: {}
          links: []
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 8
        x: 16
        "y": 15
      hiddenSeries: false
      id: 7
      legend:
        alignAsTable: true
        avg: true
        current: true
        max: false
        min: false
        rightSide: true
        show: true
        sort: current
        sortDesc: true
        total: true
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.4.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: pg_stat_database_tup_deleted{datname=~"$datname", pod="$pod", namespace="$namespace"}
          != 0
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{datname}}'
        refId: A
        step: 2
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Delete data
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          custom: {}
          links: []
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 8
        x: 0
        "y": 22
      hiddenSeries: false
      id: 14
      legend:
        alignAsTable: true
        avg: true
        current: true
        max: false
        min: false
        rightSide: true
        show: true
        sort: total
        sortDesc: true
        total: true
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.4.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: pg_stat_database_tup_returned{datname=~"$datname",pod="$pod", namespace="$namespace"}
          != 0
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{datname}}'
        refId: A
        step: 2
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Return data
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          custom: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 8
        x: 8
        "y": 22
      hiddenSeries: false
      id: 64
      legend:
        alignAsTable: true
        avg: true
        current: true
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.4.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: irate(pg_stat_bgwriter_buffers_backend{pod="$pod", namespace="$namespace"}[5m])
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: buffers_backend
        refId: A
      - exemplar: false
        expr: irate(pg_stat_bgwriter_buffers_alloc{pod="$pod", namespace="$namespace"}[5m])
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: buffers_alloc
        refId: B
      - exemplar: false
        expr: irate(pg_stat_bgwriter_buffers_backend_fsync{pod="$pod", namespace="$namespace"}[5m])
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: backend_fsync
        refId: C
      - exemplar: false
        expr: irate(pg_stat_bgwriter_buffers_checkpoint{pod="$pod", namespace="$namespace"}[5m])
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: buffers_checkpoint
        refId: D
      - exemplar: false
        expr: irate(pg_stat_bgwriter_buffers_clean{pod="$pod", namespace="$namespace"}[5m])
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: buffers_clean
        refId: E
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Buffers (bgwriter)
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 0
      fieldConfig:
        defaults:
          custom: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 8
        x: 16
        "y": 22
      hiddenSeries: false
      id: 66
      legend:
        alignAsTable: true
        avg: true
        current: true
        max: false
        min: false
        rightSide: true
        show: true
        total: true
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.4.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: irate(pg_stat_database_conflicts{pod="$pod", namespace="$namespace", datname=~"$datname"}[5m])
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: '{{datname}} conflicts'
        refId: B
      - exemplar: false
        expr: irate(pg_stat_database_deadlocks{pod="$pod", namespace="$namespace", datname=~"$datname"}[5m])
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: '{{datname}} deadlocks'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Conflicts/Deadlocks
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      fieldConfig:
        defaults:
          custom: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 8
        x: 0
        "y": 29
      hiddenSeries: false
      id: 62
      legend:
        alignAsTable: true
        avg: true
        current: true
        max: false
        min: false
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.4.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: pg_stat_database_blks_hit{pod="$pod", namespace="$namespace", datname=~"$datname"}
          / (pg_stat_database_blks_read{pod="$pod", namespace="$namespace", datname=~"$datname"}
          + pg_stat_database_blks_hit{pod="$pod", namespace="$namespace", datname=~"$datname"})
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: '{{datname}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Cache Hit Rate
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - decimals: 4
        format: percentunit
        label: ""
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Total amount of data written to temporary files by queries in this
        database. All temporary files are counted, regardless of why the temporary file
        was created, and regardless of the log_temp_files setting.
      fieldConfig:
        defaults:
          custom: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 8
        x: 8
        "y": 29
      hiddenSeries: false
      id: 68
      legend:
        alignAsTable: true
        avg: true
        current: true
        max: false
        min: false
        rightSide: true
        show: true
        total: true
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.4.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: irate(pg_stat_database_temp_bytes{pod="$pod", namespace="$namespace", datname=~"$datname"}[5m])
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: '{{datname}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Temp File (Bytes)
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          custom: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 8
        x: 16
        "y": 29
      hiddenSeries: false
      id: 70
      legend:
        alignAsTable: true
        avg: true
        current: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.4.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: irate(pg_stat_bgwriter_checkpoint_write_time{pod="$pod", namespace="$namespace"}[5m])
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: write_time - Total amount of time that has been spent in the portion
          of checkpoint processing where files are written to disk.
        refId: B
      - exemplar: false
        expr: irate(pg_stat_bgwriter_checkpoint_sync_time{pod="$pod", namespace="$namespace"}[5m])
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: sync_time - Total amount of time that has been spent in the portion
          of checkpoint processing where files are synchronized to disk.
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Checkpoint Stats
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: ms
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: none
            hideFrom:
              graph: false
              legend: false
              tooltip: false
              viz: false
            lineInterpolation: linear
            lineStyle:
              fill: solid
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: true
            stacking: {}
            thresholdsStyle: {}
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides: []
      gridPos:
        h: 10
        w: 24
        x: 0
        "y": 36
      id: 74
      options:
        legend:
          calcs:
          - min
          - max
          - mean
          displayMode: table
          placement: right
        tooltip:
          mode: single
        tooltipOptions:
          mode: single
      pluginVersion: 8.1.2
      targets:
      - exemplar: false
        expr: sum(irate(pg_stat_database_tup_fetched{datname=~"$datname", pod="$pod",
          namespace="$namespace"}[5m]))
        interval: ""
        intervalFactor: 2
        legendFormat: fetched
        refId: A
      - exemplar: false
        expr: sum(irate(pg_stat_database_tup_returned{datname=~"$datname", pod="$pod",
          namespace="$namespace"}[5m]))
        hide: false
        interval: ""
        intervalFactor: 2
        legendFormat: returned
        refId: B
      - exemplar: false
        expr: sum(irate(pg_stat_database_tup_inserted{datname=~"$datname", pod="$pod",
          namespace="$namespace"}[5m]))
        hide: false
        interval: ""
        intervalFactor: 2
        legendFormat: inserted
        refId: C
      - exemplar: false
        expr: sum(irate(pg_stat_database_tup_updated{datname=~"$datname", pod="$pod",
          namespace="$namespace"}[5m]))
        hide: false
        interval: ""
        intervalFactor: 2
        legendFormat: updated
        refId: D
      - exemplar: false
        expr: sum(irate(pg_stat_database_tup_deleted{datname=~"$datname", pod="$pod",
          namespace="$namespace"}[5m]))
        hide: false
        interval: ""
        intervalFactor: 2
        legendFormat: deleted
        refId: E
      timeFrom: null
      timeShift: null
      title: Rows
      type: graph
    refresh: ""
    schemaVersion: 27
    style: dark
    tags:
    - postgres
    - db
    - stats
    templating:
      list:
      - current:
          selected: false
          text: Prometheus
          value: Prometheus
        description: null
        error: null
        hide: 0
        includeAll: false
        label: null
        multi: false
        name: datasource
        options: []
        query: prometheus
        queryValue: ""
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: '".+"'
        current:
          selected: false
          text: demo
          value: demo
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Namespace
        multi: false
        name: namespace
        options: []
        query: label_values(kube_namespace_created,namespace)
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: true
          text: ps-demo
          value: ps-demo
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: postgres
        multi: false
        name: app
        options: []
        query: query_result(kubedb_com_postgres_created{namespace="$namespace"})
        refresh: 1
        regex: /.*app="([^"]+).*/
        skipUrlSync: false
        sort: 1
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text: ps-demo-0
          value: ps-demo-0
        datasource: ${datasource}
        definition: label_values(pg_up{namespace=~"$namespace",pod=~"${app}-.*"},pod)
        description: null
        error: null
        hide: 0
        includeAll: false
        label: pod
        multi: false
        name: pod
        options: []
        query: label_values(pg_up{namespace=~"$namespace",pod=~"${app}-.*"},pod)
        refresh: 2
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: true
          text:
          - postgres
          value:
          - postgres
        datasource: ${datasource}
        definition: ""
        description: null
        error: null
        hide: 0
        includeAll: true
        label: Database
        multi: true
        name: datname
        options: []
        query: label_values(datname)
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 1
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-6h
      to: now
    timepicker:
      refresh_intervals:
      - 5s
      - 10s
      - 30s
      - 1m
      - 5m
      - 15m
      - 30m
      - 1h
      - 2h
      - 1d
      time_options:
      - 5m
      - 15m
      - 1h
      - 6h
      - 12h
      - 24h
      - 2d
      - 7d
      - 30d
    timezone: ""
    title: KubeDB / Postgres / Database
    version: 2
  overwrite: true
  templatize:
    title: false
    datasource: false
---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-postgres-pod
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: Postgres
    k8s.io/resource: postgreses
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - builtIn: 1
        datasource: -- Grafana --
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        target:
          limit: 100
          matchAny: false
          tags: []
          type: dashboard
        type: dashboard
    description: This dashboard works with postgres_exporter for prometheus
    editable: true
    gnetId: 9628
    graphTooltip: 0
    iteration: 1633324643830
    links: []
    panels:
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 0
      id: 34
      panels: []
      title: General Counters, CPU, Memory and File Descriptor Stats
      type: row
    - cacheTimeout: null
      datasource: ${datasource}
      description: Server Up
      fieldConfig:
        defaults:
          color:
            fixedColor: '#73BF69'
            mode: thresholds
          custom: {}
          mappings:
          - from: ""
            id: 1
            text: "Yes"
            to: ""
            type: 1
            value: "1"
          - from: ""
            id: 2
            text: "No"
            to: ""
            type: 1
            value: "0"
          thresholds:
            mode: absolute
            steps:
            - color: '#ffffff'
              value: null
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 0
        "y": 1
      id: 28
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - mean
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.4.5
      targets:
      - exemplar: false
        expr: pg_up{namespace="$namespace", pod="$pod"}
        format: time_series
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
      title: Server Up
      type: stat
    - datasource: ${datasource}
      description: Database Pod Role(Primary or Secondary)
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom: {}
          mappings:
          - from: "1"
            id: 1
            text: Primary
            to: "100000000000"
            type: 2
          - from: ""
            id: 2
            text: Secondary
            to: ""
            type: 1
            value: "Null"
          - from: ""
            id: 3
            text: Secondary
            to: ""
            type: 1
            value: "null"
          thresholds:
            mode: absolute
            steps:
            - color: '#ffffff'
              value: null
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 4
        "y": 1
      id: 86
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: value
      pluginVersion: 7.4.5
      targets:
      - exemplar: false
        expr: count(pg_stat_replication_reply_time{namespace = "$namespace", pod="$pod"})
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Role
      type: stat
    - datasource: ${datasource}
      description: Number of goroutines that currently exist.
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom: {}
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: '#ffffff'
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 8
        "y": 1
      id: 98
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.4.5
      targets:
      - exemplar: false
        expr: go_goroutines{namespace="$namespace", pod="$pod"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Go Routines
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom: {}
          mappings:
          - options:
              match: "null"
              result:
                text: N/A
            type: special
          thresholds:
            mode: absolute
            steps:
            - color: '#ffffff'
              value: null
          unit: decbytes
        overrides: []
      gridPos:
        h: 3
        w: 3
        x: 12
        "y": 1
      id: 10
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.4.5
      targets:
      - exemplar: false
        expr: SUM(pg_stat_database_tup_fetched{pod="$pod", namespace="$namespace"})
        format: time_series
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
        step: 4
      title: Current fetch data
      transformations: []
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom: {}
          mappings:
          - options:
              match: "null"
              result:
                text: N/A
            type: special
          thresholds:
            mode: absolute
            steps:
            - color: '#ffffff'
              value: null
          unit: decbytes
        overrides: []
      gridPos:
        h: 3
        w: 3
        x: 15
        "y": 1
      id: 11
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.4.5
      targets:
      - exemplar: false
        expr: SUM(pg_stat_database_tup_inserted{pod="$pod", namespace="$namespace"})
        format: time_series
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
        step: 4
      title: Current insert data
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom: {}
          mappings:
          - options:
              match: "null"
              result:
                text: N/A
            type: special
          thresholds:
            mode: absolute
            steps:
            - color: '#ffffff'
              value: null
          unit: decbytes
        overrides: []
      gridPos:
        h: 3
        w: 3
        x: 18
        "y": 1
      id: 12
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.4.5
      targets:
      - exemplar: false
        expr: SUM(pg_stat_database_tup_updated{pod="$pod", namespace="$namespace"})
        format: time_series
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
        step: 4
      title: Current update data
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom: {}
          mappings:
          - options:
              match: "null"
              result:
                text: N/A
            type: special
          thresholds:
            mode: absolute
            steps:
            - color: '#ffffff'
              value: null
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 3
        x: 21
        "y": 1
      id: 38
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - mean
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.4.5
      targets:
      - exemplar: false
        expr: pg_settings_max_connections{pod="$pod", namespace="$namespace"}
        format: time_series
        instant: true
        interval: ""
        intervalFactor: 1
        legendFormat: ""
        refId: A
      title: Max Connections
      type: stat
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Average user and system CPU time spent in seconds.
      fieldConfig:
        defaults:
          custom: {}
          links: []
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 8
        x: 0
        "y": 4
      hiddenSeries: false
      id: 22
      legend:
        alignAsTable: true
        avg: true
        current: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.4.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: avg(rate(process_cpu_seconds_total{pod="$pod", namespace="$namespace"}[5m])
          * 1000)
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: CPU Time
        refId: A
      - exemplar: false
        expr: ""
        hide: false
        interval: ""
        legendFormat: ""
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Average CPU Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      transformations:
      - id: merge
        options: {}
      - id: groupBy
        options: {}
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:261
        format: s
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:262
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Virtual and Resident memory size in bytes, averages over 5 min interval
      fieldConfig:
        defaults:
          custom: {}
          links: []
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 8
        x: 8
        "y": 4
      hiddenSeries: false
      id: 24
      legend:
        alignAsTable: true
        avg: true
        current: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.4.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: avg(rate(process_resident_memory_bytes{pod="$pod", namespace="$namespace"}[5m]))
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: Resident Mem
        refId: A
      - exemplar: false
        expr: avg(rate(process_virtual_memory_bytes{pod="$pod", namespace="$namespace"}[5m]))
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: Virtual Mem
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Average Memory Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:206
        decimals: null
        format: decbytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:207
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Number of open file descriptors
      fieldConfig:
        defaults:
          custom: {}
          links: []
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 8
        x: 16
        "y": 4
      hiddenSeries: false
      id: 26
      legend:
        alignAsTable: true
        avg: true
        current: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.4.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: SUM(process_open_fds{pod="$pod", namespace="$namespace"}) by (pod)
        format: time_series
        instant: false
        interval: ""
        intervalFactor: 2
        legendFormat: Open FD
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Open File Descriptors
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:299
        decimals: null
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:300
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 11
      id: 32
      panels: []
      title: Settings
      type: row
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom: {}
          mappings:
          - options:
              match: "null"
              result:
                text: N/A
            type: special
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 3
        x: 0
        "y": 12
      id: 40
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.4.5
      targets:
      - exemplar: false
        expr: pg_settings_shared_buffers_bytes{pod="$pod", namespace="$namespace"}
        format: time_series
        instant: true
        interval: ""
        intervalFactor: 1
        legendFormat: ""
        refId: A
      title: Shared Buffers
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom: {}
          mappings:
          - options:
              match: "null"
              result:
                text: N/A
            type: special
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 3
        x: 3
        "y": 12
      id: 42
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.4.5
      targets:
      - exemplar: false
        expr: pg_settings_effective_cache_size_bytes{pod="$pod", namespace="$namespace"}
        format: time_series
        instant: true
        interval: ""
        intervalFactor: 1
        legendFormat: ""
        refId: A
      title: Effective Cache
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom: {}
          mappings:
          - options:
              match: "null"
              result:
                text: N/A
            type: special
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 3
        x: 6
        "y": 12
      id: 44
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.4.5
      targets:
      - exemplar: false
        expr: pg_settings_maintenance_work_mem_bytes{pod="$pod", namespace="$namespace"}
        format: time_series
        instant: true
        interval: ""
        intervalFactor: 1
        legendFormat: ""
        refId: A
      title: Maintenance Work Mem
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom: {}
          mappings:
          - options:
              match: "null"
              result:
                text: N/A
            type: special
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 3
        x: 9
        "y": 12
      id: 46
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.4.5
      targets:
      - exemplar: false
        expr: pg_settings_work_mem_bytes{pod="$pod", namespace="$namespace"}
        format: time_series
        instant: true
        interval: ""
        intervalFactor: 1
        legendFormat: ""
        refId: A
      title: Work Mem
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom: {}
          decimals: 1
          mappings:
          - options:
              match: "null"
              result:
                text: N/A
            type: special
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 3
        x: 12
        "y": 12
      id: 48
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.4.5
      targets:
      - exemplar: false
        expr: pg_settings_max_wal_size_bytes{pod="$pod", namespace="$namespace"}
        format: time_series
        instant: true
        interval: ""
        intervalFactor: 1
        legendFormat: ""
        refId: A
      title: Max WAL Size
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom: {}
          mappings:
          - options:
              match: "null"
              result:
                text: N/A
            type: special
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 3
        x: 15
        "y": 12
      id: 50
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.4.5
      targets:
      - exemplar: false
        expr: pg_settings_random_page_cost{pod="$pod", namespace="$namespace"}
        format: time_series
        instant: true
        interval: ""
        intervalFactor: 1
        legendFormat: ""
        refId: A
      title: Random Page Cost
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom: {}
          mappings:
          - options:
              match: "null"
              result:
                text: N/A
            type: special
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 3
        x: 18
        "y": 12
      id: 54
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - mean
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.4.5
      targets:
      - exemplar: false
        expr: pg_settings_max_worker_processes{pod="$pod", namespace="$namespace"}
        format: time_series
        instant: true
        interval: ""
        intervalFactor: 1
        legendFormat: ""
        refId: A
      title: Max Worker Processes
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom: {}
          mappings:
          - options:
              match: "null"
              result:
                text: N/A
            type: special
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 3
        x: 21
        "y": 12
      id: 56
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.4.5
      targets:
      - exemplar: false
        expr: pg_settings_max_parallel_workers{pod="$pod", namespace="$namespace"}
        format: time_series
        instant: true
        interval: ""
        intervalFactor: 1
        legendFormat: ""
        refId: A
      title: Max Parallel Workers
      type: stat
    refresh: ""
    schemaVersion: 27
    style: dark
    tags:
    - postgres
    - db
    - stats
    templating:
      list:
      - current:
          selected: false
          text: Prometheus
          value: Prometheus
        description: null
        error: null
        hide: 0
        includeAll: false
        label: null
        multi: false
        name: datasource
        options: []
        query: prometheus
        queryValue: ""
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: '".+"'
        current:
          selected: false
          text: demo
          value: demo
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Namespace
        multi: false
        name: namespace
        options: []
        query: label_values(kube_namespace_created,namespace)
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text: ps-demo
          value: ps-demo
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: postgres
        multi: false
        name: app
        options: []
        query: query_result(kubedb_com_postgres_created{namespace="$namespace"})
        refresh: 1
        regex: /.*app="([^"]+).*/
        skipUrlSync: false
        sort: 1
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text: ps-demo-2
          value: ps-demo-2
        datasource: ${datasource}
        definition: label_values(pg_up{namespace=~"$namespace",pod=~"${app}-.*"},pod)
        description: null
        error: null
        hide: 0
        includeAll: false
        label: pod
        multi: false
        name: pod
        options: []
        query: label_values(pg_up{namespace=~"$namespace",pod=~"${app}-.*"},pod)
        refresh: 2
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-6h
      to: now
    timepicker:
      refresh_intervals:
      - 5s
      - 10s
      - 30s
      - 1m
      - 5m
      - 15m
      - 30m
      - 1h
      - 2h
      - 1d
      time_options:
      - 5m
      - 15m
      - 1h
      - 6h
      - 12h
      - 24h
      - 2d
      - 7d
      - 30d
    timezone: ""
    title: KubeDB / Postgres / Pod
    version: 2
  overwrite: true
  templatize:
    title: false
    datasource: false
---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-postgres-summary
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: Postgres
    k8s.io/resource: postgreses
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - builtIn: 1
        datasource: -- Grafana --
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        target:
          limit: 100
          matchAny: false
          tags: []
          type: dashboard
        type: dashboard
    description: This dashboard works with postgres_exporter for prometheus
    editable: true
    gnetId: 9628
    graphTooltip: 0
    iteration: 1705573409553
    links: []
    panels:
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 0
      id: 136
      panels: []
      title: General Info
      type: row
    - cacheTimeout: null
      datasource: ${datasource}
      description: Postgresql Version
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: thresholds
          mappings: []
          noValue: N/A
          thresholds:
            mode: absolute
            steps:
            - color: '#ffffff'
              value: null
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 0
        "y": 1
      id: 36
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: /^version$/
          values: false
        text: {}
        textMode: value
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: kubedb_com_postgres_info{namespace="$namespace", app="$app"}
        format: table
        instant: true
        interval: ""
        intervalFactor: 1
        legendFormat: '{{version}}'
        refId: A
      title: Version
      type: stat
    - datasource: ${datasource}
      description: Database uptime
      fieldConfig:
        defaults:
          color:
            fixedColor: light-blue
            mode: fixed
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: text
              value: null
          unit: s
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 4
        "y": 1
      id: 90
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: time() - kubedb_com_postgres_created{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Uptime
      type: stat
    - datasource: ${datasource}
      description: Total replica count of the Postgres database
      fieldConfig:
        defaults:
          color:
            fixedColor: green
            mode: fixed
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 8
        "y": 1
      id: 76
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: kubedb_com_postgres_replicas{namespace="$namespace",app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Total Replicas
      type: stat
    - datasource: ${datasource}
      description: Represent database status
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings:
          - options:
              Critical:
                color: dark-yellow
                index: 1
              DataRestoring:
                color: dark-red
                index: 4
              Halted:
                color: dark-red
                index: 5
              NotReady:
                color: dark-red
                index: 2
              Provisioning:
                color: text
                index: 3
              Ready:
                color: semi-dark-green
                index: 0
            type: value
          thresholds:
            mode: absolute
            steps:
            - color: '#ffffff'
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 12
        "y": 1
      id: 78
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: /^phase$/
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: |
          kubedb_com_postgres_status_phase{namespace="$namespace", app="$app"} == 1
        format: table
        instant: true
        interval: ""
        legendFormat: '{{phase}}'
        refId: A
      title: Database Status
      type: stat
    - datasource: ${datasource}
      description: KubeDB Postgres Current SSL Mode
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings:
          - options:
              disable:
                color: dark-red
                index: 0
            type: value
          thresholds:
            mode: absolute
            steps:
            - color: '#ffffff'
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 16
        "y": 1
      id: 82
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: /^sslMode$/
          values: false
        text: {}
        textMode: value
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: kubedb_com_postgres_info{namespace="$namespace", app="$app"}
        format: table
        instant: true
        interval: ""
        legendFormat: '{{sslMode}}'
        refId: A
      title: SSL Mode
      type: stat
    - datasource: ${datasource}
      description: KubeDB Postgres Resource terminationPolicy
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings:
          - options:
              Delete:
                color: yellow
                index: 1
              DoNotTerminate:
                color: green
                index: 2
              Halt:
                color: blue
                index: 3
              WipeOut:
                color: dark-red
                index: 0
            type: value
          thresholds:
            mode: absolute
            steps:
            - color: '#ffffff'
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 20
        "y": 1
      id: 84
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: /^terminationPolicy$/
          values: false
        text: {}
        textMode: value
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: kubedb_com_postgres_info{namespace="$namespace", app="$app"}
        format: table
        instant: true
        interval: ""
        legendFormat: '{{terminationPolicy}}'
        refId: A
      title: Termination Policy
      type: stat
    - datasource: ${datasource}
      description: Initial Requested CPU amount by Postgres Instance
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: thresholds
          mappings: []
          min: 0
          thresholds:
            mode: percentage
            steps:
            - color: '#ffffff'
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 0
        "y": 4
      id: 92
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: kubedb_com_postgres_resource_request_cpu{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: CPU Request (Core)
      type: stat
    - datasource: ${datasource}
      description: CPU Limit in core by Postgres instance
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: '#ffffff'
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 4
        "y": 4
      id: 114
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: kubedb_com_postgres_resource_limit_cpu{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: CPU Limit(core)
      type: stat
    - datasource: ${datasource}
      description: Initial Requested Memory amount by Postgres Instance
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: thresholds
          mappings: []
          min: 0
          thresholds:
            mode: percentage
            steps:
            - color: '#ffffff'
              value: null
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 8
        "y": 4
      id: 94
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: kubedb_com_postgres_resource_request_memory{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Memory Request
      type: stat
    - datasource: ${datasource}
      description: KubeDB Postgres Total Memory Limit
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: '#ffffff'
              value: null
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 12
        "y": 4
      id: 116
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: kubedb_com_postgres_resource_limit_memory{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Memory Limit
      type: stat
    - datasource: ${datasource}
      description: Intial Storage Request by Postgres Instance when deploying
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: thresholds
          mappings: []
          min: 0
          thresholds:
            mode: absolute
            steps:
            - color: '#ffffff'
              value: null
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 16
        "y": 4
      id: 96
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: kubedb_com_postgres_resource_request_storage{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Storage Request
      type: stat
    - datasource: ${datasource}
      description: Maximum number of concurrent connections of the Postgres instance
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: '#ffffff'
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 20
        "y": 4
      id: 118
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: avg(pg_settings_max_connections{namespace="$namespace", pod=~"$app-\\d+$"})
        hide: false
        instant: true
        interval: ""
        legendFormat: ""
        refId: B
      title: Max Connections
      type: stat
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: The current active line shows the current primary pod
      fill: 1
      fillGradient: 0
      gridPos:
        h: 9
        w: 12
        x: 0
        "y": 23
      hiddenSeries: false
      id: 102
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
        legend:
          calcs: []
          displayMode: list
          placement: bottom
        tooltip:
          mode: single
        tooltipOptions:
          mode: single
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: AVG(rate(pg_stat_replication_reply_time{namespace="$namespace", pod=~"$app-\\d+$"}[5m]))
          by (pod)
        instant: false
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Primary Pod FailOver Indicator
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Postgres connections information in real time
      fill: 1
      fillGradient: 0
      gridPos:
        h: 9
        w: 12
        x: 12
        "y": 23
      hiddenSeries: false
      id: 120
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
        legend:
          calcs: []
          displayMode: list
          placement: bottom
        tooltip:
          mode: single
        tooltipOptions:
          mode: single
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: sum(pg_stat_activity_count{namespace="$namespace",pod=~"$app-\\d+$"}) by
          (state)
        instant: false
        interval: ""
        legendFormat: '{{state}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Connnections
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Shows the replication lag with primary
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 16
      hiddenSeries: false
      id: 157
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
        legend:
          calcs: []
          displayMode: list
          placement: bottom
        tooltip:
          mode: single
        tooltipOptions:
          mode: single
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: pg_stat_replication_pg_wal_lsn_diff{namespace="$namespace",application_name=~"$app-\\d+$"}
        instant: false
        interval: ""
        legendFormat: '{{application_name}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Postgres Replication Lag
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      description: Track the current Primary for Raft
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: none
            hideFrom:
              graph: false
              legend: false
              tooltip: false
              viz: false
            lineInterpolation: linear
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: true
            stacking:
              group: A
              mode: none
            thresholdsStyle:
              mode: "off"
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides: []
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 32
      id: 147
      options:
        graph: {}
        legend:
          calcs: []
          displayMode: list
          placement: bottom
        tooltip:
          mode: single
      pluginVersion: 7.5.11
      targets:
      - exemplar: true
        expr: pg_coordinator_raft_primary{namespace="$namespace", pod=~"$app-."}
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      timeFrom: null
      timeShift: null
      title: Raft Primary Tracker
      type: timeseries
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 40
      id: 138
      panels: []
      title: CPU Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: CPU Usage by Postgres pods
      fill: 1
      fillGradient: 0
      gridPos:
        h: 10
        w: 24
        x: 0
        "y": 41
      hiddenSeries: false
      id: 98
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
        legend:
          calcs: []
          displayMode: table
          placement: right
        tooltip:
          mode: single
        tooltipOptions:
          mode: single
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: sum(sum by (namespace, pod, container) (irate(container_cpu_usage_seconds_total{image!="",job="kubelet",metrics_path="/metrics/cadvisor",namespace="$namespace",
          pod=~"$app-\\d+$"}[5m])) * on (namespace, pod) group_left (node) topk by (namespace,
          pod) (1, max by (namespace, pod, node) (kube_pod_info{node!="",namespace="$namespace",
          pod=~"$app-\\d+$"}))) by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: CPU Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      description: CPU Quote information in details
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: center
            displayMode: auto
            filterable: false
          decimals: 2
          displayName: ""
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: Time
          properties:
          - id: displayName
            value: Time
          - id: custom.align
            value: center
        - matcher:
            id: byName
            options: 'Value #A'
          properties:
          - id: displayName
            value: CPU Usage
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: custom.align
            value: center
        - matcher:
            id: byName
            options: 'Value #B'
          properties:
          - id: displayName
            value: CPU Requests
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: custom.align
            value: center
        - matcher:
            id: byName
            options: 'Value #C'
          properties:
          - id: displayName
            value: CPU Requests %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: center
        - matcher:
            id: byName
            options: 'Value #D'
          properties:
          - id: displayName
            value: CPU Limits
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: custom.align
            value: center
        - matcher:
            id: byName
            options: 'Value #E'
          properties:
          - id: displayName
            value: CPU Limits %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: center
        - matcher:
            id: byName
            options: pod
          properties:
          - id: displayName
            value: Pod
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: links
            value:
            - targetBlank: false
              title: Drill down
              url: ./d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-pod=$__cell
          - id: custom.align
            value: center
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 61
      id: 122
      links: []
      options:
        showHeader: true
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: sum(sum by (namespace, pod, container) (irate(container_cpu_usage_seconds_total{image!="",job="kubelet",metrics_path="/metrics/cadvisor",namespace="$namespace",
          pod=~"$app-\\d+$"}[5m])) * on (namespace, pod) group_left (node) topk by (namespace,
          pod) (1, max by (namespace, pod, node) (kube_pod_info{node!="",namespace="$namespace",
          pod=~"$app-\\d+$"}))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
        step: 10
      - exemplar: false
        expr: sum(kube_pod_container_resource_requests{job="kube-state-metrics",resource="cpu",namespace="$namespace",
          pod=~"$app-\\d+$"} * on (namespace,pod) group_left () max by (namespace,pod)
          ((kube_pod_status_phase{phase=~"Pending|Running"} == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: B
        step: 10
      - exemplar: false
        expr: sum(sum by (namespace, pod, container) (irate(container_cpu_usage_seconds_total{image!="",job="kubelet",metrics_path="/metrics/cadvisor",namespace="$namespace",
          pod=~"$app-\\d+$"}[5m])) * on (namespace, pod) group_left (node) topk by (namespace,
          pod) (1, max by (namespace, pod, node) (kube_pod_info{node!="",namespace="$namespace",
          pod=~"$app-\\d+$"}))) by (pod) / sum(kube_pod_container_resource_requests{job="kube-state-metrics",resource="cpu",namespace="$namespace",
          pod=~"$app-\\d+$"} * on (namespace,pod) group_left () max by (namespace,pod)
          ((kube_pod_status_phase{phase=~"Pending|Running"} == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: C
        step: 10
      - exemplar: false
        expr: sum(kube_pod_container_resource_limits{job="kube-state-metrics",resource="cpu",namespace="$namespace",
          pod=~"$app-\\d+$"} * on (namespace,pod) group_left() max by (namespace, pod)
          ((kube_pod_status_phase{phase=~"Pending|Running"} == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: D
        step: 10
      - exemplar: false
        expr: sum(sum by (namespace, pod, container) (irate(container_cpu_usage_seconds_total{image!="",job="kubelet",metrics_path="/metrics/cadvisor",namespace="$namespace",
          pod=~"$app-\\d+$"}[5m])) * on (namespace, pod) group_left (node) topk by (namespace,
          pod) (1, max by (namespace, pod, node) (kube_pod_info{node!="",namespace="$namespace",
          pod=~"$app-\\d+$"}))) by (pod) / sum(kube_pod_container_resource_limits{job="kube-state-metrics",resource="cpu",namespace="$namespace",
          pod=~"$app-\\d+$"} * on (namespace,pod) group_left() max by (namespace, pod)
          ((kube_pod_status_phase{phase=~"Pending|Running"} == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: E
        step: 10
      timeFrom: null
      timeShift: null
      title: CPU Quota
      transformations:
      - id: merge
        options:
          reducers: []
      type: table
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 68
      id: 140
      panels: []
      title: Memory Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Memory Usage by Postgres pods
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 10
        w: 24
        x: 0
        "y": 69
      hiddenSeries: false
      id: 100
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
        legend:
          calcs: []
          displayMode: table
          placement: right
        tooltip:
          mode: single
        tooltipOptions:
          mode: single
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: sum(container_memory_working_set_bytes{image!="",job="kubelet",metrics_path="/metrics/cadvisor",namespace="$namespace",
          pod=~"$app-\\d+$",container!=""} * on (namespace, pod) group_left (node) topk
          by (namespace, pod) (1, max by (namespace, pod, node) (kube_pod_info{node!=""})))
          by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Memory Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            displayMode: auto
            filterable: false
          decimals: 2
          displayName: ""
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: Time
          properties:
          - id: displayName
            value: Time
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #A'
          properties:
          - id: displayName
            value: Memory Usage
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #B'
          properties:
          - id: displayName
            value: Memory Requests
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #C'
          properties:
          - id: displayName
            value: Memory Requests %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #D'
          properties:
          - id: displayName
            value: Memory Limits
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #E'
          properties:
          - id: displayName
            value: Memory Limits %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #F'
          properties:
          - id: displayName
            value: Memory Usage (RSS)
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #G'
          properties:
          - id: displayName
            value: Memory Usage (Cache)
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #H'
          properties:
          - id: displayName
            value: Memory Usage (Swap)
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: pod
          properties:
          - id: displayName
            value: Pod
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: links
            value:
            - targetBlank: false
              title: Drill down
              url: ./d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-pod=$__cell
          - id: custom.align
            value: null
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 79
      id: 124
      links: []
      options:
        showHeader: true
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: sum(container_memory_working_set_bytes{namespace="$namespace",pod=~"$app-\\d+$",container!="",
          image!=""}) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
        step: 10
      - exemplar: false
        expr: sum (kube_pod_container_resource_requests{job="kube-state-metrics",resource="memory",namespace="$namespace",pod=~"$app-\\d+$"}
          * on (namespace, pod, cluster) group_left () max by (namespace, pod, cluster)
          ((kube_pod_status_phase{phase=~"Pending|Running"} == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: B
        step: 10
      - exemplar: false
        expr: sum(container_memory_working_set_bytes{namespace="$namespace",pod=~"$app-\\d+$",container!="",
          image!=""}) by (pod) / sum(kube_pod_container_resource_requests{job="kube-state-metrics",resource="memory",namespace="$namespace",pod=~"$app-\\d+$"}
          * on (namespace, pod, cluster) group_left () max by (namespace, pod, cluster)
          ((kube_pod_status_phase{phase=~"Pending|Running"} == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: C
        step: 10
      - exemplar: false
        expr: sum(kube_pod_container_resource_limits{job="kube-state-metrics",resource="memory",namespace="$namespace",pod=~"$app-\\d+$"}
          * on (namespace, pod, cluster) group_left () max by (namespace, pod, cluster)
          ((kube_pod_status_phase{phase=~"Pending|Running"} == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: D
        step: 10
      - exemplar: false
        expr: sum(container_memory_working_set_bytes{namespace="$namespace",pod=~"$app-\\d+$",container!="",
          image!=""}) by (pod) / sum(kube_pod_container_resource_limits{job="kube-state-metrics",resource="memory",namespace="$namespace",pod=~"$app-\\d+$"}
          * on (namespace, pod, cluster) group_left () max by (namespace, pod, cluster)
          ((kube_pod_status_phase{phase=~"Pending|Running"} == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: E
        step: 10
      - exemplar: false
        expr: sum(container_memory_rss{namespace="$namespace",pod=~"$app-\\d+$",container!=""})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: F
        step: 10
      - exemplar: false
        expr: sum(container_memory_cache{namespace="$namespace",pod=~"$app-\\d+$",container!=""})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: G
        step: 10
      - exemplar: false
        expr: sum(container_memory_swap{namespace="$namespace",pod=~"$app-\\d+$",container!=""})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: H
        step: 10
      timeFrom: null
      timeShift: null
      title: Memory Quota
      transformations:
      - id: merge
        options:
          reducers: []
      type: table
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 94
      id: 142
      panels: []
      title: Storage Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Disk usage by Postgres pods
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 9
        w: 12
        x: 0
        "y": 95
      hiddenSeries: false
      id: 112
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
        legend:
          calcs: []
          displayMode: list
          placement: bottom
        tooltip:
          mode: single
        tooltipOptions:
          mode: single
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: avg(container_blkio_device_usage_total{namespace="$namespace", pod=~"$app-\\d+$"})
          by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Disk Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: System Disk Usage Information
      fieldConfig:
        defaults:
          unit: none
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 9
        w: 12
        x: 12
        "y": 95
      hiddenSeries: false
      id: 108
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
        legend:
          calcs: []
          displayMode: table
          placement: right
        tooltip:
          mode: single
        tooltipOptions:
          mode: single
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: sum(rate(container_fs_writes_total{namespace="$namespace", pod=~"$app-\\d+$"}[5m]))by(pod)
        instant: false
        interval: ""
        intervalFactor: 1
        legendFormat: '{{pod}}-disk-write'
        refId: A
      - exemplar: false
        expr: sum(rate(container_fs_reads_total{namespace="$namespace", pod=~"$app-\\d+$"}[5m]))by(pod)
        hide: false
        instant: false
        interval: ""
        legendFormat: '{{pod}}-disk-read'
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Disk R/W Info
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: none
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: short
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 104
      hiddenSeries: false
      id: 126
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
        legend:
          calcs: []
          displayMode: list
          placement: bottom
        tooltip:
          mode: single
        tooltipOptions:
          mode: single
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: ceil(sum by(pod) (rate(container_fs_reads_total{container!="", namespace=~"$namespace",
          pod=~"$app-\\d+$"}[5m]) + rate(container_fs_writes_total{container!="" ,namespace=~"$namespace",
          pod=~"$app-\\d+$"}[5m])))
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: IOPS(Reads+Writes)
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: Bps
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 104
      hiddenSeries: false
      id: 128
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
        legend:
          calcs: []
          displayMode: list
          placement: bottom
        tooltip:
          mode: single
        tooltipOptions:
          mode: single
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: sum by(pod) (rate(container_fs_reads_bytes_total{container!="", namespace=~"$namespace",
          pod=~"$app-\\d+$"}[5m]) + rate(container_fs_writes_bytes_total{container!=""
          ,namespace=~"$namespace", pod=~"$app-\\d+$"}[5m]))
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: ThroughPut(Read+Write)
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: Bps
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            displayMode: auto
            filterable: false
          decimals: 2
          displayName: ""
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: Time
          properties:
          - id: displayName
            value: Time
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #A'
          properties:
          - id: displayName
            value: IOPS(Reads)
          - id: unit
            value: short
          - id: decimals
            value: -1
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #B'
          properties:
          - id: displayName
            value: IOPS(Writes)
          - id: unit
            value: short
          - id: decimals
            value: -1
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #C'
          properties:
          - id: displayName
            value: IOPS(Reads + Writes)
          - id: unit
            value: short
          - id: decimals
            value: -1
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #D'
          properties:
          - id: displayName
            value: Throughput(Read)
          - id: unit
            value: Bps
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #E'
          properties:
          - id: displayName
            value: Throughput(Write)
          - id: unit
            value: Bps
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #F'
          properties:
          - id: displayName
            value: Throughput(Read + Write)
          - id: unit
            value: Bps
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: pod
          properties:
          - id: displayName
            value: Pod
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: links
            value:
            - targetBlank: false
              title: Drill down to pods
              url: ./d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-pod=$__cell
          - id: custom.align
            value: null
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 111
      id: 130
      links: []
      options:
        showHeader: true
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: sum by(pod) (rate(container_fs_reads_total{container!="", pod=~"$app-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
        step: 10
      - exemplar: false
        expr: sum by(pod) (rate(container_fs_writes_total{container!="", pod=~"$app-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: B
        step: 10
      - exemplar: false
        expr: sum by(pod) (rate(container_fs_reads_total{container!="", pod=~"$app-\\d+$",namespace=~"$namespace"}[5m])
          + rate(container_fs_writes_total{container!="",pod=~"$app-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: C
        step: 10
      - exemplar: false
        expr: sum by(pod) (rate(container_fs_reads_bytes_total{container!="", pod=~"$app-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: D
        step: 10
      - exemplar: false
        expr: sum by(pod) (rate(container_fs_writes_bytes_total{container!="", pod=~"$app-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: E
        step: 10
      - exemplar: false
        expr: sum by(pod) (rate(container_fs_reads_bytes_total{container!="", pod=~"$app-\\d+$",namespace=~"$namespace"}[5m])
          + rate(container_fs_writes_bytes_total{container!="",pod=~"$app-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: F
        step: 10
      timeFrom: null
      timeShift: null
      title: Current Storage IO
      transformations:
      - id: merge
        options:
          reducers: []
      type: table
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 118
      id: 149
      panels: []
      title: Persistent Storage Insight
      type: row
    - datasource: ${datasource}
      description: |
        This panel describes allocated persistent storage in a table format
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: center
            displayMode: color-text
            filterable: false
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: light-blue
              value: null
          unit: decbytes
        overrides: []
      gridPos:
        h: 6
        w: 12
        x: 0
        "y": 119
      id: 153
      options:
        showHeader: true
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: kubelet_volume_stats_capacity_bytes{} + on(persistentvolumeclaim) group_left(pod)
          kube_pod_spec_volumes_persistentvolumeclaims_info{pod=~"$app-\\d+$",namespace=~"$namespace"}
        format: table
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Allocated Storage
      transformations:
      - id: organize
        options:
          excludeByName:
            Time: true
            endpoint: true
            instance: true
            job: true
            metrics_path: true
            namespace: true
            node: true
            persistentvolumeclaim: true
            service: true
          indexByName: {}
          renameByName:
            Value: Volume
            pod: Pod
      type: table
    - datasource: ${datasource}
      description: 'This panel shows the persistent volume usage in percentage. '
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          max: 100
          min: 0
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: percent
        overrides: []
      gridPos:
        h: 6
        w: 12
        x: 12
        "y": 119
      id: 155
      options:
        displayMode: gradient
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        showUnfilled: true
        text: {}
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: (kubelet_volume_stats_used_bytes{} / on(persistentvolumeclaim) group_left(pod)
          (kubelet_volume_stats_capacity_bytes{} + on(persistentvolumeclaim) group_left(pod)
          kube_pod_spec_volumes_persistentvolumeclaims_info{pod=~"$app-\\d+$",namespace=~"$namespace"})
          )* 100
        instant: true
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      title: Persistent Volume Usage
      transformations: []
      type: bargauge
    - datasource: ${datasource}
      description: 'This panel describes the persistent volume usage in a time series. '
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            axisSoftMax: 5000
            axisSoftMin: 0
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: opacity
            hideFrom:
              graph: false
              legend: false
              tooltip: false
              viz: false
            lineInterpolation: linear
            lineStyle:
              fill: solid
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: true
            stacking:
              group: A
              mode: none
            thresholdsStyle:
              mode: "off"
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: decbytes
        overrides: []
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 125
      id: 151
      options:
        graph: {}
        legend:
          calcs:
          - max
          - lastNotNull
          displayMode: table
          placement: right
        tooltip:
          mode: single
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: '(kubelet_volume_stats_used_bytes{} + on(persistentvolumeclaim) group_left(pod)
          kube_pod_spec_volumes_persistentvolumeclaims_info{pod=~"$app-\\d+$",namespace=~"$namespace"}) '
        interval: ""
        intervalFactor: 1
        legendFormat: '{{pod}}'
        refId: A
      title: Persistent Volume Usage History
      type: timeseries
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 141
      id: 144
      panels: []
      title: Network Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: Bps
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 142
      hiddenSeries: false
      id: 132
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
        legend:
          calcs: []
          displayMode: list
          placement: bottom
        tooltip:
          mode: single
        tooltipOptions:
          mode: single
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: sum(irate(container_network_receive_bytes_total{namespace=~"$namespace",
          pod=~"$app-\\d+$"}[$__rate_interval])) by (pod)
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Receive Bandwidth
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: Bps
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: Bps
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 142
      hiddenSeries: false
      id: 134
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
        legend:
          calcs: []
          displayMode: list
          placement: bottom
        tooltip:
          mode: single
        tooltipOptions:
          mode: single
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: sum(irate(container_network_transmit_bytes_total{namespace=~"$namespace",
          pod=~"$app-\\d+$"}[$__rate_interval])) by (pod)
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Transmit Bandwidth
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: Bps
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 166
      id: 191
      panels: []
      title: KubeStash Backup & Restore Info
      type: row
    - aliasColors: {}
      bars: true
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Total number of successful backup
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 4
        w: 5
        x: 0
        "y": 167
      hiddenSeries: false
      id: 195
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: false
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: false
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: count(core_kubestash_com_backupsession_phase{phase="Succeeded"} * on(backup_invoker_kind,
          backup_invoker_name) group_left(target_kind, target_name, target_namespace)
          core_kubestash_com_backupconfiguration_info{target_kind="Postgres", target_name="$app",
          target_namespace="$namespace"} == 1)
        format: time_series
        instant: true
        interval: ""
        legendFormat: value
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Successful Backups
      tooltip:
        shared: false
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: series
        name: null
        show: true
        values:
        - current
      yaxes:
      - $$hashKey: object:2118
        decimals: 0
        format: short
        label: ""
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:2119
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: false
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: true
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Total number of successful restore
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 4
        w: 5
        x: 15
        "y": 167
      hiddenSeries: false
      id: 199
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: false
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: count(core_kubestash_com_restoresession_phase{target_kind="Postgres", target_name="$app",
          target_namespace="$namespace", phase="Succeeded"} == 1)
        format: time_series
        instant: true
        interval: ""
        legendFormat: value
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Successful Restore
      tooltip:
        shared: false
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: series
        name: null
        show: true
        values:
        - current
      yaxes:
      - $$hashKey: object:207
        decimals: 0
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:208
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: false
      yaxis:
        align: false
        alignLevel: null
    refresh: ""
    schemaVersion: 30
    style: dark
    tags:
    - postgres
    - db
    - stats
    templating:
      list:
      - current:
          selected: false
          text: Prometheus
          value: Prometheus
        description: null
        error: null
        hide: 0
        includeAll: false
        label: null
        multi: false
        name: datasource
        options: []
        query: prometheus
        queryValue: ""
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: '".+"'
        current:
          selected: false
          text: $namespace
          value: $namespace
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Namespace
        multi: false
        name: namespace
        options: []
        query:
          query: label_values(kube_namespace_created,namespace)
          refId: Prometheus-namespace-Variable-Query
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text: coreos-prom-postgres
          value: coreos-prom-postgres
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: postgres
        multi: false
        name: app
        options: []
        query:
          query: query_result(kubedb_com_postgres_created{namespace="$namespace"})
          refId: Prometheus-app-Variable-Query
        refresh: 1
        regex: /.*app="([^"]+).*/
        skipUrlSync: false
        sort: 1
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-1h
      to: now
    timepicker:
      refresh_intervals:
      - 5s
      - 10s
      - 30s
      - 1m
      - 5m
      - 15m
      - 30m
      - 1h
      - 2h
      - 1d
      time_options:
      - 5m
      - 15m
      - 1h
      - 6h
      - 12h
      - 24h
      - 2d
      - 7d
      - 30d
    timezone: ""
    title: KubeDB / Postgres / Summary
    version: 65
  overwrite: true
  templatize:
    title: false
    datasource: false
---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-proxysql-database
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: ProxySQL
    k8s.io/resource: proxysqls
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - builtIn: 1
        datasource: -- Grafana --
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        type: dashboard
    editable: true
    gnetId: null
    graphTooltip: 0
    iteration: 1669639350924
    links: []
    panels:
    - collapsed: true
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 0
      id: 163
      panels:
      - datasource: ${datasource}
        fieldConfig:
          defaults:
            custom:
              align: null
              displayMode: auto
              filterable: false
            mappings: []
            thresholds:
              mode: absolute
              steps:
              - color: green
                value: null
              - color: red
                value: 0
          overrides:
          - matcher:
              id: byType
              options: number
            properties:
            - id: custom.displayMode
              value: color-background
            - id: thresholds
              value:
                mode: absolute
                steps:
                - color: red
                  value: null
                - color: green
                  value: 1
            - id: custom.width
              value: 200
            - id: mappings
              value:
              - from: ""
                id: 1
                text: UP
                to: ""
                type: 1
                value: "1"
              - from: ""
                id: 2
                text: DOWN
                to: ""
                type: 1
                value: "0"
        gridPos:
          h: 7
          w: 12
          x: 0
          "y": 1
        id: 161
        options:
          showHeader: true
          sortBy: []
        pluginVersion: 7.5.5
        targets:
        - exemplar: true
          expr: proxysql_uptime_seconds_total{namespace=~"$namespace",service=~"$app"}
          format: table
          instant: true
          interval: ""
          intervalFactor: 1
          legendFormat: '{{pod}}'
          refId: A
        timeFrom: null
        timeShift: null
        title: Service Status
        transformations:
        - id: filterFieldsByName
          options:
            include:
              names:
              - instance
              - Value
              - pod
        type: table
      - datasource: ${datasource}
        fieldConfig:
          defaults:
            custom:
              align: null
              displayMode: auto
              filterable: false
            mappings: []
            thresholds:
              mode: absolute
              steps:
              - color: green
                value: null
              - color: red
                value: 80
          overrides:
          - matcher:
              id: byType
              options: number
            properties:
            - id: unit
              value: s
            - id: custom.width
              value: 200
            - id: custom.displayMode
              value: color-background
            - id: thresholds
              value:
                mode: absolute
                steps:
                - color: red
                  value: null
                - color: green
                  value: 80
        gridPos:
          h: 7
          w: 12
          x: 12
          "y": 1
        id: 159
        options:
          showHeader: true
        pluginVersion: 7.5.5
        targets:
        - exemplar: true
          expr: proxysql_uptime_seconds_total{namespace=~"$namespace",service=~"$app"}
          format: table
          instant: true
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        timeFrom: null
        timeShift: null
        title: Service Uptime
        transformations:
        - id: filterFieldsByName
          options:
            include:
              names:
              - Value
              - pod
        type: table
      title: Service Status
      type: row
    - collapsed: true
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 1
      id: 165
      panels:
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 9
          w: 12
          x: 0
          "y": 9
        hiddenSeries: false
        id: 157
        legend:
          alignAsTable: true
          avg: false
          current: false
          max: false
          min: false
          rightSide: true
          show: true
          sideWidth: 200
          total: false
          values: false
        lines: true
        linewidth: 1
        links: []
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 5
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: sum(rate(proxysql_connpool_conns{status="free",namespace=~"$namespace",service=~"$app"}[1m])
            ) by(pod)
          format: time_series
          interval: ""
          intervalFactor: 1
          legendFormat: Free_connecntions - {{ pod }}
          refId: A
        - exemplar: true
          expr: sum(rate(proxysql_connpool_conns{status="used",namespace=~"$namespace",service=~"$app"}[1m])
            ) by(pod)
          format: time_series
          interval: ""
          intervalFactor: 1
          legendFormat: Used_connections - {{ pod }}
          refId: B
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: ProxySQL Connections
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - $$hashKey: object:273
          format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - $$hashKey: object:274
          format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 9
          w: 12
          x: 12
          "y": 9
        hiddenSeries: false
        id: 155
        legend:
          avg: false
          current: false
          max: false
          min: false
          rightSide: true
          show: true
          sideWidth: 200
          total: false
          values: false
        lines: true
        linewidth: 1
        links: []
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 5
        points: false
        renderer: flot
        seriesOverrides:
        - alias: /sent/
          transform: negative-Y
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_queries_frontends_bytes_total{traffic_flow="received",namespace=~"$namespace",service=~"$app"}[5m])
          format: time_series
          interval: ""
          intervalFactor: 1
          legendFormat: received - {{ pod }}
          refId: A
        - exemplar: true
          expr: rate(proxysql_queries_frontends_bytes_total{traffic_flow="sent",namespace=~"$namespace",service=~"$app"}[5m])
          format: time_series
          interval: ""
          intervalFactor: 1
          legendFormat: sent - {{ pod }}
          refId: B
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: ProxySQL network received vs sent
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - $$hashKey: object:1585
          format: short
          label: null
          logBase: 1
          max: null
          min: "0"
          show: true
        - $$hashKey: object:1586
          format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        decimals: 1
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 11
          w: 12
          x: 0
          "y": 18
        hiddenSeries: false
        id: 153
        legend:
          alignAsTable: true
          avg: true
          current: true
          max: true
          min: false
          rightSide: false
          show: true
          total: false
          values: true
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_slow_queries_total{namespace=~"$namespace",service=~"$app"}[1m])
          interval: ""
          legendFormat: Slow Queries on {{ pod }}
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: ProxySQL Slow Queries
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - $$hashKey: object:94
          format: short
          label: null
          logBase: 1
          max: null
          min: "0"
          show: true
        - $$hashKey: object:95
          format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 11
          w: 12
          x: 12
          "y": 18
        hiddenSeries: false
        id: 151
        legend:
          alignAsTable: true
          avg: true
          current: false
          max: true
          min: false
          show: true
          total: false
          values: true
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_server_connections_total{namespace=~"$namespace",service=~"$app",status="aborted"}[5m])
          interval: ""
          legendFormat: Aborted Connects (attempts) on - {{ pod }}
          refId: A
        - exemplar: true
          expr: rate(proxysql_server_connections_total{namespace=~"$namespace",service=~"$app",status="aborted"}[5m])
          interval: ""
          legendFormat: Aborted Clients (timeout) on - {{ pod }}
          refId: B
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: ProxySQL Aborted Connections
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - $$hashKey: object:206
          format: short
          label: null
          logBase: 1
          max: null
          min: "0"
          show: true
        - $$hashKey: object:207
          format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      title: Proxy Network
      type: row
    - collapsed: true
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 2
      id: 93
      panels:
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 8
          w: 12
          x: 0
          "y": 30
        hiddenSeries: false
        id: 91
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_questions_total{namespace=~"$namespace",service="$app"}[1m])
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Total Questions
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 8
          w: 12
          x: 12
          "y": 30
        hiddenSeries: false
        id: 89
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_slow_queries_total{namespace=~"$namespace",service="$app"}[1m])
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Slow Queries
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 8
          w: 12
          x: 0
          "y": 38
        hiddenSeries: false
        id: 87
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_gtid_session_collected_total{namespace=~"$namespace",service="$app"}[1m])
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: GTID Session Collected
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 8
          w: 12
          x: 12
          "y": 38
        hiddenSeries: false
        id: 85
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_gtid_consistent_queries_total{namespace=~"$namespace",service="$app"}[1m])
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: GTID Consistent Queries
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 8
          w: 12
          x: 0
          "y": 46
        hiddenSeries: false
        id: 83
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_generated_error_packets_total{namespace=~"$namespace",service="$app"}[1m])
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Error Packets
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 8
          w: 12
          x: 12
          "y": 46
        hiddenSeries: false
        id: 81
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_backend_lagging_during_query_total{namespace=~"$namespace",service="$app"}[1m])
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Backend Lagging Queries
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 8
          w: 12
          x: 0
          "y": 54
        hiddenSeries: false
        id: 79
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_backend_offline_during_query_total{namespace=~"$namespace",service="$app"}[1m])
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Backend Offline During Queries
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      title: Query Stats
      type: row
    - collapsed: true
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 3
      id: 129
      panels:
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 9
          w: 12
          x: 0
          "y": 4
        hiddenSeries: false
        id: 127
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: 'rate(proxysql_query_cache_count_get_total{namespace=~"$namespace",service="$app"}[5m]) '
          interval: ""
          legendFormat: '{{pod}}:{{status}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Get
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 9
          w: 12
          x: 12
          "y": 4
        hiddenSeries: false
        id: 125
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: 'rate(proxysql_query_cache_count_set_total{namespace=~"$namespace",service="$app"}[5m]) '
          interval: ""
          legendFormat: '{{pod}}:{{status}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Set
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 9
          w: 12
          x: 0
          "y": 13
        hiddenSeries: false
        id: 123
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: 'rate(proxysql_query_cache_bytes_total{namespace=~"$namespace",service="$app"}[5m]) '
          interval: ""
          legendFormat: '{{pod}}:{{op}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Bytes
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 9
          w: 12
          x: 12
          "y": 13
        hiddenSeries: false
        id: 121
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: 'rate(proxysql_query_cache_memory_bytes{namespace=~"$namespace",service="$app"}[5m]) '
          interval: ""
          legendFormat: '{{pod}}:{{op}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Memory Bytes
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 9
          w: 12
          x: 0
          "y": 22
        hiddenSeries: false
        id: 119
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: 'rate(proxysql_query_cache_entries_total{namespace=~"$namespace",service="$app"}[5m]) '
          interval: ""
          legendFormat: '{{pod}}:{{op}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Entries
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 9
          w: 12
          x: 12
          "y": 22
        hiddenSeries: false
        id: 117
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: 'rate(proxysql_query_cache_purged_total{namespace=~"$namespace",service="$app"}[5m]) '
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Purged
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      title: Query Cache
      type: row
    - collapsed: true
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 4
      id: 77
      panels:
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 8
          w: 12
          x: 0
          "y": 5
        hiddenSeries: false
        id: 75
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_mysql_unexpected_frontend_com_quit_total{namespace=~"$namespace",service="$app"}[1m])
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Unexpected Frontend Quits
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 8
          w: 12
          x: 12
          "y": 5
        hiddenSeries: false
        id: 73
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_mysql_unexpected_frontend_packets_total{namespace=~"$namespace",service="$app"}[1m])
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Unexpected Frontend Packets
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 8
          w: 24
          x: 0
          "y": 13
        hiddenSeries: false
        id: 71
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_automatic_detected_sql_injection_total{namespace=~"$namespace",service="$app"}[1m])
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: SQL Injection
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      title: Unexpected Queries
      type: row
    - collapsed: true
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 5
      id: 99
      panels:
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 9
          w: 12
          x: 0
          "y": 6
        hiddenSeries: false
        id: 97
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: sum(rate(proxysql_cluster_pulled_total{namespace=~"$namespace",service="$app",module_name=~"mysql_variables|admin_variables|proxysql_servers|mysql_servers"}[1m]))
            by(module_name,status)
          interval: ""
          legendFormat: '{{module_name}} : {{status}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Cluster Pull
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 9
          w: 12
          x: 12
          "y": 6
        hiddenSeries: false
        id: 95
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: sum(rate(proxysql_cluster_syn_conflict_total{namespace=~"$namespace",service="$app",module_name=~"mysql_variables|admin_variables|proxysql_servers|mysql_servers"}[1m]))
            by(module_name)
          interval: ""
          legendFormat: '{{module_name}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Cluster Sync Conflict
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      title: 'Cluster Synchronization '
      type: row
    - collapsed: true
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 6
      id: 13
      panels:
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 8
          w: 12
          x: 0
          "y": 7
        hiddenSeries: false
        id: 21
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: sum(rate(proxysql_server_connections_total{namespace=~"$namespace",service="$app"}[1m]))
            by(status)
          interval: ""
          legendFormat: '{{status}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Server Connections
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 8
          w: 12
          x: 12
          "y": 7
        hiddenSeries: false
        id: 22
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: sum(rate(proxysql_client_connections_total{namespace=~"$namespace",service="$app"}[1m]))
            by(status)
          interval: ""
          legendFormat: '{{status}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Client Connections
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 9
          w: 12
          x: 0
          "y": 15
        hiddenSeries: false
        id: 2
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_server_connections_connected{namespace=~"$namespace",service="$app"}[1m])
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Server Connections Connected
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 9
          w: 12
          x: 12
          "y": 15
        hiddenSeries: false
        id: 3
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_client_connections_connected{namespace=~"$namespace",service="$app"}[1m])
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: 'Client Connections Connected '
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 9
          w: 12
          x: 0
          "y": 24
        hiddenSeries: false
        id: 6
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: proxysql_connpool_conns_latency_us{namespace=~"$namespace",service="$app",hostgroup="3"}
          interval: ""
          legendFormat: '{{pod}}:{{endpoint}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Reader HG Conn Latency
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 9
          w: 12
          x: 12
          "y": 24
        hiddenSeries: false
        id: 5
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: proxysql_connpool_conns_latency_us{namespace=~"$namespace",service="$app",hostgroup="2"}
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Writer HG Conn Latency
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults:
            unit: short
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 9
          w: 12
          x: 0
          "y": 33
        hiddenSeries: false
        id: 8
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: proxysql_connpool_conns_status{namespace=~"$namespace",service="$app",hostgroup="3"}
          instant: false
          interval: ""
          legendFormat: '{{pod}} : {{endpoint}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Reader HG Connection Status
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults:
            unit: short
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 9
          w: 12
          x: 12
          "y": 33
        hiddenSeries: false
        id: 7
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: proxysql_connpool_conns_status{namespace=~"$namespace",service="$app",hostgroup="2"}
          instant: false
          interval: ""
          legendFormat: '{{pod}} : {{endpoint}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Writer HG Connection Status
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults:
            unit: short
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 9
          w: 12
          x: 0
          "y": 42
        hiddenSeries: false
        id: 4
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: sum(proxysql_connpool_conns{namespace=~"$namespace",service="$app",hostgroup="3"})
            by(status,pod)
          instant: false
          interval: ""
          legendFormat: '{{pod}} : {{status}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: 'Reader HG Connection Pool '
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults:
            unit: short
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 9
          w: 12
          x: 12
          "y": 42
        hiddenSeries: false
        id: 9
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: sum(proxysql_connpool_conns{namespace=~"$namespace",service="$app",hostgroup="2"})
            by(status,pod)
          instant: false
          interval: ""
          legendFormat: '{{pod}} : {{status}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: 'Writer HG Connection Pool '
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults:
            unit: short
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 9
          w: 12
          x: 0
          "y": 51
        hiddenSeries: false
        id: 10
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: proxysql_active_transactions{namespace=~"$namespace",service="$app"}
          instant: false
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Active Transactions
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults:
            unit: short
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 9
          w: 12
          x: 12
          "y": 51
        hiddenSeries: false
        id: 11
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: proxysql_client_connections_non_idle{namespace=~"$namespace",service="$app"}
          instant: false
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Client Connection Non Idle
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults:
            unit: short
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 9
          w: 12
          x: 0
          "y": 60
        hiddenSeries: false
        id: 14
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: proxysql_mysql_thread_workers{namespace=~"$namespace",service="$app"}
          instant: false
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: MySQL Thread Workers
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults:
            unit: short
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 9
          w: 12
          x: 12
          "y": 60
        hiddenSeries: false
        id: 15
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_mysql_session_internal_bytes{namespace=~"$namespace",service="$app"}[1m])
          instant: false
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: MySQL Session Internal Bytes
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults:
            unit: short
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 9
          w: 12
          x: 0
          "y": 69
        hiddenSeries: false
        id: 16
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_connpool_memory_bytes{namespace=~"$namespace",service="$app"}[1m])
          instant: false
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: MySQL Session Internal Bytes
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults:
            unit: short
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 9
          w: 12
          x: 12
          "y": 69
        hiddenSeries: false
        id: 17
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: sum(rate(proxysql_connpool_data_bytes_total{namespace=~"$namespace",service="$app"}[1m]))
            by(hostgroup,traffic_flow)
          instant: false
          interval: ""
          legendFormat: 'HG {{hostgroup}} : Data {{traffic_flow}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Connection Pool Data Bytes
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults:
            unit: short
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 9
          w: 12
          x: 0
          "y": 78
        hiddenSeries: false
        id: 18
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: sum(rate(proxysql_connpool_conns_total{namespace=~"$namespace",service="$app"}[1m]))
            by(hostgroup)
          instant: false
          interval: ""
          legendFormat: 'HG {{hostgroup}} '
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: HG Connection Pool Connections
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults:
            unit: short
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 9
          w: 12
          x: 12
          "y": 78
        hiddenSeries: false
        id: 19
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: sum(rate(proxysql_connpool_conns_queries_total{namespace=~"$namespace",service="$app"}[1m]))
            by(hostgroup)
          instant: false
          interval: ""
          legendFormat: HG {{hostgroup}}
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: 'HG Connection Queries '
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      title: Connection Pool Stats
      type: row
    - collapsed: true
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 7
      id: 115
      panels:
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 8
          w: 12
          x: 0
          "y": 8
        hiddenSeries: false
        id: 113
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_myhgm_myconnpool_get_total{namespace=~"$namespace",service="$app"}[5m])
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Get
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 8
          w: 12
          x: 12
          "y": 8
        hiddenSeries: false
        id: 111
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_myhgm_myconnpool_get_ok_total{namespace=~"$namespace",service="$app"}[5m])
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Get OK
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 8
          w: 12
          x: 0
          "y": 16
        hiddenSeries: false
        id: 109
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_myhgm_myconnpool_get_ping_total{namespace=~"$namespace",service="$app"}[5m])
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Get Ping
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 8
          w: 12
          x: 12
          "y": 16
        hiddenSeries: false
        id: 107
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_myhgm_myconnpool_push_total{namespace=~"$namespace",service="$app"}[5m])
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Push
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 8
          w: 12
          x: 0
          "y": 24
        hiddenSeries: false
        id: 105
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_myhgm_myconnpool_reset_total{namespace=~"$namespace",service="$app"}[5m])
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Reset
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 8
          w: 12
          x: 12
          "y": 24
        hiddenSeries: false
        id: 103
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_myhgm_myconnpool_destroy_total{namespace=~"$namespace",service="$app"}[5m])
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Destroy
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 8
          w: 12
          x: 0
          "y": 32
        hiddenSeries: false
        id: 101
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_myhgm_auto_increment_multiplex_total{namespace=~"$namespace",service="$app"}[5m])
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Auto Increment Multiplex
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      title: Myhgm Connection Pool
      type: row
    - collapsed: true
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 8
      id: 29
      panels:
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 8
          w: 10
          x: 0
          "y": 9
        hiddenSeries: false
        id: 24
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_access_denied_wrong_password_total{namespace=~"$namespace",service="$app"}[1m])
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Wrong Password
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 8
          w: 7
          x: 10
          "y": 9
        hiddenSeries: false
        id: 26
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_access_denied_max_connections_total{namespace=~"$namespace",service="$app"}[1m])
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Max Connections
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 8
          w: 7
          x: 17
          "y": 9
        hiddenSeries: false
        id: 27
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_access_denied_max_user_connections_total{namespace=~"$namespace",service="$app"}[1m])
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Max User Connections
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      title: Access Denial
      type: row
    - collapsed: true
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 9
      id: 41
      panels:
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 8
          w: 12
          x: 0
          "y": 18
        hiddenSeries: false
        id: 35
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_stack_memory_mysql_threads_bytes{namespace=~"$namespace",service="$app"}[1m])
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: MySQL Threads (bytes)
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 8
          w: 12
          x: 12
          "y": 18
        hiddenSeries: false
        id: 37
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_stack_memory_admin_threads_bytes{namespace=~"$namespace",service="$app"}[1m])
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Admin Threads (bytes)
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 8
          w: 12
          x: 0
          "y": 26
        hiddenSeries: false
        id: 39
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_stack_memory_cluster_threads{namespace=~"$namespace",service="$app"}[1m])
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Cluster Threads (bytes)
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      title: Stack Memory Stats
      type: row
    - collapsed: true
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 10
      id: 59
      panels:
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 9
          w: 12
          x: 0
          "y": 35
        hiddenSeries: false
        id: 57
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_stmt_client_active{namespace=~"$namespace",service="$app"}[1m])
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Client Active
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 9
          w: 12
          x: 12
          "y": 35
        hiddenSeries: false
        id: 55
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_stmt_client_active_unique{namespace=~"$namespace",service="$app"}[1m])
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Unique Client Active
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 9
          w: 12
          x: 0
          "y": 44
        hiddenSeries: false
        id: 53
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_stmt_server_active{namespace=~"$namespace",service="$app"}[1m])
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Server Active
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 9
          w: 12
          x: 12
          "y": 44
        hiddenSeries: false
        id: 51
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_stmt_server_active_unique{namespace=~"$namespace",service="$app"}[1m])
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Unique Server Active
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 9
          w: 12
          x: 0
          "y": 53
        hiddenSeries: false
        id: 49
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_stmt_max_stmt_id{namespace=~"$namespace",service="$app"}[1m])
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Max STMT ID
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 9
          w: 12
          x: 12
          "y": 53
        hiddenSeries: false
        id: 47
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_stmt_cached{namespace=~"$namespace",service="$app"}[1m])
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Cached STMT
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 9
          w: 12
          x: 0
          "y": 62
        hiddenSeries: false
        id: 45
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: sum(rate(proxysql_com_backend_stmt_total{namespace=~"$namespace",service="$app"}[1m]))
            by(op)
          interval: ""
          legendFormat: '{{op}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Total Backend STMT
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 9
          w: 12
          x: 12
          "y": 62
        hiddenSeries: false
        id: 43
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: sum(rate(proxysql_com_frontend_stmt_total{namespace=~"$namespace",service="$app"}[1m]))
            by(op)
          interval: ""
          legendFormat: '{{op}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Total Frontend STMT
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      title: STMT Stats
      type: row
    - collapsed: true
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 11
      id: 69
      panels:
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 8
          w: 12
          x: 0
          "y": 12
        hiddenSeries: false
        id: 67
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_mysql_firewall_users_table_bytes{namespace=~"$namespace",service="$app"}[1m])
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Users Table (bytes)
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 8
          w: 12
          x: 12
          "y": 12
        hiddenSeries: false
        id: 65
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_mysql_firewall_users_config_bytes{namespace=~"$namespace",service="$app"}[1m])
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Users Config (bytes)
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 8
          w: 12
          x: 0
          "y": 20
        hiddenSeries: false
        id: 63
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_mysql_firewall_rules_table_bytes{namespace=~"$namespace",service="$app"}[1m])
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Rules Table (bytes)
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults: {}
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 8
          w: 12
          x: 12
          "y": 20
        hiddenSeries: false
        id: 61
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_mysql_firewall_rules_config_bytes{namespace=~"$namespace",service="$app"}[1m])
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Rules Config (bytes)
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      title: Firewall Stats
      type: row
    - collapsed: true
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 12
      id: 133
      panels:
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults:
            unit: none
          overrides:
          - matcher:
              id: byName
              options: 'Value #A'
            properties:
            - id: displayName
              value: OK
          - matcher:
              id: byName
              options: 'Value #B'
            properties:
            - id: displayName
              value: ERR
          - matcher:
              id: byName
              options: Pod
            properties:
            - id: displayName
              value: Pod
        fill: 1
        fillGradient: 0
        gridPos:
          h: 9
          w: 12
          x: 0
          "y": 13
        hiddenSeries: false
        id: 139
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_mysql_monitor_connect_check_total{namespace=~"$namespace",service="$app",status="ok"}[5m])
          format: time_series
          instant: false
          interval: ""
          intervalFactor: 1
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Connect Checks (ok)
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        transformations: []
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: none
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults:
            unit: none
          overrides:
          - matcher:
              id: byName
              options: 'Value #A'
            properties:
            - id: displayName
              value: OK
          - matcher:
              id: byName
              options: 'Value #B'
            properties:
            - id: displayName
              value: ERR
          - matcher:
              id: byName
              options: Pod
            properties:
            - id: displayName
              value: Pod
        fill: 1
        fillGradient: 0
        gridPos:
          h: 9
          w: 12
          x: 12
          "y": 13
        hiddenSeries: false
        id: 141
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_mysql_monitor_connect_check_total{namespace=~"$namespace",service="$app",status="err"}[5m])
          format: time_series
          instant: false
          interval: ""
          intervalFactor: 1
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Connect Checks (err)
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        transformations: []
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: none
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults:
            unit: none
          overrides:
          - matcher:
              id: byName
              options: 'Value #A'
            properties:
            - id: displayName
              value: OK
          - matcher:
              id: byName
              options: 'Value #B'
            properties:
            - id: displayName
              value: ERR
        fill: 1
        fillGradient: 0
        gridPos:
          h: 9
          w: 12
          x: 0
          "y": 22
        hiddenSeries: false
        id: 135
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_mysql_monitor_read_only_check_total{namespace=~"$namespace",service="$app",status="ok"}[5m])
          format: time_series
          instant: false
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Read-Only Check (ok)
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        transformations: []
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: none
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults:
            unit: none
          overrides:
          - matcher:
              id: byName
              options: 'Value #A'
            properties:
            - id: displayName
              value: OK
          - matcher:
              id: byName
              options: 'Value #B'
            properties:
            - id: displayName
              value: ERR
        fill: 1
        fillGradient: 0
        gridPos:
          h: 9
          w: 12
          x: 12
          "y": 22
        hiddenSeries: false
        id: 137
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_mysql_monitor_read_only_check_total{namespace=~"$namespace",service="$app",status="err"}[5m])
          format: time_series
          instant: false
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Read-Only Check (err)
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        transformations: []
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: none
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults:
            unit: none
          overrides:
          - matcher:
              id: byName
              options: 'Value #A'
            properties:
            - id: displayName
              value: OK
          - matcher:
              id: byName
              options: 'Value #B'
            properties:
            - id: displayName
              value: ERR
          - matcher:
              id: byName
              options: 'Value #C'
            properties:
            - id: displayName
              value: Interval
            - id: unit
              value: s
          - matcher:
              id: byName
              options: 'Value #D'
            properties:
            - id: displayName
              value: Timeout
            - id: unit
              value: s
        fill: 1
        fillGradient: 0
        gridPos:
          h: 9
          w: 12
          x: 0
          "y": 31
        hiddenSeries: false
        id: 147
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_mysql_monitor_replication_lag_check_total{namespace=~"$namespace",service="$app",status="ok"}[5m])
          format: time_series
          instant: false
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Replication-Lag Checks (ok)
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        transformations: []
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: none
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults:
            unit: none
          overrides:
          - matcher:
              id: byName
              options: 'Value #A'
            properties:
            - id: displayName
              value: OK
          - matcher:
              id: byName
              options: 'Value #B'
            properties:
            - id: displayName
              value: ERR
          - matcher:
              id: byName
              options: 'Value #C'
            properties:
            - id: displayName
              value: Interval
            - id: unit
              value: s
          - matcher:
              id: byName
              options: 'Value #D'
            properties:
            - id: displayName
              value: Timeout
            - id: unit
              value: s
        fill: 1
        fillGradient: 0
        gridPos:
          h: 9
          w: 12
          x: 12
          "y": 31
        hiddenSeries: false
        id: 149
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_mysql_monitor_replication_lag_check_total{namespace=~"$namespace",service="$app",status="err"}[5m])
          format: time_series
          instant: false
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Replication-Lag Checks (err)
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        transformations: []
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: none
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults:
            unit: none
          overrides: []
        fill: 1
        fillGradient: 0
        gridPos:
          h: 9
          w: 12
          x: 0
          "y": 40
        hiddenSeries: false
        id: 145
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_mysql_monitor_ping_check_total{namespace=~"$namespace",service="$app",status="err"}[5m])
          format: time_series
          instant: false
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Ping Checks (err)
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        transformations: []
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: none
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      - aliasColors: {}
        bars: false
        dashLength: 10
        dashes: false
        datasource: ${datasource}
        fieldConfig:
          defaults:
            unit: none
          overrides:
          - matcher:
              id: byName
              options: 'Value #A'
            properties:
            - id: displayName
              value: OK
          - matcher:
              id: byName
              options: 'Value #B'
            properties:
            - id: displayName
              value: ERR
          - matcher:
              id: byName
              options: 'Value #C'
            properties:
            - id: displayName
              value: Max Failure
        fill: 1
        fillGradient: 0
        gridPos:
          h: 9
          w: 12
          x: 12
          "y": 40
        hiddenSeries: false
        id: 143
        legend:
          avg: false
          current: false
          max: false
          min: false
          show: true
          total: false
          values: false
        lines: true
        linewidth: 1
        nullPointMode: "null"
        options:
          alertThreshold: true
        percentage: false
        pluginVersion: 7.5.5
        pointradius: 2
        points: false
        renderer: flot
        seriesOverrides: []
        spaceLength: 10
        stack: false
        steppedLine: false
        targets:
        - exemplar: true
          expr: rate(proxysql_mysql_monitor_ping_check_total{namespace=~"$namespace",service="$app",status="ok"}[5m])
          format: time_series
          instant: false
          interval: ""
          legendFormat: '{{pod}}'
          refId: A
        thresholds: []
        timeFrom: null
        timeRegions: []
        timeShift: null
        title: Ping Checks (ok)
        tooltip:
          shared: true
          sort: 0
          value_type: individual
        transformations: []
        type: graph
        xaxis:
          buckets: null
          mode: time
          name: null
          show: true
          values: []
        yaxes:
        - format: none
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        - format: short
          label: null
          logBase: 1
          max: null
          min: null
          show: true
        yaxis:
          align: false
          alignLevel: null
      title: Backend Monitoring Stats
      type: row
    refresh: false
    schemaVersion: 27
    style: dark
    tags: []
    templating:
      list:
      - current:
          selected: false
          text: Prometheus
          value: Prometheus
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Datasource
        multi: false
        name: datasource
        options: []
        query: prometheus
        queryValue: ""
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: null
        current:
          selected: true
          text: demo
          value: demo
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Namespace
        multi: false
        name: namespace
        options: []
        query:
          query: label_values(kube_namespace_created,namespace)
          refId: StandardVariableQuery
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text: proxy-server-stats
          value: proxy-server-stats
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: ProxySQL
        multi: false
        name: app
        options: []
        query:
          query: label_values(proxysql_uptime_seconds_total{namespace=~"$namespace"},
            service)
          refId: StandardVariableQuery
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-6h
      to: now
    timepicker: {}
    timezone: ""
    title: KubeDB / ProxySQL / Database
    version: 10
  overwrite: true
  templatize:
    title: false
    datasource: false
---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-proxysql-pod
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: ProxySQL
    k8s.io/resource: proxysqls
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - builtIn: 1
        datasource: -- Grafana --
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        type: dashboard
    editable: true
    gnetId: null
    graphTooltip: 0
    iteration: 1669712581592
    links: []
    panels:
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 0
      id: 2
      panels: []
      title: MySQL Pod Summary
      type: row
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: semi-dark-blue
              value: null
          unit: short
        overrides: []
      gridPos:
        h: 5
        w: 12
        x: 0
        "y": 1
      id: 4
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: name
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: proxysql_uptime_seconds_total{namespace=~"$namespace",service=~"$app",pod=~"$pod"}
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      title: Pod Name
      type: stat
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: semi-dark-red
              value: null
            - color: green
              value: 90
          unit: short
        overrides:
        - matcher:
            id: byType
            options: number
          properties:
          - id: unit
            value: s
      gridPos:
        h: 5
        w: 12
        x: 12
        "y": 1
      id: 5
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: value_and_name
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: proxysql_uptime_seconds_total{namespace=~"$namespace",service=~"$app",pod=~"$pod"}
        format: time_series
        instant: false
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      title: ProxySQL Uptime
      type: stat
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 6
      id: 57
      panels: []
      title: Pod CPU, Memory and File Descriptor Stats
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: none
        overrides: []
      fill: 5
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 7
      hiddenSeries: false
      id: 61
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(rate(container_cpu_usage_seconds_total{namespace=~"$namespace", pod=~"$pod",
          container!="", image!=""}[5m])) by (pod)
        interval: ""
        legendFormat: '{{container}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: CPU Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: none
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 5
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 7
      hiddenSeries: false
      id: 59
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{namespace=~"$namespace", pod=~"$pod",
          container!="", image!=""}) by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Memory Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 14
      id: 10
      panels: []
      repeat: null
      title: Connections
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 15
      hiddenSeries: false
      id: 12
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: proxysql_connpool_conns{status="used",namespace=~"$namespace",service=~"$app",pod=~"$pod"}
        interval: ""
        legendFormat: Used Connects - {{pod}}
        refId: A
      - exemplar: true
        expr: proxysql_connpool_conns{status="free",namespace=~"$namespace",service=~"$app",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: Free Connects - {{pod}}
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: ProxySQL Connections
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:402
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:403
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 15
      hiddenSeries: false
      id: 16
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: proxysql_server_connections_total{ status="aborted",namespace=~"$namespace",service=~"$app",pod=~"$pod"}
        interval: ""
        legendFormat: Aborted Connects - {{pod}}
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: ProxySQL Aborted Connections
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:237
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:238
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 22
      id: 19
      panels: []
      title: Temporary Objects & Slow Queries
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 23
      hiddenSeries: false
      id: 25
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: false
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: proxysql_slow_queries_total{namespace=~"$namespace",service=~"$app",pod=~"$pod"}
        interval: ""
        legendFormat: Slow Queries - {{pod}}
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: ProxySQL Slow Queries
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:816
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:817
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 30
      id: 27
      panels: []
      title: Table Locks and Questions
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 31
      hiddenSeries: false
      id: 29
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(proxysql_questions_total{namespace=~"$namespace",service=~"$app",pod=~"$pod"}[5m])
        interval: ""
        legendFormat: Questions - {{pod}}
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: ProxySQL Questions
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1550
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:1551
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 38
      id: 31
      panels: []
      title: Network
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      description: |2-
    
    
        Here we can see how much network traffic is generated by MySQL. Outbound is network traffic sent from MySQL and Inbound is network traffic MySQL has received.
      editable: true
      error: false
      fieldConfig:
        defaults:
          links: []
        overrides: []
      fill: 6
      fillGradient: 0
      grid: {}
      gridPos:
        h: 10
        w: 24
        x: 0
        "y": 39
      hiddenSeries: false
      id: 9
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: false
        show: true
        sort: avg
        sortDesc: true
        total: false
        values: true
      lines: true
      linewidth: 2
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      paceLength: 10
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: true
      steppedLine: false
      targets:
      - calculatedInterval: 2m
        datasourceErrors: {}
        errors: {}
        exemplar: true
        expr: rate(proxysql_connpool_data_bytes_total{traffic_flow="recv",namespace=~"$namespace",service=~"$app",pod=~"$pod"}[5m])
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: Inbound - {{pod}} from {{endpoint}}
        metric: ""
        refId: A
        step: 20
      - calculatedInterval: 2m
        datasourceErrors: {}
        errors: {}
        exemplar: true
        expr: rate(proxysql_connpool_data_bytes_total{traffic_flow="sent",namespace=~"$namespace",service=~"$app",pod=~"$pod"}[5m])
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: Outbound - {{pod}} to {{endpoint}}
        metric: ""
        refId: B
        step: 20
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: ProxySQL Network Traffic
      tooltip:
        msResolution: false
        shared: true
        sort: 5
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1886
        decimals: 2
        format: Bps
        logBase: 1
        max: null
        min: 0
        show: true
      - $$hashKey: object:1887
        format: none
        logBase: 1
        max: null
        min: 0
        show: false
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 49
      id: 53
      panels: []
      title: Query Cache
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 50
      hiddenSeries: false
      id: 54
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(proxysql_query_cache_memory_bytes{namespace=~"$namespace",service=~"$app",pod=~"$pod"}[5m])
        interval: ""
        legendFormat: Query Cache Size - {{pod}}
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: ProxySQL Query Cache Memory
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2422
        format: bytes
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:2423
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      fieldConfig:
        defaults:
          unit: none
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 50
      hiddenSeries: false
      id: 55
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(proxysql_query_cache_count_get_total{namespace=~"$namespace",service=~"$app",pod=~"$pod"}[5m])
        interval: ""
        legendFormat: Get-Total - {{pod}}
        refId: A
      - exemplar: true
        expr: rate(proxysql_query_cache_count_set_total{namespace=~"$namespace",service=~"$app",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Set-Total - {{pod}}
        refId: B
      - exemplar: true
        expr: rate(proxysql_query_cache_bytes_total{op="read",namespace=~"$namespace",service=~"$app",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Read - {{pod}}
        refId: D
      - exemplar: true
        expr: rate(proxysql_query_cache_bytes_total{op="written",namespace=~"$namespace",service=~"$app",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Write - {{pod}}
        refId: E
      - exemplar: true
        expr: rate(proxysql_query_cache_purged_total{namespace=~"$namespace",service=~"$app",pod=~"$pod"}[5m])
        hide: false
        interval: ""
        legendFormat: Purged - {{pod}}
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: ProxySQL Query Cache Activity
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2475
        format: none
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:2476
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    refresh: false
    schemaVersion: 27
    style: dark
    tags: []
    templating:
      list:
      - current:
          selected: false
          text: default
          value: default
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Datasource
        multi: false
        name: datasource
        options: []
        query: prometheus
        queryValue: ""
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: null
        current:
          selected: false
          text: demo
          value: demo
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Namespace
        multi: false
        name: namespace
        options: []
        query:
          query: label_values(kube_namespace_created,namespace)
          refId: Prometheus-namespace-Variable-Query
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text: proxy-mysql-stats
          value: proxy-mysql-stats
        datasource: ${datasource}
        description: ""
        error: null
        hide: 0
        includeAll: false
        label: ProxySQL
        multi: false
        name: app
        options: []
        query:
          query: label_values(proxysql_uptime_seconds_total{namespace=~"$namespace"},
            service)
          refId: StandardVariableQuery
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: true
          tags: []
          text:
          - proxy-mysql-1
          value:
          - proxy-mysql-1
        datasource: ${datasource}
        definition: label_values(proxysql_uptime_seconds_total{namespace=~"$namespace",
          service=~"$app"}, pod)
        description: null
        error: null
        hide: 0
        includeAll: true
        label: Pod
        multi: true
        name: pod
        options: []
        query:
          query: label_values(proxysql_uptime_seconds_total{namespace=~"$namespace", service=~"$app"},
            pod)
          refId: StandardVariableQuery
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-6h
      to: now
    timepicker: {}
    timezone: ""
    title: KubeDB / ProxySQL / Pod
    version: 9
  overwrite: true
  templatize:
    title: false
    datasource: false
---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-proxysql-summary
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: ProxySQL
    k8s.io/resource: proxysqls
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - builtIn: 1
        datasource: ${datasource}
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        target:
          limit: 100
          matchAny: false
          tags: []
          type: dashboard
        type: dashboard
    description: The dashboard is designed for KubeDB managed ProxySQL
    editable: true
    gnetId: 9628
    graphTooltip: 0
    iteration: 1666955518856
    links: []
    panels:
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 0
      id: 136
      panels: []
      title: General Info
      type: row
    - datasource: ${datasource}
      description: Represent database status
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          mappings:
          - options:
              Critical:
                color: dark-yellow
                index: 1
              DataRestoring:
                color: dark-red
                index: 4
              Halted:
                color: dark-red
                index: 5
              NotReady:
                color: dark-red
                index: 2
              Provisioning:
                color: text
                index: 3
              Ready:
                color: semi-dark-green
                index: 0
            type: value
          thresholds:
            mode: absolute
            steps:
            - color: text
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 6
        x: 0
        "y": 1
      id: 78
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: /^phase$/
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: |
          kubedb_com_proxysql_status_phase
        format: table
        instant: true
        interval: ""
        legendFormat: '{{phase}}'
        refId: A
      title: Database Status
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      description: ProxySQL CR Name
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: palette-classic
          mappings:
          - options:
              match: "null"
              result:
                index: 0
                text: N/A
            type: special
          noValue: N/A
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 6
        x: 6
        "y": 1
      id: 36
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - mean
          fields: ""
          values: false
        text:
          valueSize: 50
        textMode: name
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_proxysql_info{namespace="$namespace", app="$app"}
        format: time_series
        instant: true
        interval: ""
        intervalFactor: 1
        legendFormat: '{{version}}'
        refId: A
      title: Version
      type: stat
    - datasource: ${datasource}
      description: Backend Server Kind and Instance
      fieldConfig:
        defaults:
          color:
            fixedColor: rgb(255, 255, 255)
            mode: fixed
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 3
        w: 6
        x: 12
        "y": 1
      id: 146
      options:
        colorMode: value
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text:
          valueSize: 25
        textMode: name
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_proxysql_info{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: '{{ backend }}'
        refId: A
      timeFrom: null
      timeShift: null
      title: Backend Server
      type: stat
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            fixedColor: rgb(194, 194, 194)
            mode: fixed
          mappings:
          - from: ""
            id: 1
            text: Enabled
            to: ""
            type: 1
            value: "1"
          - from: ""
            id: 2
            text: Disabled
            to: ""
            type: 1
            value: "null"
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 3
        w: 6
        x: 18
        "y": 1
      id: 148
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - last
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_proxysql_info{namespace="$namespace", app="$app", ssl!~"^$"}
        instant: true
        interval: ""
        legendFormat: '{{ssl}}'
        refId: A
      title: Frontend SSL
      transformations: []
      type: stat
    - datasource: ${datasource}
      description: Total node count of ProxySQL cluster
      fieldConfig:
        defaults:
          color:
            fixedColor: green
            mode: fixed
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 0
        "y": 4
      id: 76
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_proxysql_replicas{namespace="$namespace",app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Total Nodes
      type: stat
    - datasource: ${datasource}
      description: Initial Requested CPU amount by ProxySQL Instance
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          min: 0
          thresholds:
            mode: percentage
            steps:
            - color: green
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 4
        "y": 4
      id: 92
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_proxysql_resource_request_cpu{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: CPU Request (Core)
      type: stat
    - datasource: ${datasource}
      description: CPU Limit in core by ProxySQL instance
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 8
        "y": 4
      id: 114
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_proxysql_resource_limit_cpu{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: CPU Limit (Core)
      type: stat
    - datasource: ${datasource}
      description: KubeDB ProxySQL Total Memory Limit
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 12
        "y": 4
      id: 116
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_proxysql_resource_limit_memory{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Memory Limit
      type: stat
    - datasource: ${datasource}
      description: Initial Requested Memory amount by ProxySQL Instance
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          min: 0
          thresholds:
            mode: percentage
            steps:
            - color: green
              value: null
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 16
        "y": 4
      id: 94
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_proxysql_resource_request_memory{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Memory Request
      type: stat
    - datasource: ${datasource}
      description: KubeDB Database Resource terminationPolicy
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          mappings:
          - options:
              Delete:
                color: yellow
                index: 1
              DoNotTerminate:
                color: green
                index: 2
              Halt:
                color: blue
                index: 3
              WipeOut:
                color: dark-red
                index: 0
            type: value
          thresholds:
            mode: absolute
            steps:
            - color: text
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 20
        "y": 4
      id: 84
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: /^terminationPolicy$/
          values: false
        text: {}
        textMode: value
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_proxysql_info{namespace="$namespace", app="$app"}
        format: table
        instant: true
        interval: ""
        legendFormat: '{{terminationPolicy}}'
        refId: A
      title: Termination Policy
      type: stat
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 7
      id: 138
      panels: []
      title: CPU Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: CPU Usage by ProxySQL pods
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 8
      hiddenSeries: false
      id: 98
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{namespace="$namespace",
          pod=~"$app-\\d+$"}) by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: CPU Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      description: CPU Quote information in details
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            displayMode: auto
            filterable: false
          decimals: 2
          displayName: ""
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: Time
          properties:
          - id: displayName
            value: Time
          - id: custom.align
            value: null
          - id: custom.width
            value: null
        - matcher:
            id: byName
            options: 'Value #A'
          properties:
          - id: displayName
            value: CPU Usage
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #B'
          properties:
          - id: displayName
            value: CPU Requests
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #C'
          properties:
          - id: displayName
            value: CPU Requests %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #D'
          properties:
          - id: displayName
            value: CPU Limits
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #E'
          properties:
          - id: displayName
            value: CPU Limits %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: pod
          properties:
          - id: displayName
            value: Pod
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: links
            value:
            - targetBlank: false
              title: Drill down
              url: ./d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-pod=$__cell
          - id: custom.align
            value: null
      gridPos:
        h: 6
        w: 24
        x: 0
        "y": 15
      id: 122
      links: []
      options:
        showHeader: true
        sortBy: []
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: sum(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{namespace="$namespace",
          pod=~"$app-\\d+$"}) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
        step: 10
      - exemplar: true
        expr: sum(cluster:namespace:pod_cpu:active:kube_pod_container_resource_requests{namespace="$namespace",
          pod=~"$app-\\d+$"}) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: B
        step: 10
      - exemplar: true
        expr: sum(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{namespace="$namespace",
          pod=~"$app-\\d+$"}) by (pod) / sum(cluster:namespace:pod_cpu:active:kube_pod_container_resource_requests{namespace="$namespace",
          pod=~"$app-\\d+$"}) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: C
        step: 10
      - exemplar: true
        expr: sum(cluster:namespace:pod_cpu:active:kube_pod_container_resource_limits{namespace="$namespace",
          pod=~"$app-\\d+$"}) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: D
        step: 10
      - exemplar: true
        expr: sum(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{namespace="$namespace",
          pod=~"$app-\\d+$"}) by (pod) / sum(cluster:namespace:pod_cpu:active:kube_pod_container_resource_limits{namespace="$namespace",
          pod=~"$app-\\d+$"}) by (pod)
        format: table
        hide: false
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: E
        step: 10
      timeFrom: null
      timeShift: null
      title: CPU Quota
      transformations:
      - id: merge
        options:
          reducers: []
      type: table
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 21
      id: 140
      panels: []
      title: Memory Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Memory Usage by ProxySQL pods
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 6
        w: 24
        x: 0
        "y": 22
      hiddenSeries: false
      id: 100
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(node_namespace_pod_container:container_memory_working_set_bytes{namespace="$namespace",
          pod=~"$app-\\d+$",container!=""}) by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Memory Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            displayMode: auto
            filterable: false
          decimals: 2
          displayName: ""
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: Time
          properties:
          - id: displayName
            value: Time
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #A'
          properties:
          - id: displayName
            value: Memory Usage
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #B'
          properties:
          - id: displayName
            value: Memory Requests
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #C'
          properties:
          - id: displayName
            value: Memory Requests %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #D'
          properties:
          - id: displayName
            value: Memory Limits
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #E'
          properties:
          - id: displayName
            value: Memory Limits %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #F'
          properties:
          - id: displayName
            value: Memory Usage (RSS)
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #G'
          properties:
          - id: displayName
            value: Memory Usage (Cache)
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #H'
          properties:
          - id: displayName
            value: Memory Usage (Swap)
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: pod
          properties:
          - id: displayName
            value: Pod
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: links
            value:
            - targetBlank: false
              title: Drill down
              url: ./d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-pod=$__cell
          - id: custom.align
            value: null
      gridPos:
        h: 6
        w: 24
        x: 0
        "y": 28
      id: 124
      links: []
      options:
        showHeader: true
        sortBy:
        - desc: true
          displayName: Memory Usage
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{namespace="$namespace",pod=~"$app-\\d+$",container!="",
          image!=""}) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
        step: 10
      - exemplar: true
        expr: sum(cluster:namespace:pod_memory:active:kube_pod_container_resource_requests{namespace="$namespace",pod=~"$app-\\d+$"})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: B
        step: 10
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{namespace="$namespace",pod=~"$app-\\d+$",container!="",
          image!=""}) by (pod) / sum(cluster:namespace:pod_memory:active:kube_pod_container_resource_requests{namespace="$namespace",pod=~"$app-\\d+$"})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: C
        step: 10
      - exemplar: true
        expr: sum(cluster:namespace:pod_memory:active:kube_pod_container_resource_limits{namespace="$namespace",pod=~"$app-\\d+$"})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: D
        step: 10
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{namespace="$namespace",pod=~"$app-\\d+$",container!="",
          image!=""}) by (pod) / sum(cluster:namespace:pod_memory:active:kube_pod_container_resource_limits{namespace="$namespace",
          pod=~"$app-\\d+$"}) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: E
        step: 10
      - exemplar: true
        expr: sum(container_memory_rss{namespace="$namespace",pod=~"$app-\\d+$",container!=""})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: F
        step: 10
      - exemplar: true
        expr: sum(container_memory_cache{namespace="$namespace",pod=~"$app-\\d+$",container!=""})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: G
        step: 10
      - exemplar: true
        expr: sum(container_memory_swap{namespace="$namespace",pod=~"$app-\\d+$",container!=""})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: H
        step: 10
      timeFrom: null
      timeShift: null
      title: Memory Quota
      transformations:
      - id: merge
        options:
          reducers: []
      type: table
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 34
      id: 142
      panels: []
      title: Storage Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Disk usage by ProxySQL pods
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 9
        w: 12
        x: 0
        "y": 35
      hiddenSeries: false
      id: 112
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: avg(container_blkio_device_usage_total{namespace="$namespace", pod=~"$app-\\d+$"})
          by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Disk Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: System Disk Usage Information
      fieldConfig:
        defaults:
          unit: none
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 9
        w: 12
        x: 12
        "y": 35
      hiddenSeries: false
      id: 108
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(rate(container_fs_writes_total{namespace="$namespace", pod=~"$app-\\d+$"}[5m]))by(pod)
        instant: false
        interval: ""
        intervalFactor: 1
        legendFormat: '{{pod}}-disk-write'
        refId: A
      - exemplar: true
        expr: sum(rate(container_fs_reads_total{namespace="$namespace", pod=~"$app-\\d+$"}[5m]))by(pod)
        hide: false
        instant: false
        interval: ""
        legendFormat: '{{pod}}-disk-read'
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Disk R/W Info
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: none
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: short
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 44
      hiddenSeries: false
      id: 126
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: ceil(sum by(pod) (rate(container_fs_reads_total{container!="", namespace=~"$namespace",
          pod=~"$app-\\d+$"}[5m]) + rate(container_fs_writes_total{container!="" ,namespace=~"$namespace",
          pod=~"$app-\\d+$"}[5m])))
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: IOPS (Reads+Writes)
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: Bps
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 44
      hiddenSeries: false
      id: 128
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_bytes_total{container!="", namespace=~"$namespace",
          pod=~"$app-\\d+$"}[5m]) + rate(container_fs_writes_bytes_total{container!=""
          ,namespace=~"$namespace", pod=~"$app-\\d+$"}[5m]))
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: ThroughPut (Read+Write)
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: Bps
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 51
      id: 144
      panels: []
      title: Network Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 52
      hiddenSeries: false
      id: 132
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(irate(container_network_receive_bytes_total{namespace=~"$namespace",
          pod=~"$app-\\d+$"}[$__rate_interval])) by (pod)
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Receive Bandwidth
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: Bps
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: Bps
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 52
      hiddenSeries: false
      id: 134
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(irate(container_network_transmit_bytes_total{namespace=~"$namespace",
          pod=~"$app-\\d+$"}[$__rate_interval])) by (pod)
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Transmit Bandwidth
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: Bps
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    refresh: false
    schemaVersion: 27
    style: dark
    tags:
    - db
    - stats
    - kubedb
    - proxysql
    templating:
      list:
      - current:
          selected: false
          text: Prometheus
          value: Prometheus
        description: null
        error: null
        hide: 0
        includeAll: false
        label: null
        multi: false
        name: datasource
        options: []
        query: prometheus
        queryValue: ""
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: '".+"'
        current:
          selected: false
          text: demo
          value: demo
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Namespace
        multi: false
        name: namespace
        options: []
        query:
          query: label_values(kube_namespace_created,namespace)
          refId: Prometheus-namespace-Variable-Query
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text: proxy-server
          value: proxy-server
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: proxysql
        multi: false
        name: app
        options: []
        query:
          query: label_values(kubedb_com_proxysql_status_phase{namespace=~"$namespace"},app)
          refId: StandardVariableQuery
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-6h
      to: now
    timepicker:
      refresh_intervals:
      - 5s
      - 10s
      - 30s
      - 1m
      - 5m
      - 15m
      - 30m
      - 1h
      - 2h
      - 1d
      time_options:
      - 5m
      - 15m
      - 1h
      - 6h
      - 12h
      - 24h
      - 2d
      - 7d
      - 30d
    timezone: ""
    title: KubeDB / ProxySQL / Summary
    version: 9
  overwrite: true
  templatize:
    title: false
    datasource: false
---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-redis-pod
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: Redis
    k8s.io/resource: redises
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - builtIn: 1
        datasource: ${datasource}
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        target:
          limit: 100
          matchAny: false
          tags: []
          type: dashboard
        type: dashboard
    editable: true
    gnetId: 11835
    graphTooltip: 0
    iteration: 1633439168797
    links: []
    panels:
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 0
      id: 33
      panels: []
      title: General Counters And File Descriptor Stats
      type: row
    - cacheTimeout: null
      datasource: ${datasource}
      description: ""
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          decimals: 1
          mappings:
          - options:
              "0":
                color: yellow
                index: 1
                text: Down
              "1":
                index: 2
                text: Running
            text: Running
            type: 1
            value: "1"
          - from: ""
            id: null
            text: ""
            to: ""
            type: 1
          max: 100
          min: 0
          thresholds:
            mode: absolute
            steps:
            - color: rgba(50, 172, 45, 0.97)
              value: null
          unit: string
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 0
        "y": 1
      hideTimeOverride: true
      id: 18
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: value
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: redis_up{pod=~"$pod"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        metric: ""
        refId: A
        step: 2
      timeFrom: 1m
      timeShift: null
      title: Status
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            fixedColor: light-blue
            mode: fixed
          decimals: 0
          mappings:
          - options:
              master:
                color: light-blue
                index: 1
                text: master
              slave:
                color: super-light-blue
                index: 2
                text: slave
            type: value
          - options:
              match: "null"
              result:
                index: 0
                text: N/A
            type: special
          noValue: N/A
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: string
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 4
        "y": 1
      hideTimeOverride: true
      id: 17
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: none
        justifyMode: center
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: name
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: redis_instance_info{pod=~"$pod"}
        format: time_series
        hide: false
        instant: false
        interval: ""
        intervalFactor: 2
        legendFormat: '{{role}}'
        metric: ""
        refId: A
        step: 2
      timeFrom: 1m
      timeShift: null
      title: Role
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            fixedColor: rgb(31, 120, 193)
            mode: palette-classic
          decimals: 0
          mappings:
          - from: ""
            id: 1
            text: N/A
            to: ""
            type: 1
            value: "Null"
          noValue: N/A
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: string
        overrides: []
      gridPos:
        h: 3
        w: 6
        x: 8
        "y": 1
      hideTimeOverride: true
      id: 26
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: none
        justifyMode: center
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: /^master_host$/
          values: false
        text:
          titleSize: 8
          valueSize: 25
        textMode: value
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: redis_master_last_io_seconds_ago{pod=~"$pod"}
        format: table
        hide: false
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: '{{master_host}}'
        metric: ""
        refId: A
        step: 2
      timeFrom: 1m
      timeShift: null
      title: My Master
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            fixedColor: light-blue
            mode: fixed
          decimals: 0
          mappings:
          - options:
              "0":
                index: 1
                text: N/A
            type: value
          - options:
              match: "null"
              result:
                index: 0
                text: N/A
            type: special
          min: -2
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: string
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 14
        "y": 1
      hideTimeOverride: true
      id: 21
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: none
        justifyMode: center
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: redis_connected_slaves{pod=~"$pod"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        metric: ""
        refId: A
        step: 2
      timeFrom: 1m
      timeShift: null
      title: My slaves
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            fixedColor: super-light-blue
            mode: fixed
          decimals: 0
          mappings:
          - options:
              match: "null"
              result:
                text: N/A
            type: special
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 3
        x: 18
        "y": 1
      hideTimeOverride: true
      id: 12
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: none
        justifyMode: center
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: redis_connected_clients{pod=~"$pod"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        metric: ""
        refId: A
        step: 2
      timeFrom: 1m
      timeShift: null
      title: Connected Clients
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      description: Number of goroutines that currently exist
      fieldConfig:
        defaults:
          color:
            fixedColor: rgb(31, 120, 193)
            mode: palette-classic
          decimals: 0
          mappings: []
          noValue: N/A
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: string
        overrides: []
      gridPos:
        h: 3
        w: 3
        x: 21
        "y": 1
      hideTimeOverride: true
      id: 27
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text:
          titleSize: 8
          valueSize: 32
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: go_goroutines{pod="$pod"}
        format: time_series
        hide: false
        instant: false
        interval: ""
        intervalFactor: 1
        legendFormat: ""
        metric: ""
        refId: A
        step: 2
      timeFrom: 1m
      timeShift: null
      title: Go Routines
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            fixedColor: blue
            mode: fixed
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: s
        overrides: []
      gridPos:
        h: 7
        w: 4
        x: 0
        "y": 4
      id: 9
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: max(max_over_time(redis_uptime_in_seconds{pod=~"$pod"}[$__interval]))
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        metric: ""
        refId: A
        step: 1800
      timeFrom: null
      timeShift: null
      title: Uptime
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          decimals: 0
          mappings:
          - options:
              match: "null"
              result:
                text: N/A
            type: special
          max: 100
          min: 0
          thresholds:
            mode: absolute
            steps:
            - color: rgba(50, 172, 45, 0.97)
              value: null
          unit: decbytes
        overrides: []
      gridPos:
        h: 7
        w: 5
        x: 4
        "y": 4
      hideTimeOverride: true
      id: 11
      interval: null
      links: []
      maxDataPoints: 100
      options:
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        showThresholdLabels: false
        showThresholdMarkers: true
        text: {}
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: redis_memory_used_bytes{pod=~"$pod"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        metric: ""
        refId: A
        step: 2
      timeFrom: 1m
      timeShift: null
      title: Memory Usage
      type: gauge
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      editable: true
      error: false
      fieldConfig:
        defaults:
          links: []
        overrides: []
      fill: 1
      fillGradient: 0
      grid: {}
      gridPos:
        h: 7
        w: 7
        x: 9
        "y": 4
      hiddenSeries: false
      id: 2
      isNew: true
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(redis_commands_processed_total{pod=~"$pod"}[1m])
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        metric: A
        refId: A
        step: 240
        target: ""
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Commands Executed / sec
      tooltip:
        msResolution: false
        shared: true
        sort: 0
        value_type: cumulative
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      editable: true
      error: false
      fieldConfig:
        defaults:
          links: []
        overrides: []
      fill: 1
      fillGradient: 0
      grid: {}
      gridPos:
        h: 7
        w: 8
        x: 16
        "y": 4
      hiddenSeries: false
      id: 1
      isNew: true
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: true
      pluginVersion: 8.0.7
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: irate(redis_keyspace_hits_total{pod=~"$pod"}[5m])
        format: time_series
        hide: false
        interval: ""
        intervalFactor: 2
        legendFormat: hits
        metric: ""
        refId: A
        step: 240
        target: ""
      - exemplar: true
        expr: irate(redis_keyspace_misses_total{pod=~"$pod"}[5m])
        format: time_series
        hide: false
        interval: ""
        intervalFactor: 2
        legendFormat: misses
        metric: ""
        refId: B
        step: 240
        target: ""
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Hits / Misses per Sec
      tooltip:
        msResolution: false
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:191
        format: short
        label: ""
        logBase: 1
        max: null
        min: 0
        show: true
      - $$hashKey: object:192
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      editable: true
      error: false
      fieldConfig:
        defaults:
          links: []
        overrides: []
      fill: 1
      fillGradient: 0
      grid: {}
      gridPos:
        h: 7
        w: 8
        x: 0
        "y": 11
      hiddenSeries: false
      id: 10
      isNew: true
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(redis_net_input_bytes_total{pod=~"$pod"}[5m])
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{input}}'
        refId: A
        step: 240
      - exemplar: true
        expr: rate(redis_net_output_bytes_total{pod=~"$pod"}[5m])
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{output}}'
        refId: B
        step: 240
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Network I/O
      tooltip:
        msResolution: true
        shared: true
        sort: 0
        value_type: cumulative
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      editable: true
      error: false
      fieldConfig:
        defaults:
          links: []
        overrides: []
      fill: 8
      fillGradient: 0
      grid: {}
      gridPos:
        h: 7
        w: 8
        x: 8
        "y": 11
      hiddenSeries: false
      id: 14
      isNew: true
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: true
      steppedLine: false
      targets:
      - exemplar: true
        expr: topk(7, irate(redis_commands_total{pod=~"$pod"} [1m]))
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{cmd}}'
        metric: redis_command_calls_total
        refId: A
        step: 240
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Command Calls / sec
      tooltip:
        msResolution: true
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:276
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:277
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          links: []
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 8
        x: 16
        "y": 11
      hiddenSeries: false
      id: 16
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: redis_connected_clients{pod=~"$pod"}
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: ""
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Redis connected clients
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:853
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:854
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 18
      id: 35
      panels: []
      title: CPU And memory Usage Stats
      type: row
    - aliasColors:
        max: '#BF1B00'
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      editable: true
      error: false
      fieldConfig:
        defaults:
          links: []
        overrides: []
      fill: 1
      fillGradient: 0
      grid: {}
      gridPos:
        h: 8
        w: 7
        x: 0
        "y": 19
      hiddenSeries: false
      id: 7
      isNew: true
      legend:
        avg: false
        current: false
        hideEmpty: false
        hideZero: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: null as zero
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: 'redis_memory_used_bytes{pod=~"$pod"} '
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: used
        metric: ""
        refId: A
        step: 240
        target: ""
      - exemplar: true
        expr: 'redis_memory_max_bytes{pod=~"$pod"} '
        format: time_series
        hide: false
        interval: ""
        intervalFactor: 2
        legendFormat: max
        refId: B
        step: 240
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Total Memory Usage
      tooltip:
        msResolution: false
        shared: true
        sort: 0
        value_type: cumulative
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:272
        format: bytes
        label: null
        logBase: 1
        max: null
        min: 0
        show: true
      - $$hashKey: object:273
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors:
        max: '#BF1B00'
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Average user and system CPU time spent in seconds.
      editable: true
      error: false
      fieldConfig:
        defaults:
          links: []
        overrides: []
      fill: 1
      fillGradient: 0
      grid: {}
      gridPos:
        h: 8
        w: 9
        x: 7
        "y": 19
      hiddenSeries: false
      id: 28
      isNew: true
      legend:
        avg: false
        current: false
        hideEmpty: false
        hideZero: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: null as zero
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: avg(rate(process_cpu_seconds_total{pod="$pod", namespace="$namespace"}[5m])
          * 1000)
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: used
        metric: ""
        refId: A
        step: 240
        target: ""
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Average CPU Usage
      tooltip:
        msResolution: false
        shared: true
        sort: 0
        value_type: cumulative
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:100
        format: bytes
        label: null
        logBase: 1
        max: null
        min: 0
        show: true
      - $$hashKey: object:101
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors:
        max: '#BF1B00'
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Virtual and Resident memory size in bytes, averages over 5 min interval
      editable: true
      error: false
      fieldConfig:
        defaults:
          links: []
        overrides: []
      fill: 1
      fillGradient: 0
      grid: {}
      gridPos:
        h: 8
        w: 8
        x: 16
        "y": 19
      hiddenSeries: false
      id: 29
      isNew: true
      legend:
        avg: false
        current: false
        hideEmpty: false
        hideZero: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: null as zero
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: avg(rate(process_resident_memory_bytes{pod="$pod", namespace="$namespace"}[5m]))
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: Resident Mem
        metric: ""
        refId: A
        step: 240
        target: ""
      - exemplar: true
        expr: avg(rate(process_virtual_memory_bytes{pod="$pod", namespace="$namespace"}[5m]))
        hide: false
        interval: ""
        legendFormat: Virtual Mem
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Average Memory Usage
      tooltip:
        msResolution: false
        shared: true
        sort: 0
        value_type: cumulative
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:100
        format: bytes
        label: null
        logBase: 1
        max: null
        min: 0
        show: true
      - $$hashKey: object:101
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    refresh: 10s
    schemaVersion: 27
    style: dark
    tags:
    - redis
    - db
    - stats
    templating:
      list:
      - current:
          selected: false
          text: Prometheus
          value: Prometheus
        description: null
        error: null
        hide: 0
        includeAll: false
        label: null
        multi: false
        name: datasource
        options: []
        query: prometheus
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: null
        current:
          isNone: true
          selected: false
          text: None
          value: ""
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Namespace
        multi: false
        name: namespace
        options: []
        query:
          query: label_values(redis_up, namespace)
          refId: Prometheus-namespace-Variable-Query
        refresh: 2
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          isNone: true
          selected: false
          text: None
          value: ""
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: redis
        multi: false
        name: app
        options: []
        query:
          query: query_result(kubedb_com_redis_created{namespace="$namespace"})
          refId: Prometheus-app-Variable-Query
        refresh: 1
        regex: /.*app="([^"]+).*/
        skipUrlSync: false
        sort: 1
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          isNone: true
          selected: false
          text: None
          value: ""
        datasource: ${datasource}
        definition: label_values(redis_up{namespace=~"$namespace",pod=~"${app}-.*"},pod)
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Pod Name
        multi: false
        name: pod
        options: []
        query:
          query: label_values(redis_up{namespace=~"$namespace",pod=~"${app}-.*"},pod)
          refId: Prometheus-pod-Variable-Query
        refresh: 2
        regex: ""
        skipUrlSync: false
        sort: 1
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-6h
      to: now
    timepicker:
      refresh_intervals:
      - 5s
      - 10s
      - 30s
      - 1m
      - 5m
      - 15m
      - 30m
      - 1h
      - 2h
      - 1d
      time_options:
      - 5m
      - 15m
      - 1h
      - 6h
      - 12h
      - 24h
      - 2d
      - 7d
      - 30d
    timezone: ""
    title: KubeDB / Redis / Pod
    version: 13
  overwrite: true
  templatize:
    title: false
    datasource: false
---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-redis-shard
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: Redis
    k8s.io/resource: redises
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - datasource: ${datasource}
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        target:
          limit: 100
          matchAny: false
          tags: []
          type: dashboard
        type: dashboard
    editable: true
    gnetId: 11835
    graphTooltip: 0
    iteration: 1633495120866
    links: []
    panels:
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 0
      id: 31
      panels: []
      title: Shard Cluster Info
      type: row
    - cacheTimeout: null
      datasource: ${datasource}
      description: ""
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          decimals: 1
          mappings:
          - options:
              from: 0
              result:
                color: red
                index: 2
                text: Not Ok
              to: 16383
            text: OK
            type: 1
            value: "16384"
          max: 100
          min: 0
          thresholds:
            mode: absolute
            steps:
            - color: rgba(50, 172, 45, 0.97)
              value: null
          unit: string
        overrides: []
      gridPos:
        h: 4
        w: 3
        x: 0
        "y": 1
      hideTimeOverride: true
      id: 34
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: redis_cluster_slots_ok{pod=~"$pod"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        metric: ""
        refId: A
        step: 2
      timeFrom: 1m
      timeShift: null
      title: Cluster Shard slots
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            fixedColor: light-blue
            mode: fixed
          decimals: 0
          mappings:
          - options:
              "0":
                index: 1
                text: N/A
            type: value
          - options:
              match: "null"
              result:
                index: 0
                text: N/A
            type: special
          min: -2
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: string
        overrides: []
      gridPos:
        h: 4
        w: 4
        x: 3
        "y": 1
      hideTimeOverride: true
      id: 24
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: none
        justifyMode: center
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: redis_cluster_known_nodes{pod=~"$pod"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        metric: ""
        refId: A
        step: 2
      timeFrom: 1m
      timeShift: null
      title: Cluster nodes
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            fixedColor: super-light-blue
            mode: fixed
          decimals: 0
          mappings:
          - options:
              match: "null"
              result:
                index: 0
                text: "1"
            type: special
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: none
        overrides: []
      gridPos:
        h: 4
        w: 5
        x: 7
        "y": 1
      hideTimeOverride: true
      id: 36
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: none
        justifyMode: center
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text:
          titleSize: 16
        textMode: value
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: redis_connected_slaves{pod=~"$pod"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        metric: ""
        refId: A
        step: 2
      timeFrom: 1m
      timeShift: null
      title: Connected Slaves
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      description: ""
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: center
            displayMode: auto
            filterable: false
          mappings:
          - from: ""
            id: 1
            text: N/A
            to: ""
            type: 1
            value: "Null"
          - from: ""
            id: 2
            text: N/A
            to: ""
            type: 1
            value: Nan
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 1
      hideTimeOverride: true
      id: 35
      interval: null
      links: []
      maxDataPoints: 100
      options:
        frameIndex: 1
        showHeader: true
        sortBy: []
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: 'redis_connected_slave_offset_bytes{pod=~"$pod"} '
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        metric: ""
        refId: A
        step: 2
      timeFrom: 1m
      timeShift: null
      title: My Slaves
      transformations:
      - id: renameByRegex
        options:
          regex: slave_ip
          renamePattern: Slave IP
      - id: renameByRegex
        options:
          regex: slave_port
          renamePattern: Slave Port
      - id: renameByRegex
        options:
          regex: slave_state
          renamePattern: Status
      - id: filterFieldsByName
        options:
          include:
            names:
            - Slave IP
            - Slave Port
            - Status
      type: table
    - cacheTimeout: null
      datasource: ${datasource}
      description: ""
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          decimals: 1
          mappings:
          - from: ""
            id: 1
            text: None
            to: ""
            type: 1
            value: "0"
          max: 100
          min: 0
          thresholds:
            mode: absolute
            steps:
            - color: rgba(50, 172, 45, 0.97)
              value: null
          unit: string
        overrides: []
      gridPos:
        h: 4
        w: 3
        x: 0
        "y": 5
      hideTimeOverride: true
      id: 23
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: area
        justifyMode: center
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text:
          titleSize: 1
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: redis_cluster_slots_fail{pod=~"$pod"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        metric: ""
        refId: A
        step: 2
      timeFrom: 1m
      timeShift: null
      title: Cluster Shard slots Failed
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            fixedColor: rgb(31, 120, 193)
            mode: palette-classic
          decimals: 0
          mappings: []
          noValue: N/A
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: string
        overrides: []
      gridPos:
        h: 4
        w: 4
        x: 3
        "y": 5
      hideTimeOverride: true
      id: 19
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: none
        justifyMode: center
        orientation: vertical
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: name
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: redis_instance_info{pod=~"$pod"}
        format: time_series
        hide: false
        instant: false
        interval: ""
        intervalFactor: 2
        legendFormat: '{{redis_mode}}'
        metric: ""
        refId: A
        step: 2
      timeFrom: 1m
      timeShift: null
      title: Mode
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            fixedColor: super-light-blue
            mode: fixed
          decimals: 0
          mappings:
          - options:
              match: "null"
              result:
                index: 0
                text: "1"
            type: special
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: none
        overrides: []
      gridPos:
        h: 4
        w: 5
        x: 7
        "y": 5
      hideTimeOverride: true
      id: 20
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: none
        justifyMode: center
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text:
          titleSize: 16
        textMode: value
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: redis_cluster_size{pod=~"$pod"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        metric: ""
        refId: A
        step: 2
      timeFrom: 1m
      timeShift: null
      title: Cluster Masters
      type: stat
    refresh: 10s
    schemaVersion: 27
    style: dark
    tags:
    - redis
    - db
    - stats
    templating:
      list:
      - current:
          selected: false
          text: Prometheus
          value: Prometheus
        description: null
        error: null
        hide: 0
        includeAll: false
        label: null
        multi: false
        name: datasource
        options: []
        query: prometheus
        queryValue: ""
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: null
        current:
          isNone: true
          selected: false
          text: None
          value: ""
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Namespace
        multi: false
        name: namespace
        options: []
        query:
          query: label_values(redis_up, namespace)
          refId: Prometheus-namespace-Variable-Query
        refresh: 2
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          isNone: true
          selected: false
          text: None
          value: ""
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: redis
        multi: false
        name: app
        options: []
        query:
          query: query_result(kubedb_com_redis_created{namespace="$namespace"})
          refId: Prometheus-app-Variable-Query
        refresh: 1
        regex: /.*app="([^"]+).*/
        skipUrlSync: false
        sort: 1
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          isNone: true
          selected: false
          text: None
          value: ""
        datasource: ${datasource}
        definition: label_values(redis_up{namespace=~"$namespace",pod=~"${app}-shard.*"},pod)
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Pod Name
        multi: false
        name: pod
        options: []
        query:
          query: label_values(redis_up{namespace=~"$namespace",pod=~"${app}-shard.*"},pod)
          refId: Prometheus-pod-Variable-Query
        refresh: 2
        regex: ""
        skipUrlSync: false
        sort: 1
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - datasource: ${datasource}
        description: null
        error: null
        filters: []
        hide: 0
        label: null
        name: Filters
        skipUrlSync: false
        type: adhoc
    time:
      from: now-6h
      to: now
    timepicker:
      refresh_intervals:
      - 5s
      - 10s
      - 30s
      - 1m
      - 5m
      - 15m
      - 30m
      - 1h
      - 2h
      - 1d
      time_options:
      - 5m
      - 15m
      - 1h
      - 6h
      - 12h
      - 24h
      - 2d
      - 7d
      - 30d
    timezone: ""
    title: KubeDB / Redis / Shard
    version: 7
  overwrite: true
  templatize:
    title: false
    datasource: false
---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-redis-summary
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: Redis
    k8s.io/resource: redises
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - builtIn: 1
        datasource: ${datasource}
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        target:
          limit: 100
          matchAny: false
          tags: []
          type: dashboard
        type: dashboard
    description: The dashboard is designed for KubeDB managed Redis
    editable: true
    gnetId: 9628
    graphTooltip: 0
    iteration: 1710754199629
    links: []
    panels:
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 0
      id: 161
      panels: []
      title: General
      type: row
    - datasource: ${datasource}
      description: Represent database status
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          mappings:
          - options:
              Critical:
                color: dark-yellow
                index: 1
              DataRestoring:
                color: dark-red
                index: 4
              Halted:
                color: dark-red
                index: 5
              NotReady:
                color: dark-red
                index: 2
              Provisioning:
                color: text
                index: 3
              Ready:
                color: semi-dark-green
                index: 0
            type: value
          thresholds:
            mode: absolute
            steps:
            - color: text
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 8
        x: 0
        "y": 1
      id: 78
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: /^phase$/
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: |
          kubedb_com_redis_status_phase{namespace="$namespace", app="$app"} == 1
        format: table
        instant: true
        interval: ""
        legendFormat: '{{phase}}'
        refId: A
      title: Database Status
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      description: RedisVersion CR Name
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings:
          - options:
              match: "null"
              result:
                index: 0
                text: N/A
            type: special
          noValue: N/A
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 8
        "y": 1
      id: 36
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - mean
          fields: ""
          values: false
        text: {}
        textMode: name
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: kubedb_com_redis_info{namespace="$namespace", app="$app"}
        format: time_series
        instant: true
        interval: ""
        intervalFactor: 1
        legendFormat: '{{version}}'
        refId: A
      title: Version
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      description: redis_config_maxclients
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          noValue: N/A
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: string
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 12
        "y": 1
      id: 151
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: none
        justifyMode: center
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text:
          valueSize: 25
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: 'avg(redis_config_maxclients{namespace="$namespace" , pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"}) '
        format: time_series
        instant: true
        interval: ""
        intervalFactor: 1
        legendFormat: values
        refId: A
      title: Max Clients
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      description: RedisMode CR Name
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings:
          - options:
              match: "null"
              result:
                index: 0
                text: N/A
            type: special
          noValue: N/A
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 16
        "y": 1
      id: 145
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - mean
          fields: ""
          values: false
        text: {}
        textMode: name
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: kubedb_com_redis_info{namespace="$namespace", app="$app"}
        format: time_series
        instant: true
        interval: ""
        intervalFactor: 1
        legendFormat: '{{mode}}'
        refId: A
      title: RedisMode
      type: stat
    - datasource: ${datasource}
      description: KubeDB Database Resource terminationPolicy
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          mappings:
          - options:
              Delete:
                color: yellow
                index: 1
              DoNotTerminate:
                color: green
                index: 2
              Halt:
                color: blue
                index: 3
              WipeOut:
                color: dark-red
                index: 0
            type: value
          thresholds:
            mode: absolute
            steps:
            - color: text
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 20
        "y": 1
      id: 84
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: /^terminationPolicy$/
          values: false
        text: {}
        textMode: value
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: kubedb_com_redis_info{namespace="$namespace", app="$app"}
        format: table
        instant: true
        interval: ""
        legendFormat: '{{terminationPolicy}}'
        refId: A
      title: Termination Policy
      type: stat
    - datasource: ${datasource}
      description: Total node count of Redis cluster
      fieldConfig:
        defaults:
          color:
            fixedColor: green
            mode: fixed
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 0
        "y": 4
      id: 76
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: kubedb_com_redis_replicas{namespace="$namespace",app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Total Nodes
      type: stat
    - datasource: ${datasource}
      description: Initial Requested CPU amount by Postgres Instance
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          min: 0
          thresholds:
            mode: percentage
            steps:
            - color: green
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 4
        "y": 4
      id: 92
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: kubedb_com_redis_resource_request_cpu{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: CPU Request (Core)
      type: stat
    - datasource: ${datasource}
      description: CPU Limit in core by Redis instance
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 8
        "y": 4
      id: 114
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: kubedb_com_redis_resource_limit_cpu{namespace="$namespace", app="$app"}
        interval: ""
        legendFormat: ""
        refId: A
      title: CPU Limit (Core)
      type: stat
    - datasource: ${datasource}
      description: Initial Requested Memory amount by Redis Instance
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          min: 0
          thresholds:
            mode: percentage
            steps:
            - color: green
              value: null
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 12
        "y": 4
      id: 94
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: kubedb_com_redis_resource_request_memory{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Memory Request
      type: stat
    - datasource: ${datasource}
      description: KubeDB Redis Total Memory Limit
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 16
        "y": 4
      id: 116
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: kubedb_com_redis_resource_limit_memory{namespace="$namespace", app="$app"}
        interval: ""
        legendFormat: ""
        refId: A
      title: Memory Limit
      type: stat
    - datasource: ${datasource}
      description: Total storage request by Redis nodes
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          min: 0
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 20
        "y": 4
      id: 96
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: kubedb_com_redis_resource_request_storage{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Storage Request
      type: stat
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 12
      id: 138
      panels: []
      title: CPU Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: CPU Usage by Redis pods
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 13
      hiddenSeries: false
      id: 98
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
        legend:
          calcs: []
          displayMode: table
          placement: right
        tooltip:
          mode: single
        tooltipOptions:
          mode: single
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(sum by (namespace, pod, container) (irate(container_cpu_usage_seconds_total{image!="",job="kubelet",metrics_path="/metrics/cadvisor",namespace="$namespace",
          pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"}[5m])) * on (namespace, pod) group_left
          (node) topk by (namespace, pod) (1, max by (namespace, pod, node) (kube_pod_info{node!="",namespace="$namespace",
          pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"}))) by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: CPU Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      description: CPU Quote information in details
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            displayMode: auto
            filterable: false
          decimals: 2
          displayName: ""
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: Time
          properties:
          - id: displayName
            value: Time
          - id: custom.align
            value: null
          - id: custom.width
            value: null
        - matcher:
            id: byName
            options: 'Value #A'
          properties:
          - id: displayName
            value: CPU Usage
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #B'
          properties:
          - id: displayName
            value: CPU Requests
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #C'
          properties:
          - id: displayName
            value: CPU Requests %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #D'
          properties:
          - id: displayName
            value: CPU Limits
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #E'
          properties:
          - id: displayName
            value: CPU Limits %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: pod
          properties:
          - id: displayName
            value: Pod
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: links
            value:
            - targetBlank: false
              title: Drill down
              url: ./d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-pod=$__cell
          - id: custom.align
            value: null
      gridPos:
        h: 6
        w: 24
        x: 0
        "y": 20
      id: 122
      links: []
      options:
        showHeader: true
        sortBy: []
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: sum(sum by (namespace, pod, container) (irate(container_cpu_usage_seconds_total{image!="",job="kubelet",metrics_path="/metrics/cadvisor",namespace="$namespace",
          pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"}[5m])) * on (namespace, pod) group_left
          (node) topk by (namespace, pod) (1, max by (namespace, pod, node) (kube_pod_info{node!="",namespace="$namespace",
          pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"}))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
        step: 10
      - exemplar: true
        expr: sum(kube_pod_container_resource_requests{job="kube-state-metrics",resource="cpu",namespace="$namespace",
          pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"} * on (namespace,pod) group_left () max
          by (namespace,pod) ((kube_pod_status_phase{phase=~"Pending|Running"} == 1)))
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: B
        step: 10
      - exemplar: true
        expr: sum(sum by (namespace, pod, container) (irate(container_cpu_usage_seconds_total{image!="",job="kubelet",metrics_path="/metrics/cadvisor",namespace="$namespace",
          pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"}[5m])) * on (namespace, pod) group_left
          (node) topk by (namespace, pod) (1, max by (namespace, pod, node) (kube_pod_info{node!="",namespace="$namespace",
          pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"}))) by (pod) / sum(kube_pod_container_resource_limits{job="kube-state-metrics",resource="cpu",namespace="$namespace",
          pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"} * on (namespace,pod) group_left() max
          by (namespace, pod) ((kube_pod_status_phase{phase=~"Pending|Running"} == 1)))
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: C
        step: 10
      - exemplar: true
        expr: sum(kube_pod_container_resource_limits{job="kube-state-metrics",resource="cpu",namespace="$namespace",
          pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"} * on (namespace,pod) group_left() max
          by (namespace, pod) ((kube_pod_status_phase{phase=~"Pending|Running"} == 1)))
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: D
        step: 10
      - exemplar: true
        expr: sum(sum by (namespace, pod, container) (irate(container_cpu_usage_seconds_total{image!="",job="kubelet",metrics_path="/metrics/cadvisor",namespace="$namespace",
          pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"}[5m])) * on (namespace, pod) group_left
          (node) topk by (namespace, pod) (1, max by (namespace, pod, node) (kube_pod_info{node!="",namespace="$namespace",
          pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"}))) by (pod) / sum(kube_pod_container_resource_requests{job="kube-state-metrics",resource="cpu",namespace="$namespace",
          pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"} * on (namespace,pod) group_left () max
          by (namespace,pod) ((kube_pod_status_phase{phase=~"Pending|Running"} == 1)))
          by (pod)
        format: table
        hide: false
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: E
        step: 10
      timeFrom: null
      timeShift: null
      title: CPU Quota
      transformations:
      - id: merge
        options:
          reducers: []
      type: table
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 33
      id: 163
      panels: []
      title: Memory Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Memory Usage by Redis pods
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 6
        w: 24
        x: 0
        "y": 34
      hiddenSeries: false
      id: 100
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
        legend:
          calcs: []
          displayMode: table
          placement: right
        tooltip:
          mode: single
        tooltipOptions:
          mode: single
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{image!="",job="kubelet",metrics_path="/metrics/cadvisor",namespace="$namespace",
          pod=~"$app-\\d+$|$app-shard\\d+-\\d+$",container!=""} * on (namespace, pod)
          group_left (node) topk by (namespace, pod) (1, max by (namespace, pod, node)
          (kube_pod_info{node!=""}))) by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Memory Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            displayMode: auto
            filterable: false
          decimals: 2
          displayName: ""
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: Time
          properties:
          - id: displayName
            value: Time
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #A'
          properties:
          - id: displayName
            value: Memory Usage
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #B'
          properties:
          - id: displayName
            value: Memory Requests
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #C'
          properties:
          - id: displayName
            value: Memory Requests %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #D'
          properties:
          - id: displayName
            value: Memory Limits
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #E'
          properties:
          - id: displayName
            value: Memory Limits %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #F'
          properties:
          - id: displayName
            value: Memory Usage (RSS)
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #G'
          properties:
          - id: displayName
            value: Memory Usage (Cache)
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #H'
          properties:
          - id: displayName
            value: Memory Usage (Swap)
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: pod
          properties:
          - id: displayName
            value: Pod
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: links
            value:
            - targetBlank: false
              title: Drill down
              url: ./d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-pod=$__cell
          - id: custom.align
            value: null
      gridPos:
        h: 6
        w: 24
        x: 0
        "y": 40
      id: 124
      links: []
      options:
        showHeader: true
        sortBy:
        - desc: true
          displayName: Memory Usage
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{namespace="$namespace",pod=~"$app-\\d+$|$app-shard\\d+-\\d+$",container!="",
          image!=""}) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
        step: 10
      - exemplar: true
        expr: sum (kube_pod_container_resource_requests{job="kube-state-metrics",resource="memory",namespace="$namespace",pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"}
          * on (namespace, pod, cluster) group_left () max by (namespace, pod, cluster)
          ((kube_pod_status_phase{phase=~"Pending|Running"} == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: B
        step: 10
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{namespace="$namespace",pod=~"$app-\\d+$|$app-shard\\d+-\\d+$",container!="",
          image!=""}) by (pod) / sum(kube_pod_container_resource_requests{job="kube-state-metrics",resource="memory",namespace="$namespace",pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"}
          * on (namespace, pod, cluster) group_left () max by (namespace, pod, cluster)
          ((kube_pod_status_phase{phase=~"Pending|Running"} == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: C
        step: 10
      - exemplar: true
        expr: sum(kube_pod_container_resource_limits{job="kube-state-metrics",resource="memory",namespace="$namespace",pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"}
          * on (namespace, pod, cluster) group_left () max by (namespace, pod, cluster)
          ((kube_pod_status_phase{phase=~"Pending|Running"} == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: D
        step: 10
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{namespace="$namespace",pod=~"$app-\\d+$|$app-shard\\d+-\\d+$",container!="",
          image!=""}) by (pod) / sum(cluster:namespace:pod_memory:active:kube_pod_container_resource_limits{namespace="$namespace",
          pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"}) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: E
        step: 10
      - exemplar: true
        expr: sum(container_memory_rss{namespace="$namespace",pod=~"$app-\\d+$|$app-shard\\d+-\\d+$",container!=""})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: F
        step: 10
      - exemplar: true
        expr: sum(container_memory_cache{namespace="$namespace",pod=~"$app-\\d+$|$app-shard\\d+-\\d+$",container!=""})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: G
        step: 10
      - exemplar: true
        expr: sum(container_memory_swap{namespace="$namespace",pod=~"$app-\\d+$|$app-shard\\d+-\\d+$",container!=""})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: H
        step: 10
      timeFrom: null
      timeShift: null
      title: Memory Quota
      transformations:
      - id: merge
        options:
          reducers: []
      type: table
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 52
      id: 142
      panels: []
      title: Storage Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Disk usage by Redis pods
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 9
        w: 12
        x: 0
        "y": 53
      hiddenSeries: false
      id: 112
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
        legend:
          calcs: []
          displayMode: list
          placement: bottom
        tooltip:
          mode: single
        tooltipOptions:
          mode: single
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: avg(container_blkio_device_usage_total{namespace="$namespace", pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"})
          by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Disk Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: System Disk Usage Information
      fieldConfig:
        defaults:
          unit: none
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 9
        w: 12
        x: 12
        "y": 53
      hiddenSeries: false
      id: 108
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
        legend:
          calcs: []
          displayMode: table
          placement: right
        tooltip:
          mode: single
        tooltipOptions:
          mode: single
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(rate(container_fs_writes_total{namespace="$namespace", pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"}[5m]))by(pod)
        instant: false
        interval: ""
        intervalFactor: 1
        legendFormat: '{{pod}}-disk-write'
        refId: A
      - exemplar: true
        expr: sum(rate(container_fs_reads_total{namespace="$namespace", pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"}[5m]))by(pod)
        hide: false
        instant: false
        interval: ""
        legendFormat: '{{pod}}-disk-read'
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Disk R/W Info
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: none
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: short
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 62
      hiddenSeries: false
      id: 126
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
        legend:
          calcs: []
          displayMode: list
          placement: bottom
        tooltip:
          mode: single
        tooltipOptions:
          mode: single
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: ceil(sum by(pod) (rate(container_fs_reads_total{container!="", namespace=~"$namespace",
          pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"}[5m]) + rate(container_fs_writes_total{container!=""
          ,namespace=~"$namespace", pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"}[5m])))
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: IOPS (Reads+Writes)
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: Bps
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 62
      hiddenSeries: false
      id: 128
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
        legend:
          calcs: []
          displayMode: list
          placement: bottom
        tooltip:
          mode: single
        tooltipOptions:
          mode: single
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_bytes_total{container!="", namespace=~"$namespace",
          pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"}[5m]) + rate(container_fs_writes_bytes_total{container!=""
          ,namespace=~"$namespace", pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"}[5m]))
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: ThroughPut (Read+Write)
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: Bps
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            displayMode: auto
            filterable: false
          decimals: 2
          displayName: ""
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: Time
          properties:
          - id: displayName
            value: Time
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #A'
          properties:
          - id: displayName
            value: IOPS(Reads)
          - id: unit
            value: short
          - id: decimals
            value: -1
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #B'
          properties:
          - id: displayName
            value: IOPS(Writes)
          - id: unit
            value: short
          - id: decimals
            value: -1
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #C'
          properties:
          - id: displayName
            value: IOPS(Reads + Writes)
          - id: unit
            value: short
          - id: decimals
            value: -1
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #D'
          properties:
          - id: displayName
            value: Throughput(Read)
          - id: unit
            value: Bps
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #E'
          properties:
          - id: displayName
            value: Throughput(Write)
          - id: unit
            value: Bps
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #F'
          properties:
          - id: displayName
            value: Throughput(Read + Write)
          - id: unit
            value: Bps
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: pod
          properties:
          - id: displayName
            value: Pod
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: links
            value:
            - targetBlank: false
              title: Drill down to pods
              url: ./d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-pod=$__cell
          - id: custom.align
            value: null
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 69
      id: 130
      links: []
      options:
        showHeader: true
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_total{container!="", pod=~"$app-\\d+$|$app-shard\\d+-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_writes_total{container!="", pod=~"$app-\\d+$|$app-shard\\d+-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: B
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_total{container!="", pod=~"$app-\\d+$|$app-shard\\d+-\\d+$",namespace=~"$namespace"}[5m])
          + rate(container_fs_writes_total{container!="",pod=~"$app-\\d+$|$app-shard\\d+-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: C
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_bytes_total{container!="", pod=~"$app-\\d+$|$app-shard\\d+-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: D
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_writes_bytes_total{container!="", pod=~"$app-\\d+$|$app-shard\\d+-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: E
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_bytes_total{container!="", pod=~"$app-\\d+$|$app-shard\\d+-\\d+$",namespace=~"$namespace"}[5m])
          + rate(container_fs_writes_bytes_total{container!="",pod=~"$app-\\d+$|$app-shard\\d+-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: F
        step: 10
      timeFrom: null
      timeShift: null
      title: Current Storage IO
      transformations:
      - id: merge
        options:
          reducers: []
      type: table
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 76
      id: 153
      panels: []
      title: Persistent Storage Insight
      type: row
    - datasource: ${datasource}
      description: |
        This panel describes allocated persistent storage in a table format
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: center
            displayMode: color-text
            filterable: false
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: light-blue
              value: null
          unit: decbytes
        overrides: []
      gridPos:
        h: 6
        w: 12
        x: 0
        "y": 77
      id: 157
      options:
        showHeader: true
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: kubelet_volume_stats_capacity_bytes + on(persistentvolumeclaim) group_left(pod)
          kube_pod_spec_volumes_persistentvolumeclaims_info{pod=~"$app-\\d+$|$app-shard\\d+-\\d+$",namespace=~"$namespace"}
        format: table
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Allocated Storage
      transformations:
      - id: organize
        options:
          excludeByName:
            Time: true
            endpoint: true
            instance: true
            job: true
            metrics_path: true
            namespace: true
            node: true
            persistentvolumeclaim: true
            service: true
          indexByName: {}
          renameByName:
            Value: Volume
            pod: Pod
      type: table
    - datasource: ${datasource}
      description: 'This panel shows the persistent volume usage in percentage. '
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: percent
        overrides: []
      gridPos:
        h: 6
        w: 12
        x: 12
        "y": 77
      id: 159
      options:
        displayMode: gradient
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        showUnfilled: true
        text: {}
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: (kubelet_volume_stats_used_bytes / on(persistentvolumeclaim) group_left(pod)
          (kubelet_volume_stats_capacity_bytes + on(persistentvolumeclaim) group_left(pod)
          kube_pod_spec_volumes_persistentvolumeclaims_info{pod=~"$app-\\d+$|$app-shard\\d+-\\d+$",namespace=~"$namespace"})
          )* 100
        instant: true
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      title: Persistent Volume Usage
      transformations: []
      type: bargauge
    - datasource: ${datasource}
      description: 'This panel describes the persistent volume usage in a time series. '
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            axisSoftMax: 5000
            axisSoftMin: 0
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: opacity
            hideFrom:
              graph: false
              legend: false
              tooltip: false
            lineInterpolation: linear
            lineStyle:
              fill: solid
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: true
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: decbytes
        overrides: []
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 83
      id: 155
      options:
        graph: {}
        legend:
          calcs:
          - max
          - lastNotNull
          displayMode: table
          placement: right
        tooltipOptions:
          mode: single
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: '(kubelet_volume_stats_used_bytes + on(persistentvolumeclaim) group_left(pod)
          kube_pod_spec_volumes_persistentvolumeclaims_info{pod=~"$app-\\d+$|$app-shard\\d+-\\d+$",namespace=~"$namespace"}) '
        interval: ""
        intervalFactor: 1
        legendFormat: '{{pod}}'
        refId: A
      title: Persistent Volume Usage History
      type: timeseries
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 100
      id: 144
      panels: []
      title: Network Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: Bps
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 101
      hiddenSeries: false
      id: 132
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
        legend:
          calcs: []
          displayMode: list
          placement: bottom
        tooltip:
          mode: single
        tooltipOptions:
          mode: single
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(irate(container_network_receive_bytes_total{namespace=~"$namespace",
          pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"}[$__rate_interval])) by (pod)
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Receive Bandwidth
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: Bps
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: Bps
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 101
      hiddenSeries: false
      id: 134
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
        legend:
          calcs: []
          displayMode: list
          placement: bottom
        tooltip:
          mode: single
        tooltipOptions:
          mode: single
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(irate(container_network_transmit_bytes_total{namespace=~"$namespace",
          pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"}[$__rate_interval])) by (pod)
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Transmit Bandwidth
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: Bps
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 115
      id: 147
      panels: []
      title: Database Cluster Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: null
      description: ""
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 7
      fillGradient: 0
      gridPos:
        h: 9
        w: 24
        x: 0
        "y": 116
      hiddenSeries: false
      id: 148
      legend:
        alignAsTable: true
        avg: false
        current: true
        max: false
        min: false
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 2
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: true
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(redis_db_keys{namespace="$namespace" , pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"})
          by (db)
        instant: false
        interval: ""
        intervalFactor: 2
        legendFormat: '{{db}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Total Items per DB
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: null
      description: ""
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 7
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 125
      hiddenSeries: false
      id: 149
      legend:
        alignAsTable: false
        avg: false
        current: false
        max: false
        min: false
        rightSide: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 2
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: true
      steppedLine: false
      targets:
      - exemplar: true
        expr: 'sum(rate(redis_expired_keys_total{namespace="$namespace" , pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"}[5m])) '
        instant: false
        interval: ""
        intervalFactor: 2
        legendFormat: expired
        refId: A
      - exemplar: true
        expr: sum(rate(redis_evicted_keys_total{namespace="$namespace" , pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"}[5m]))
        hide: false
        interval: ""
        intervalFactor: 2
        legendFormat: evicted
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Expired / Evicted
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: null
      description: ""
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 7
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 125
      hiddenSeries: false
      id: 150
      legend:
        alignAsTable: false
        avg: false
        current: false
        max: false
        min: false
        rightSide: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 2
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: true
      steppedLine: false
      targets:
      - exemplar: true
        expr: 'sum (redis_db_keys{namespace="$namespace" , pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"})
          - sum (redis_db_keys_expiring{namespace="$namespace" , pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"}) '
        instant: false
        interval: ""
        intervalFactor: 2
        legendFormat: not expiring
        refId: A
      - exemplar: true
        expr: 'sum (redis_db_keys_expiring{namespace="$namespace" , pod=~"$app-\\d+$|$app-shard\\d+-\\d+$"})  '
        hide: false
        interval: ""
        intervalFactor: 2
        legendFormat: expiring
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Expiring vs Not-Expiring Keys
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 134
      id: 191
      panels: []
      title: KubeStash Backup & Restore Info
      type: row
    - aliasColors: {}
      bars: true
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Total number of successful backup
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 4
        w: 5
        x: 0
        "y": 135
      hiddenSeries: false
      id: 195
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: false
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: false
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: count(core_kubestash_com_backupsession_phase{phase="Succeeded"} * on(backup_invoker_kind,
          backup_invoker_name) group_left(target_kind, target_name, target_namespace)
          core_kubestash_com_backupconfiguration_info{target_kind="Redis", target_name="$app",
          target_namespace="$namespace"} == 1)
        format: time_series
        instant: true
        interval: ""
        legendFormat: value
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Successful Backups
      tooltip:
        shared: false
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: series
        name: null
        show: true
        values:
        - current
      yaxes:
      - $$hashKey: object:2118
        decimals: 0
        format: short
        label: ""
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:2119
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: false
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: true
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Total number of successful restore
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 4
        w: 5
        x: 15
        "y": 135
      hiddenSeries: false
      id: 199
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: false
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: count(core_kubestash_com_restoresession_phase{target_kind="Redis", target_name="$app",
          target_namespace="$namespace", phase="Succeeded"} == 1)
        format: time_series
        instant: true
        interval: ""
        legendFormat: value
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Successful Restore
      tooltip:
        shared: false
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: series
        name: null
        show: true
        values:
        - current
      yaxes:
      - $$hashKey: object:207
        decimals: 0
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:208
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: false
      yaxis:
        align: false
        alignLevel: null
    refresh: 10s
    schemaVersion: 27
    style: dark
    tags:
    - db
    - stats
    - redis
    - kubedb
    templating:
      list:
      - current:
          selected: false
          text: Prometheus
          value: Prometheus
        description: null
        error: null
        hide: 0
        includeAll: false
        label: null
        multi: false
        name: datasource
        options: []
        query: prometheus
        queryValue: ""
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: '".+"'
        current:
          selected: false
          text: demo
          value: demo
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Namespace
        multi: false
        name: namespace
        options: []
        query:
          query: label_values(kube_namespace_created,namespace)
          refId: Prometheus-namespace-Variable-Query
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text: redis-cluster
          value: redis-cluster
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: ""
        multi: false
        name: app
        options: []
        query:
          query: label_values(kubedb_com_redis_status_phase{namespace=~"$namespace"},app)
          refId: Prometheus-app-Variable-Query
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-6h
      to: now
    timepicker:
      refresh_intervals:
      - 5s
      - 10s
      - 30s
      - 1m
      - 5m
      - 15m
      - 30m
      - 1h
      - 2h
      - 1d
      time_options:
      - 5m
      - 15m
      - 1h
      - 6h
      - 12h
      - 24h
      - 2d
      - 7d
      - 30d
    timezone: ""
    title: KubeDB / Redis / Summary
    version: 4
  overwrite: true
  templatize:
    title: false
    datasource: false
---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-singlestore-database
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: Singlestore
    k8s.io/resource: singlestores
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - builtIn: 1
        datasource: ${datasource}
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        target:
          limit: 100
          matchAny: false
          tags: []
          type: dashboard
        type: dashboard
    description: ""
    editable: true
    gnetId: 13106
    graphTooltip: 0
    iteration: 1708078098624
    links: []
    panels:
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          custom:
            align: null
            displayMode: auto
            filterable: false
          mappings:
          - options:
              "0":
                text: DOWN
              "1":
                text: UP
            type: value
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 0
        overrides:
        - matcher:
            id: byType
            options: number
          properties:
          - id: custom.displayMode
            value: color-background
          - id: thresholds
            value:
              mode: absolute
              steps:
              - color: red
                value: null
              - color: green
                value: 1
          - id: custom.width
            value: 200
          - id: mappings
            value:
            - from: ""
              id: 1
              text: UP
              to: ""
              type: 1
              value: "1"
            - from: ""
              id: 2
              text: DOWN
              to: ""
              type: 1
              value: "0"
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 0
      id: 2
      options:
        showHeader: true
        sortBy: []
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: memsql_up{namespace=~"$namespace",service=~"$app+-stats"}
        format: table
        instant: true
        interval: ""
        intervalFactor: 1
        legendFormat: '{{ pod }}'
        refId: A
      timeFrom: null
      timeShift: null
      title: Service Status
      transformations:
      - id: filterFieldsByName
        options:
          include:
            names:
            - instance
            - Value
            - pod
      type: table
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          custom:
            align: null
            displayMode: auto
            filterable: false
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides:
        - matcher:
            id: byType
            options: number
          properties:
          - id: unit
            value: s
          - id: custom.width
            value: 200
          - id: custom.displayMode
            value: color-background
          - id: thresholds
            value:
              mode: absolute
              steps:
              - color: red
                value: null
              - color: green
                value: 80
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 0
      id: 4
      options:
        showHeader: true
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: memsql_status_uptime{namespace=~"$namespace",service=~"$app+-stats"}
        format: table
        instant: true
        interval: ""
        legendFormat: '{{ pod }}'
        refId: A
      timeFrom: null
      timeShift: null
      title: Service Uptime
      transformations:
      - id: filterFieldsByName
        options:
          include:
            names:
            - Value
            - pod
      type: table
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 7
      hiddenSeries: false
      id: 16
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: false
        show: true
        sideWidth: 200
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(memsql_status_queries{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Current QPS
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 7
      hiddenSeries: false
      id: 10
      legend:
        alignAsTable: true
        avg: false
        current: false
        max: false
        min: false
        rightSide: true
        show: true
        sideWidth: 200
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: memsql_status_max_used_connections{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: Current - {{ pod }}
        refId: A
      - exemplar: true
        expr: memsql_variable_max_connections{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: Max - {{ pod }}
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Singlestore Connections
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 14
      hiddenSeries: false
      id: 12
      legend:
        avg: false
        current: false
        max: false
        min: false
        rightSide: true
        show: true
        sideWidth: 200
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides:
      - alias: write
        transform: negative-Y
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: memsql_variable_load_data_read_size{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: reads - {{ pod }}
        refId: A
      - exemplar: true
        expr: memsql_variable_load_data_write_size{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: write - {{ pod }}
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Singlestore  disk reads vs writes
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 14
      hiddenSeries: false
      id: 14
      legend:
        avg: false
        current: false
        max: false
        min: false
        rightSide: true
        show: true
        sideWidth: 200
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides:
      - alias: /sent/
        transform: negative-Y
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(memsql_status_bytes_received{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: received - {{ pod }}
        refId: A
      - exemplar: true
        expr: rate(memsql_status_bytes_sent{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: sent - {{ pod }}
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Singlestore network received vs sent
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: none
            hideFrom:
              graph: false
              legend: false
              tooltip: false
            lineInterpolation: linear
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: true
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides: []
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 21
      id: 18
      options:
        graph: {}
        legend:
          calcs: []
          displayMode: list
          placement: right
        tooltipOptions:
          mode: single
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: memsql_status_alloc_databases_list_entry{namespace=~"$namespace",service=~"$app+-stats"}
        instant: false
        interval: ""
        legendFormat: '{{ pod }} = ''{{ command }}'''
        refId: A
      timeFrom: null
      timeShift: null
      title: Alloc Databases List Entry
      type: timeseries
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 6
        w: 8
        x: 0
        "y": 29
      id: 20
      options:
        colorMode: value
        graphMode: area
        justifyMode: center
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: memsql_variable_default_partitions_per_leaf{namespace=~"$namespace",service=~"$app+-stats"}
        interval: ""
        legendFormat: '{{ pod }}'
        refId: A
      timeFrom: null
      timeShift: null
      title: Default Partitions Per Leaf
      type: stat
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 6
        w: 8
        x: 8
        "y": 29
      id: 24
      options:
        colorMode: value
        graphMode: area
        justifyMode: center
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: memsql_distributed_partitions_total{namespace=~"$namespace",service=~"$app+-stats"}
        interval: ""
        legendFormat: '{{ database_name }}'
        refId: A
      timeFrom: null
      timeShift: null
      title: Database Partitions Online
      type: stat
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides: []
      gridPos:
        h: 6
        w: 8
        x: 16
        "y": 29
      id: 26
      options:
        colorMode: value
        graphMode: area
        justifyMode: center
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: memsql_distributed_partitions_offline{namespace=~"$namespace",service=~"$app+-stats"}
        interval: ""
        legendFormat: '{{ database_name }}'
        refId: A
      timeFrom: null
      timeShift: null
      title: Database Partitions Offline
      type: stat
    refresh: 5s
    schemaVersion: 27
    style: dark
    tags:
    - singlestore
    templating:
      list:
      - current:
          selected: false
          text: Prometheus
          value: Prometheus
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Datasource
        multi: false
        name: datasource
        options: []
        query: prometheus
        queryValue: ""
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: null
        current:
          selected: false
          text: demo
          value: demo
        datasource: ${datasource}
        definition: label_values(kube_namespace_created,namespace)
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Namespace
        multi: false
        name: namespace
        options: []
        query:
          query: label_values(kube_namespace_created,namespace)
          refId: Prometheus-namespace-Variable-Query
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text: singlestore-sample
          value: singlestore-sample
        datasource: ${datasource}
        definition: label_values(kubedb_com_singlestore_status_phase{namespace=~"$namespace"},app)
        description: ""
        error: null
        hide: 0
        includeAll: false
        label: Singlestore
        multi: false
        name: app
        options: []
        query:
          query: label_values(kubedb_com_singlestore_status_phase{namespace=~"$namespace"},app)
          refId: Prometheus-app-Variable-Query
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-6h
      to: now
    timepicker: {}
    timezone: ""
    title: KubeDB / Singlestore / Database
    version: 6
  overwrite: true
  templatize:
    title: false
    datasource: false
---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-singlestore-pod
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: Singlestore
    k8s.io/resource: singlestores
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - builtIn: 1
        datasource: ${datasource}
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        type: dashboard
    editable: true
    gnetId: null
    graphTooltip: 0
    iteration: 1708078100582
    links: []
    panels:
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 0
      id: 2
      panels: []
      title: Singlestore Pod Summary
      type: row
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: semi-dark-blue
              value: null
          unit: short
        overrides: []
      gridPos:
        h: 3
        w: 5
        x: 0
        "y": 1
      id: 4
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: name
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: memsql_up{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        intervalFactor: 1
        legendFormat: '{{pod}}'
        refId: A
      title: Pod Name
      type: stat
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: semi-dark-red
              value: null
            - color: green
              value: 90
          unit: short
        overrides:
        - matcher:
            id: byType
            options: number
          properties:
          - id: unit
            value: s
      gridPos:
        h: 3
        w: 4
        x: 5
        "y": 1
      id: 5
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: value
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: memsql_status_uptime{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        format: time_series
        instant: false
        interval: ""
        legendFormat: '{{ pod}}'
        refId: A
      title: Singlestore Uptime
      type: stat
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: semi-dark-orange
              value: null
            - color: red
              value: 80
          unit: short
        overrides: []
      gridPos:
        h: 3
        w: 6
        x: 9
        "y": 1
      id: 6
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: value
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: memsql_variable_memsql_version{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: '{{version}}'
        refId: A
      title: Version
      type: stat
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: light-blue
              value: null
          unit: short
        overrides: []
      gridPos:
        h: 3
        w: 5
        x: 15
        "y": 1
      id: 7
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: value
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: rate(memsql_status_queries{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      timeFrom: null
      timeShift: null
      title: Current QPS
      type: stat
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: semi-dark-red
              value: null
            - color: light-blue
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byType
            options: number
          properties:
          - id: unit
            value: bits
      gridPos:
        h: 3
        w: 4
        x: 20
        "y": 1
      id: 8
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: value
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: memsql_variable_transaction_buffer{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        format: time_series
        instant: false
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      title: Transaction Buffer
      type: stat
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 4
      id: 57
      panels: []
      title: Pod CPU, Memory and File Descriptor Stats
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: none
        overrides: []
      fill: 5
      fillGradient: 0
      gridPos:
        h: 7
        w: 8
        x: 0
        "y": 5
      hiddenSeries: false
      id: 61
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(rate(container_cpu_usage_seconds_total{namespace="$namespace", pod=~"$pod",
          container!="", image!=""}[5m])) by (pod)
        interval: ""
        legendFormat: '{{container}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: CPU Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: none
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 5
      fillGradient: 0
      gridPos:
        h: 7
        w: 8
        x: 8
        "y": 5
      hiddenSeries: false
      id: 59
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{namespace="$namespace", pod=~"$pod",
          container!="", image!=""}) by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Memory Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Number of open file descriptors
      fieldConfig:
        defaults:
          unit: none
        overrides: []
      fill: 5
      fillGradient: 0
      gridPos:
        h: 7
        w: 8
        x: 16
        "y": 5
      hiddenSeries: false
      id: 62
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(process_open_fds{pod=~"$pod", namespace="$namespace"}) by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Open File Descriptors
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: none
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 12
      id: 10
      panels: []
      repeat: null
      title: Connections
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 13
      hiddenSeries: false
      id: 12
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: memsql_variable_max_connection_threads{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: Max Connection Threads - {{pod}}
        refId: A
      - exemplar: true
        expr: memsql_variable_max_connections{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: Max Connection - {{pod}}
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Singlestore Connections
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 13
      hiddenSeries: false
      id: 16
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: memsql_status_aborted_connects{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: Aborted Connects - {{pod}}
        refId: A
      - exemplar: true
        expr: memsql_status_aborted_clients{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: Aborted Clients - {{pod}}
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Singlestore Aborted Connections
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 20
      id: 15
      panels: []
      repeat: null
      title: Client Threads
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 21
      hiddenSeries: false
      id: 13
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: false
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: memsql_status_threads_connected{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: Threads Connected - {{pod}}
        refId: A
      - exemplar: true
        expr: memsql_status_threads_running{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: Threads Running - {{pod}}
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Singlestore Client Thread Activity
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 21
      hiddenSeries: false
      id: 17
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: false
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: memsql_variable_thread_cache_size{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: Thread Cache Size - {{pod}}
        refId: A
      - exemplar: true
        expr: memsql_status_threads_cached{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: Threads Cached - {{pod}}
        refId: B
      - exemplar: true
        expr: memsql_status_threads_created{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: Threads Created - {{pod}}
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Singlestore Thread Cache
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 28
      id: 19
      panels: []
      title: Queries, Failed Queries
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 29
      hiddenSeries: false
      id: 20
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: false
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: memsql_status_failed_write_queries{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: failed write queries -{{pod}}
        refId: A
      - exemplar: true
        expr: memsql_status_failed_read_queries{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: failed read queries -{{pod}}
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Singlestore Failed Queries
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 29
      hiddenSeries: false
      id: 25
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: false
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: memsql_status_queries{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: Queries - {{pod}}
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Singlestore Queries
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 36
      id: 23
      panels: []
      title: Total Disk Size MB, Memory Summary Variables
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: short
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 37
      hiddenSeries: false
      id: 24
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: memsql_status_disk_total_size_mb{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: Total Disk Size MB - {{pod}}
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Singlestore Total Disk Size MB
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides: []
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 37
      id: 21
      options:
        displayMode: gradient
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        showUnfilled: true
        text: {}
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: memsql_status_total_server_memory{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: Total Server Memory - {{pod}}
        refId: A
      - exemplar: true
        expr: memsql_status_alloc_table_memory{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: Alloc Table Memory - {{pod}}
        refId: B
      - exemplar: true
        expr: memsql_status_buffer_manager_memory{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: Buffer Manager Memory - {{pod}}
        refId: C
      - exemplar: true
        expr: memsql_status_alloc_query_execution{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: Alloc Query Execution - {{pod}}
        refId: D
      - exemplar: true
        expr: memsql_status_alloc_variable{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: Alloc variable - {{pod}}
        refId: E
      timeFrom: null
      timeShift: null
      title: Singlestore Memory Summary Variables
      type: bargauge
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 44
      id: 27
      panels: []
      title: Locks and Questions
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 45
      hiddenSeries: false
      id: 28
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: memsql_status_row_lock_wait_time{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: row lock wait time - {{pod}}
        refId: A
      - exemplar: true
        expr: memsql_variable_lock_wait_timeout{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: variable lock wait timeout - {{pod}}
        refId: B
      - exemplar: true
        expr: memsql_variable_distributed_commit_lock_timeout{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: variable distributes commit lock timeout - {{pod}}
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Singlestore Locks
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 45
      hiddenSeries: false
      id: 29
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: rate(memsql_status_questions{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        interval: ""
        legendFormat: Questions - {{pod}}
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Singlestore Questions
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 52
      id: 31
      panels: []
      title: Network
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      description: |2-
    
    
        Here we can see how much network traffic is generated by Singlestore. Outbound is network traffic sent from Singlestore and Inbound is network traffic Singlestore has received.
      editable: true
      error: false
      fieldConfig:
        defaults:
          links: []
        overrides: []
      fill: 6
      fillGradient: 0
      grid: {}
      gridPos:
        h: 10
        w: 24
        x: 0
        "y": 53
      hiddenSeries: false
      id: 9
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: false
        show: true
        sort: avg
        sortDesc: true
        total: false
        values: true
      lines: true
      linewidth: 2
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      paceLength: 10
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: true
      steppedLine: false
      targets:
      - calculatedInterval: 2m
        datasourceErrors: {}
        errors: {}
        exemplar: true
        expr: rate(memsql_status_bytes_received{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: Inbound - {{pod}}
        metric: ""
        refId: A
        step: 20
      - calculatedInterval: 2m
        datasourceErrors: {}
        errors: {}
        exemplar: true
        expr: rate(memsql_status_bytes_sent{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[5m])
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: Outbound - {{pod}}
        metric: ""
        refId: B
        step: 20
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Singlestore Network Traffic
      tooltip:
        msResolution: false
        shared: true
        sort: 5
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - decimals: 2
        format: Bps
        logBase: 1
        max: null
        min: 0
        show: true
      - format: none
        logBase: 1
        max: null
        min: 0
        show: false
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: true
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: 2
      description: |2-
    
    
        Here we can see how much network traffic is generated by Singlestore. Outbound is network traffic sent from Singlestore and Inbound is network traffic Singlestore has received.
      editable: true
      error: false
      fieldConfig:
        defaults:
          links: []
        overrides: []
      fill: 6
      fillGradient: 0
      grid: {}
      gridPos:
        h: 10
        w: 24
        x: 0
        "y": 63
      hiddenSeries: false
      id: 44
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        rightSide: false
        show: true
        sort: avg
        sortDesc: true
        total: false
        values: true
      lines: false
      linewidth: 2
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      paceLength: 10
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: true
      steppedLine: false
      targets:
      - calculatedInterval: 2m
        datasourceErrors: {}
        errors: {}
        exemplar: true
        expr: increase(memsql_status_bytes_received{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[1h])
        format: time_series
        instant: false
        interval: 1h
        intervalFactor: 1
        legendFormat: Received - {{pod}}
        metric: ""
        refId: A
        step: 20
      - calculatedInterval: 2m
        datasourceErrors: {}
        errors: {}
        exemplar: true
        expr: increase(memsql_status_bytes_sent{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}[1h])
        format: time_series
        interval: 1h
        intervalFactor: 1
        legendFormat: Sent - {{pod}}
        metric: ""
        refId: B
        step: 20
      thresholds: []
      timeFrom: 24h
      timeRegions: []
      timeShift: null
      title: Singlestore Network Usage Hourly
      tooltip:
        msResolution: false
        shared: true
        sort: 5
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - decimals: 2
        format: bytes
        logBase: 1
        max: null
        min: 0
        show: true
      - format: none
        logBase: 1
        max: null
        min: 0
        show: false
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 73
      id: 48
      panels: []
      title: Row Store, Pipeline
      type: row
    - datasource: ${datasource}
      description: ""
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides: []
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 74
      id: 50
      options:
        displayMode: gradient
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        showUnfilled: true
        text: {}
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: memsql_status_alloc_skiplist_tower{namespace="$namespace",service=~"$app+-stats",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: Alloc Skiplist Tower - {{pod}}
        refId: A
      - exemplar: true
        expr: memsql_status_alloc_table_primary{namespace="$namespace",service=~"$app+-stats",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: Alloc Table Primary - {{pod}}
        refId: B
      - exemplar: true
        expr: memsql_status_alloc_deleted_version{namespace="$namespace",service=~"$app+-stats",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: Alloc Delete Version - {{pod}}
        refId: D
      - exemplar: false
        expr: memsql_status_alloc_hash_buckets{namespace="$namespace",service=~"$app+-stats",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: Alloc Hash Buckets - {{pod}}
        refId: E
      timeFrom: null
      timeShift: null
      title: Singlestore Row store variables
      type: bargauge
    - datasource: ${datasource}
      description: ""
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 74
      id: 51
      options:
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        showThresholdLabels: false
        showThresholdMarkers: true
        text: {}
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: memsql_variable_pipelines_max_concurrent{namespace="$namespace",service=~"$app+-stats",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: Max Concurrent - {{pod}}
        refId: A
      - exemplar: true
        expr: memsql_variable_pipelines_cdc_java_heap_size{namespace="$namespace",service=~"$app+-stats",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: CDC Java Heap Size - {{pod}}
        refId: B
      - exemplar: true
        expr: memsql_variable_pipelines_pooled_extractor_batches{namespace="$namespace",service=~"$app+-stats",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: Pooled Extractor Batches- {{pod}}
        refId: C
      - exemplar: false
        expr: memsql_variable_pipelines_offsets_gc_skew_time_minutes{namespace="$namespace",service=~"$app+-stats",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: Offsets GC skew Time Minutes - {{pod}}
        refId: D
      timeFrom: null
      timeShift: null
      title: Singlestore Pipelines
      type: gauge
    - collapsed: true
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 81
      id: 46
      panels:
      - datasource: ${datasource}
        description: ""
        fieldConfig:
          defaults:
            color:
              mode: palette-classic
            custom:
              axisLabel: ""
              axisPlacement: auto
              barAlignment: 0
              drawStyle: line
              fillOpacity: 10
              gradientMode: none
              hideFrom:
                graph: false
                legend: false
                tooltip: false
              lineInterpolation: linear
              lineWidth: 1
              pointSize: 5
              scaleDistribution:
                type: linear
              showPoints: never
              spanNulls: true
            mappings: []
            thresholds:
              mode: absolute
              steps:
              - color: green
                value: null
              - color: red
                value: 80
            unit: short
          overrides: []
        gridPos:
          h: 8
          w: 24
          x: 0
          "y": 82
        id: 32
        options:
          graph: {}
          legend:
            calcs: []
            displayMode: list
            placement: bottom
          tooltipOptions:
            mode: single
        pluginVersion: 7.5.5
        targets:
        - exemplar: true
          expr: memsql_status_ssl_session_cache_hits{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
          instant: false
          interval: ""
          legendFormat: ' Session Cache Hit - {{pod}}'
          refId: A
        - exemplar: true
          expr: memsql_status_ssl_session_cache_misses{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
          instant: false
          interval: ""
          legendFormat: Session Cache Misses - {{pod}}
          refId: B
        - exemplar: true
          expr: memsql_status_ssl_session_cache_size{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
          instant: false
          interval: ""
          legendFormat: Session Cache Size - {{pod}}
          refId: C
        - exemplar: true
          expr: memsql_status_ssl_session_cache_overflows{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
          instant: false
          interval: ""
          legendFormat: Session Cache Overflows - {{pod}}
          refId: D
        timeFrom: null
        timeShift: null
        title: Singlestore SSL Session
        type: timeseries
      title: SSL Session
      type: row
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 82
      id: 53
      panels: []
      title: 'Free IO Pool Memory, PlanCache Memory '
      type: row
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: none
            hideFrom:
              graph: false
              legend: false
              tooltip: false
            lineInterpolation: linear
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: true
          mappings: []
          min: 0
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: bytes
        overrides: []
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 83
      id: 54
      options:
        graph: {}
        legend:
          calcs:
          - mean
          - lastNotNull
          - max
          - min
          - sum
          displayMode: table
          placement: bottom
        tooltipOptions:
          mode: single
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: memsql_status_ssl_session_cache_overflows{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: Query Cache Size - {{pod}}
        refId: A
      timeFrom: null
      timeShift: null
      title: Singlestore Free IO Pool Memory
      type: timeseries
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 83
      id: 55
      options:
        displayMode: gradient
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        showUnfilled: true
        text: {}
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: memsql_variable_disk_plan_expiration_minutes{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        interval: ""
        legendFormat: Disk Plan Expiration Minutes - {{pod}}
        refId: A
      - exemplar: true
        expr: memsql_variable_enable_disk_plan_expiration{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: Disk_plan_expiration - {{pod}}
        refId: B
      - exemplar: true
        expr: memsql_variable_plan_expiration_minutes{namespace=~"$namespace",service=~"$app+-stats",pod=~"$pod"}
        hide: false
        interval: ""
        legendFormat: Plan Expiration Minutes - {{pod}}
        refId: C
      timeFrom: null
      timeShift: null
      title: Plancache Memory Management
      type: bargauge
    refresh: 5s
    schemaVersion: 27
    style: dark
    tags:
    - singlestore
    - pod
    - stats
    templating:
      list:
      - current:
          selected: false
          text: default
          value: default
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Datasource
        multi: false
        name: datasource
        options: []
        query: prometheus
        queryValue: ""
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: null
        current:
          selected: false
          text: demo
          value: demo
        datasource: ${datasource}
        definition: label_values(kube_namespace_created,namespace)
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Namespace
        multi: false
        name: namespace
        options: []
        query:
          query: label_values(kube_namespace_created,namespace)
          refId: Prometheus-namespace-Variable-Query
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text: singlestore-sample
          value: singlestore-sample
        datasource: ${datasource}
        definition: label_values(kubedb_com_singlestore_status_phase{namespace=~"$namespace"},app)
        description: ""
        error: null
        hide: 0
        includeAll: false
        label: Singlestore
        multi: false
        name: app
        options: []
        query:
          query: label_values(kubedb_com_singlestore_status_phase{namespace=~"$namespace"},app)
          refId: StandardVariableQuery
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: true
          tags: []
          text:
          - singlestore-sample-aggregator-0
          value:
          - singlestore-sample-aggregator-0
        datasource: ${datasource}
        definition: label_values(memsql_up{namespace=~"$namespace", service=~"$app+-stats"},
          pod)
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Pod
        multi: true
        name: pod
        options: []
        query:
          query: label_values(memsql_up{namespace=~"$namespace", service=~"$app+-stats"},
            pod)
          refId: Prometheus-pod-Variable-Query
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-6h
      to: now
    timepicker: {}
    timezone: ""
    title: KubeDB / Singlestore / Pod
    version: 18
  overwrite: true
  templatize:
    title: false
    datasource: false
---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-singlestore-summary
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: Singlestore
    k8s.io/resource: singlestores
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - builtIn: 1
        datasource: ${datasource}
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        target:
          limit: 100
          matchAny: false
          tags: []
          type: dashboard
        type: dashboard
    description: The dashboard is designed for KubeDB managed Singlestore
    editable: true
    gnetId: 9628
    graphTooltip: 0
    iteration: 1709721271881
    links: []
    panels:
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 0
      id: 136
      panels: []
      title: General Info
      type: row
    - datasource: ${datasource}
      description: Represent database status
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          mappings:
          - options:
              Critical:
                color: dark-yellow
                index: 1
              DataRestoring:
                color: dark-red
                index: 4
              Halted:
                color: dark-red
                index: 5
              NotReady:
                color: dark-red
                index: 2
              Provisioning:
                color: text
                index: 3
              Ready:
                color: semi-dark-green
                index: 0
            type: value
          thresholds:
            mode: absolute
            steps:
            - color: text
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 8
        x: 0
        "y": 1
      id: 78
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: /^phase$/
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: |
          kubedb_com_singlestore_status_phase{namespace="$namespace", app="$app"} == 1
        format: table
        instant: true
        interval: ""
        legendFormat: '{{phase}}'
        refId: A
      title: Database Status
      type: stat
    - cacheTimeout: null
      datasource: Prometheus
      description: Singlestore CR Name
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: palette-classic
          mappings:
          - options:
              match: "null"
              result:
                index: 0
                text: N/A
            type: special
          noValue: N/A
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 8
        x: 8
        "y": 1
      id: 36
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - mean
          fields: ""
          values: false
        text:
          valueSize: 50
        textMode: name
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_singlestore_info{namespace="$namespace", app="$app"}
        format: time_series
        instant: true
        interval: ""
        intervalFactor: 1
        legendFormat: '{{ version }}'
        refId: A
      title: Version
      type: stat
    - datasource: ${datasource}
      description: When this option is enabled, connections attempted using insecure transport
        will be rejected.
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings:
          - from: ""
            id: 1
            text: Enabled
            to: ""
            type: 1
            value: "1"
          - from: ""
            id: 2
            text: Disabled
            to: ""
            type: 1
            value: "null"
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 16
        "y": 1
      id: 82
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: value
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_singlestore_info{namespace="$namespace", app="$app"}
        format: time_series
        instant: true
        interval: ""
        legendFormat: '{{requireSSL}}'
        refId: A
      timeFrom: null
      timeShift: null
      title: Require Secure Transport
      type: stat
    - datasource: ${datasource}
      description: KubeDB Database Resource deletionPolicy
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          mappings:
          - options:
              Delete:
                color: yellow
                index: 1
              DoNotTerminate:
                color: green
                index: 2
              Halt:
                color: blue
                index: 3
              WipeOut:
                color: dark-red
                index: 0
            type: value
          thresholds:
            mode: absolute
            steps:
            - color: text
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 20
        "y": 1
      id: 84
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: /^deletionPolicy$/
          values: false
        text: {}
        textMode: value
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_singlestore_info{namespace="$namespace", app="$app"}
        format: table
        instant: true
        interval: ""
        legendFormat: '{{deletionPolicy}}'
        refId: A
      title: Deletion Policy
      type: stat
    - datasource: ${datasource}
      description: Total node count of Singlestore cluster
      fieldConfig:
        defaults:
          color:
            fixedColor: green
            mode: fixed
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 0
        "y": 4
      id: 76
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_singlestore_replicas{namespace="$namespace",app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Total Nodes
      type: stat
    - datasource: ${datasource}
      description: Initial Requested CPU amount by Singlestore Instance
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          min: 0
          thresholds:
            mode: percentage
            steps:
            - color: green
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 4
        "y": 4
      id: 92
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_singlestore_resource_request_cpu{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: CPU Request (Core)
      type: stat
    - datasource: ${datasource}
      description: CPU Limit in core by Singlestore instance
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 8
        "y": 4
      id: 114
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_singlestore_resource_limit_cpu{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: CPU Limit (Core)
      type: stat
    - datasource: ${datasource}
      description: Initial Requested Memory amount by Singlestore Instance
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          min: 0
          thresholds:
            mode: percentage
            steps:
            - color: green
              value: null
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 12
        "y": 4
      id: 94
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_singlestore_resource_request_memory{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Memory Request
      type: stat
    - datasource: ${datasource}
      description: KubeDB Singlestore Total Memory Limit
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 16
        "y": 4
      id: 116
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_singlestore_resource_limit_memory{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Memory Limit
      type: stat
    - datasource: ${datasource}
      description: Total storage request by Singlestore nodes
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          min: 0
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 20
        "y": 4
      id: 96
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubedb_com_singlestore_resource_request_storage{namespace="$namespace",
          app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Storage Request
      type: stat
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 20
      id: 138
      panels: []
      title: CPU Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: CPU Usage by Singlestore pods
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 21
      hiddenSeries: false
      id: 98
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(sum by(namespace,pod,container)(irate(container_cpu_usage_seconds_total{image!="",job="kubelet",metrics_path="/metrics/cadvisor",namespace="$namespace",
          pod=~"$app-aggregator-\\d+$|$app-leaf-\\d+$|$app-\\d+$"}[5m]))* on (namespace,
          pod) group_left (node) topk by (namespace, pod) (1, max by (namespace, pod,
          node) (kube_pod_info{node!="",namespace="$namespace", pod=~"$app-aggregator-\\d+$|$app-leaf-\\d+$|$app-\\d+$"})))
          by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: CPU Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      description: CPU Quote information in details
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            displayMode: auto
            filterable: false
          decimals: 2
          displayName: ""
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: Time
          properties:
          - id: displayName
            value: Time
          - id: custom.align
            value: null
          - id: custom.width
            value: null
        - matcher:
            id: byName
            options: 'Value #A'
          properties:
          - id: displayName
            value: CPU Usage
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #B'
          properties:
          - id: displayName
            value: CPU Requests
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #C'
          properties:
          - id: displayName
            value: CPU Requests %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #D'
          properties:
          - id: displayName
            value: CPU Limits
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #E'
          properties:
          - id: displayName
            value: CPU Limits %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: pod
          properties:
          - id: displayName
            value: Pod
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: links
            value:
            - targetBlank: false
              title: Drill down
              url: ./d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-pod=$__cell
          - id: custom.align
            value: null
      gridPos:
        h: 6
        w: 24
        x: 0
        "y": 34
      id: 122
      links: []
      options:
        showHeader: true
        sortBy: []
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: sum(sum by(namespace,pod,container)(irate(container_cpu_usage_seconds_total{image!="",job="kubelet",metrics_path="/metrics/cadvisor",namespace="$namespace",
          pod=~"$app-aggregator-\\d+$|$app-leaf-\\d+$|$app-\\d+$"}[5m]))* on (namespace,
          pod) group_left (node) topk by (namespace, pod) (1, max by (namespace, pod,
          node) (kube_pod_info{node!="",namespace="$namespace", pod=~"$app-aggregator-\\d+$|$app-leaf-\\d+$|$app-\\d+$"})))
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
        step: 10
      - exemplar: true
        expr: sum(cluster:namespace:pod_cpu:active:kube_pod_container_resource_requests{namespace="$namespace",
          pod=~"$app-aggregator-\\d+$|$app-leaf-\\d+$|$app-\\d+$"}) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: B
        step: 10
      - exemplar: true
        expr: sum(sum by(namespace,pod,container)(irate(container_cpu_usage_seconds_total{image!="",job="kubelet",metrics_path="/metrics/cadvisor",namespace="$namespace",
          pod=~"$app-aggregator-\\d+$|$app-leaf-\\d+$|$app-\\d+$"}[5m]))* on (namespace,
          pod) group_left (node) topk by (namespace, pod) (1, max by (namespace, pod,
          node) (kube_pod_info{node!="",namespace="$namespace", pod=~"$app-aggregator-\\d+$|$app-leaf-\\d+$|$app-\\d+$"})))
          by (pod) / sum(cluster:namespace:pod_cpu:active:kube_pod_container_resource_requests{namespace="$namespace",
          pod=~"$app-aggregator-\\d+$|$app-leaf-\\d+$|$app-\\d+$"}) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: C
        step: 10
      - exemplar: true
        expr: sum(cluster:namespace:pod_cpu:active:kube_pod_container_resource_limits{namespace="$namespace",
          pod=~"$app-aggregator-\\d+$|$app-leaf-\\d+$|$app-\\d+$"}) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: D
        step: 10
      - exemplar: true
        expr: sum(sum by(namespace,pod,container)(irate(container_cpu_usage_seconds_total{image!="",job="kubelet",metrics_path="/metrics/cadvisor",namespace="$namespace",
          pod=~"$app-aggregator-\\d+$|$app-leaf-\\d+$|$app-\\d+$"}[5m]))* on (namespace,
          pod) group_left (node) topk by (namespace, pod) (1, max by (namespace, pod,
          node) (kube_pod_info{node!="",namespace="$namespace", pod=~"$app-aggregator-\\d+$|$app-leaf-\\d+$|$app-\\d+$"})))
          by (pod) / sum(cluster:namespace:pod_cpu:active:kube_pod_container_resource_limits{namespace="$namespace",
          pod=~"$app-aggregator\\d+$|$app-leaf\\d+$|$app-\\d+$"}) by (pod)
        format: table
        hide: false
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: E
        step: 10
      timeFrom: null
      timeShift: null
      title: CPU Quota
      transformations:
      - id: merge
        options:
          reducers: []
      type: table
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 40
      id: 142
      panels: []
      title: Storage Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Disk usage by Singlestore pods
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 41
      hiddenSeries: false
      id: 112
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: avg(container_blkio_device_usage_total{namespace="$namespace", pod=~"$app-aggregator-\\d+$|$app-leaf-\\d+$|$app-\\d+"})
          by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Disk Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: System Disk Usage Information
      fieldConfig:
        defaults:
          unit: none
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 41
      hiddenSeries: false
      id: 108
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(rate(container_fs_writes_total{namespace="$namespace", pod=~"$app-aggregator-\\d+$|$app-leaf-\\d+$|$app-\\d+"}[5m]))by(pod)
        instant: false
        interval: ""
        intervalFactor: 1
        legendFormat: '{{pod}}-disk-write'
        refId: A
      - exemplar: true
        expr: sum(rate(container_fs_reads_total{namespace="$namespace", pod=~"$app-aggregator-\\d+$|$app-leaf-\\d+$|$app-\\d+"}[5m]))by(pod)
        hide: false
        instant: false
        interval: ""
        legendFormat: '{{pod}}-disk-read'
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Disk R/W Info
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: none
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 49
      id: 140
      panels: []
      title: Memory Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Memory Usage by Singlestore pods
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 50
      hiddenSeries: false
      id: 100
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(node_namespace_pod_container:container_memory_working_set_bytes{namespace="$namespace",
          pod=~"$app-leaf-\\d+$|$app-aggregator-\\d+$|$app-\\d+$",container!=""}) by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Memory Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            displayMode: auto
            filterable: false
          decimals: 2
          displayName: ""
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: Time
          properties:
          - id: displayName
            value: Time
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #A'
          properties:
          - id: displayName
            value: Memory Usage
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #B'
          properties:
          - id: displayName
            value: Memory Requests
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #C'
          properties:
          - id: displayName
            value: Memory Requests %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #D'
          properties:
          - id: displayName
            value: Memory Limits
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #E'
          properties:
          - id: displayName
            value: Memory Limits %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #F'
          properties:
          - id: displayName
            value: Memory Usage (RSS)
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #G'
          properties:
          - id: displayName
            value: Memory Usage (Cache)
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #H'
          properties:
          - id: displayName
            value: Memory Usage (Swap)
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: pod
          properties:
          - id: displayName
            value: Pod
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: links
            value:
            - targetBlank: false
              title: Drill down
              url: ./d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-pod=$__cell
          - id: custom.align
            value: null
      gridPos:
        h: 6
        w: 24
        x: 0
        "y": 63
      id: 124
      links: []
      options:
        showHeader: true
        sortBy:
        - desc: true
          displayName: Memory Usage
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{namespace="$namespace",pod=~"$app-aggregator-\\d+$|$app-leaf-\\d+$|$app-\\d+$",container!="",
          image!=""}) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
        step: 10
      - exemplar: true
        expr: sum(cluster:namespace:pod_memory:active:kube_pod_container_resource_requests{namespace="$namespace",pod=~"$app-aggregator-\\d+$|$app-leaf-\\d+$|$app-\\d+$"})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: B
        step: 10
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{namespace="$namespace",pod=~"$app-aggregator-\\d+$|$app-leaf-\\d+$|$app-\\d+$",container!="",
          image!=""}) by (pod) / sum(cluster:namespace:pod_memory:active:kube_pod_container_resource_requests{namespace="$namespace",pod=~"$app-\\d+$|$app-\\d+$"})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: C
        step: 10
      - exemplar: true
        expr: sum(cluster:namespace:pod_memory:active:kube_pod_container_resource_limits{namespace="$namespace",pod=~"$app-aggregator-\\d+$|$app-leaf-\\d+$|$app-\\d+$"})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: D
        step: 10
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{namespace="$namespace",pod=~"$app-aggregator-\\d+$|$app-leaf-\\d+$|$app-\\d+$",container!="",
          image!=""}) by (pod) / sum(cluster:namespace:pod_memory:active:kube_pod_container_resource_limits{namespace="$namespace",
          pod=~"$app-aggregator-\\d+$|$app-leaf-\\d+$|$app-\\d+"}) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: E
        step: 10
      - exemplar: true
        expr: sum(container_memory_rss{namespace="$namespace",pod=~"$app-aggregator-\\d+$|$app-leaf-\\d+$|$app-\\d+",container!=""})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: F
        step: 10
      - exemplar: true
        expr: sum(container_memory_cache{namespace="$namespace",pod=~"$app-aggregator-\\d+$|$app-leaf-\\d+$|$app-\\d+",container!=""})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: G
        step: 10
      - exemplar: true
        expr: sum(container_memory_swap{namespace="$namespace",pod=~"$app-aggregator-\\d+$|$app-leaf-\\d+$|$app-\\d+",container!=""})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: H
        step: 10
      timeFrom: null
      timeShift: null
      title: Memory Quota
      transformations:
      - id: merge
        options:
          reducers: []
      type: table
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: short
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 69
      hiddenSeries: false
      id: 126
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: ceil(sum by(pod) (rate(container_fs_reads_total{container!="", namespace=~"$namespace",
          pod=~"$app-aggregator-\\d+$|$app-leaf-\\d+$|$app-\\d+"}[5m]) + rate(container_fs_writes_total{container!=""
          ,namespace=~"$namespace", pod=~"$app-aggregator-\\d+$|$app-leaf-\\d+$|$app-\\d+"}[5m])))
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: IOPS (Reads+Writes)
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: Bps
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 69
      hiddenSeries: false
      id: 128
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_bytes_total{container!="", namespace=~"$namespace",
          pod=~"$app-aggregator-\\d+$|$app-leaf-\\d+$|$app-\\d+$"}[5m]) + rate(container_fs_writes_bytes_total{container!=""
          ,namespace=~"$namespace", pod=~"$app-aggregator-\\d+$|$app-leaf-\\d+$|$app-\\d+$"}[5m]))
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: ThroughPut (Read+Write)
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: Bps
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            displayMode: auto
            filterable: false
          decimals: 2
          displayName: ""
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: Time
          properties:
          - id: displayName
            value: Time
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #A'
          properties:
          - id: displayName
            value: IOPS(Reads)
          - id: unit
            value: short
          - id: decimals
            value: -1
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #B'
          properties:
          - id: displayName
            value: IOPS(Writes)
          - id: unit
            value: short
          - id: decimals
            value: -1
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #C'
          properties:
          - id: displayName
            value: IOPS(Reads + Writes)
          - id: unit
            value: short
          - id: decimals
            value: -1
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #D'
          properties:
          - id: displayName
            value: Throughput(Read)
          - id: unit
            value: Bps
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #E'
          properties:
          - id: displayName
            value: Throughput(Write)
          - id: unit
            value: Bps
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #F'
          properties:
          - id: displayName
            value: Throughput(Read + Write)
          - id: unit
            value: Bps
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: pod
          properties:
          - id: displayName
            value: Pod
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: links
            value:
            - targetBlank: false
              title: Drill down to pods
              url: ./d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-pod=$__cell
          - id: custom.align
            value: null
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 76
      id: 130
      links: []
      options:
        showHeader: true
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_total{container!="", pod=~"$app-aggregator-\\d+$|$app-leaf-\\d+$|$app-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_writes_total{container!="", pod=~"$app-aggregator-\\d+$|$app-leaf-\\d+$|$app-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: B
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_total{container!="", pod=~"$app-aggregator-\\d+$|$app-leaf-\\d+$|$app-\\d+$",namespace=~"$namespace"}[5m])
          + rate(container_fs_writes_total{container!="",pod=~"$app-aggregator-\\d+$|$app-leaf-\\d+$|$app-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: C
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_bytes_total{container!="", pod=~"$app-aggregator-\\d+$|$app-leaf-\\d+$|$app-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: D
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_writes_bytes_total{container!="", pod=~"$app-aggregator-\\d+$|$app-leaf-\\d+$|$app-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: E
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_bytes_total{container!="", pod=~"$app-aggregator-\\d+$|$app-leaf-\\d+$|$app-\\d+$",namespace=~"$namespace"}[5m])
          + rate(container_fs_writes_bytes_total{container!="",pod=~"$app-aggregator-\\d+$|$app-leaf-\\d+$|$app-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: F
        step: 10
      timeFrom: null
      timeShift: null
      title: Current Storage IO
      transformations:
      - id: merge
        options:
          reducers: []
      type: table
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 83
      id: 147
      panels: []
      title: Persistent Storage Insight
      type: row
    - datasource: ${datasource}
      description: |
        This panel describes allocated persistent storage in a table format
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: center
            displayMode: color-text
            filterable: false
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: light-blue
              value: null
          unit: decbytes
        overrides: []
      gridPos:
        h: 6
        w: 12
        x: 0
        "y": 84
      id: 151
      options:
        showHeader: true
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: kubelet_volume_stats_capacity_bytes + on(persistentvolumeclaim) group_left(pod)
          kube_pod_spec_volumes_persistentvolumeclaims_info{pod=~"$app-aggregator-\\d+$|$app-leaf-\\d+$|$app-\\d+$",namespace=~"$namespace"}
        format: table
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Allocated Storage
      transformations:
      - id: organize
        options:
          excludeByName:
            Time: true
            endpoint: true
            instance: true
            job: true
            metrics_path: true
            namespace: true
            node: true
            persistentvolumeclaim: true
            service: true
          indexByName: {}
          renameByName:
            Value: Volume
            pod: Pod
      type: table
    - datasource: ${datasource}
      description: 'This panel shows the persistent volume usage in percentage. '
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: percent
        overrides: []
      gridPos:
        h: 6
        w: 12
        x: 12
        "y": 84
      id: 153
      options:
        displayMode: gradient
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        showUnfilled: true
        text: {}
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: (kubelet_volume_stats_used_bytes / on(persistentvolumeclaim) group_left(pod)
          (kubelet_volume_stats_capacity_bytes + on(persistentvolumeclaim) group_left(pod)
          kube_pod_spec_volumes_persistentvolumeclaims_info{pod=~"$app-aggregator-\\d+$|$app-leaf-\\d+$|$app-\\d+$",namespace=~"$namespace"})
          )* 100
        instant: true
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      title: Persistent Volume Usage
      transformations: []
      type: bargauge
    - datasource: ${datasource}
      description: 'This panel describes the persistent volume usage in a time series. '
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            axisSoftMax: 5000
            axisSoftMin: 0
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: opacity
            hideFrom:
              graph: false
              legend: false
              tooltip: false
            lineInterpolation: linear
            lineStyle:
              fill: solid
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: true
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: decbytes
        overrides: []
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 90
      id: 149
      options:
        graph: {}
        legend:
          calcs:
          - max
          - lastNotNull
          displayMode: table
          placement: right
        tooltipOptions:
          mode: single
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: '(kubelet_volume_stats_used_bytes + on(persistentvolumeclaim) group_left(pod)
          kube_pod_spec_volumes_persistentvolumeclaims_info{pod=~"$app-aggregator-\\d+$|$app-leaf-\\d+$|$app-\\d+$",namespace=~"$namespace"}) '
        interval: ""
        intervalFactor: 1
        legendFormat: '{{pod}}'
        refId: A
      title: Persistent Volume Usage History
      type: timeseries
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 104
      id: 144
      panels: []
      title: Network Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 105
      hiddenSeries: false
      id: 132
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(irate(container_network_receive_bytes_total{namespace=~"$namespace",
          pod=~"$app-aggregator-\\d+$|$app-leaf-\\d+$|$app-\\d+$"}[$__rate_interval]))
          by (pod)
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Receive Bandwidth
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: Bps
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: Bps
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 105
      hiddenSeries: false
      id: 134
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(irate(container_network_transmit_bytes_total{namespace=~"$namespace",
          pod=~"$app-aggregator-\\d+$|$app-leaf-\\d+$|$app-\\d+$"}[$__rate_interval]))
          by (pod)
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Transmit Bandwidth
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: Bps
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 106
      id: 191
      panels: []
      title: KubeStash Backup & Restore Info
      type: row
    - aliasColors: {}
      bars: true
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Total number of successful backup
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 4
        w: 5
        x: 0
        "y": 107
      hiddenSeries: false
      id: 195
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: false
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: false
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: count(core_kubestash_com_backupsession_phase{phase="Succeeded"} * on(backup_invoker_kind,
          backup_invoker_name) group_left(target_kind, target_name, target_namespace)
          core_kubestash_com_backupconfiguration_info{target_kind="Singlestore", target_name="$app",
          target_namespace="$namespace"} == 1)
        format: time_series
        instant: true
        interval: ""
        legendFormat: value
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Successful Backups
      tooltip:
        shared: false
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: series
        name: null
        show: true
        values:
        - current
      yaxes:
      - $$hashKey: object:2118
        decimals: 0
        format: short
        label: ""
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:2119
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: false
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: true
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Total number of successful restore
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 4
        w: 5
        x: 15
        "y": 107
      hiddenSeries: false
      id: 199
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: false
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: count(core_kubestash_com_restoresession_phase{target_kind="Singlestore",
          target_name="$app", target_namespace="$namespace", phase="Succeeded"} == 1)
        format: time_series
        instant: true
        interval: ""
        legendFormat: value
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Successful Restore
      tooltip:
        shared: false
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: series
        name: null
        show: true
        values:
        - current
      yaxes:
      - $$hashKey: object:207
        decimals: 0
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:208
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: false
      yaxis:
        align: false
        alignLevel: null
    refresh: 10s
    schemaVersion: 27
    style: dark
    tags:
    - db
    - stats
    - kubedb
    - singlestore
    templating:
      list:
      - current:
          selected: false
          text: Prometheus
          value: Prometheus
        description: null
        error: null
        hide: 0
        includeAll: false
        label: null
        multi: false
        name: datasource
        options: []
        query: prometheus
        queryValue: ""
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: '".+"'
        current:
          selected: false
          text: demo
          value: demo
        datasource: ${datasource}
        definition: label_values(kube_namespace_created,namespace)
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Namespace
        multi: false
        name: namespace
        options: []
        query:
          query: label_values(kube_namespace_created,namespace)
          refId: Prometheus-namespace-Variable-Query
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text: sample
          value: sample
        datasource: ${datasource}
        definition: label_values(kubedb_com_singlestore_status_phase{namespace=~"$namespace"},app)
        description: null
        error: null
        hide: 0
        includeAll: false
        label: singlestore
        multi: false
        name: app
        options: []
        query:
          query: label_values(kubedb_com_singlestore_status_phase{namespace=~"$namespace"},app)
          refId: Prometheus-app-Variable-Query
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-6h
      to: now
    timepicker:
      refresh_intervals:
      - 5s
      - 10s
      - 30s
      - 1m
      - 5m
      - 15m
      - 30m
      - 1h
      - 2h
      - 1d
      time_options:
      - 5m
      - 15m
      - 1h
      - 6h
      - 12h
      - 24h
      - 2d
      - 7d
      - 30d
    timezone: ""
    title: KubeDB / Singlestore / Summary
    version: 1
  overwrite: true
  templatize:
    title: false
    datasource: false
---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-solr-database
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: Solr
    k8s.io/resource: solrs
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - builtIn: 1
        datasource: ${datasource}
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        target:
          limit: 100
          matchAny: false
          tags: []
          type: dashboard
        type: dashboard
    description: Solr Database Dashboard for Prometheus Solr Exporter
    editable: true
    gnetId: null
    graphTooltip: 0
    iteration: 1710915242629
    links: []
    panels:
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 0
      id: 2
      panels: []
      title: Solr Cluster
      type: row
    - datasource: ${datasource}
      description: Total nodes in the cluster
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 7
        w: 6
        x: 0
        "y": 1
      id: 4
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: max by (core) (count(count by (node_name) (solr_collections_replica_state{namespace=~"$namespace",service=~"$app-stats"}))
          < solr_collections_live_nodes{namespace=~"$namespace",service=~"$app-stats"}
          or solr_collections_live_nodes{namespace=~"$namespace",service=~"$app-stats"})
        interval: ""
        legendFormat: Total Nodes
        refId: A
      title: Number of total nodes
      type: stat
    - datasource: ${datasource}
      description: Total number of live nodes
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 7
        w: 6
        x: 6
        "y": 1
      id: 6
      options:
        colorMode: value
        graphMode: none
        justifyMode: center
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: max by (core) (count(count by (node_name) (solr_collections_replica_state{namespace=~"$namespace",service=~"$app-stats"}))
          < solr_collections_live_nodes{namespace=~"$namespace",service=~"$app-stats"}
          or solr_collections_live_nodes{namespace=~"$namespace",service=~"$app-stats"})
        interval: ""
        legendFormat: ""
        refId: A
      title: Live nodes
      type: stat
    - aliasColors:
        kubedb-collection_shard1_replica_n1: red
      bars: true
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: All shard leaders.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 1
      hiddenSeries: false
      id: 8
      legend:
        avg: false
        current: false
        hideEmpty: true
        hideZero: true
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: false
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: true
      steppedLine: false
      targets:
      - exemplar: true
        expr: max by (core,replica, shard, collection) (solr_collections_shard_leader{namespace=~"$namespace",service=~"$app-stats"})
        interval: ""
        legendFormat: '{{core}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Shard leaders
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:648
        decimals: 0
        format: short
        label: Leaders
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:649
        decimals: null
        format: short
        label: ""
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      description: Total number of collections
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 4
        w: 4
        x: 0
        "y": 8
      id: 10
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: count(count by (collection)  (solr_collections_replica_state{namespace=~"$namespace",service=~"$app-stats"}))
        interval: ""
        legendFormat: ""
        refId: A
      title: Number of Collections
      type: stat
    - datasource: ${datasource}
      description: Total number of replicas.
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 4
        w: 4
        x: 4
        "y": 8
      id: 12
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: count(max by (core) (solr_collections_replica_state{namespace=~"$namespace",service=~"$app-stats",base_url=~"$base_url"}))
        interval: ""
        legendFormat: ""
        refId: A
      title: Total Replicas
      type: stat
    - datasource: ${datasource}
      description: Total number of active replicas
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 4
        w: 4
        x: 8
        "y": 8
      id: 14
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: count(max by (core) (solr_collections_replica_state{namespace=~"$namespace",service=~"$app-stats",base_url=~"$base_url",state="active"}))
          OR on() vector(0)
        interval: ""
        legendFormat: Active
        refId: A
      title: Active Replicas
      type: stat
    - datasource: ${datasource}
      description: Number of down replicas
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 4
        w: 4
        x: 12
        "y": 8
      id: 16
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: count(max by (core) (solr_collections_replica_state{namespace=~"$namespace",service=~"$app-stats",base_url=~"$base_url",state="down"}))
          OR on() vector(0)
        interval: ""
        legendFormat: Down
        refId: A
      title: Down Replicas
      type: stat
    - datasource: ${datasource}
      description: Total number of recovering replicas
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 4
        w: 4
        x: 16
        "y": 8
      id: 18
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: count(max by (core) (solr_collections_replica_state{namespace=~"$namespace",service=~"$app-stats",base_url=~"$base_url",state="recovering"}))
          OR on() vector(0)
        interval: ""
        legendFormat: Recovering
        refId: A
      title: Recovering replicas
      type: stat
    - datasource: ${datasource}
      description: Total number of replicas failed to recover
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 4
        w: 4
        x: 20
        "y": 8
      id: 20
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: count(max by (core) (solr_collections_replica_state{namespace=~"$namespace",service=~"$app-stats",base_url=~"$base_url",state="recovery_failed"}))
          OR on() vector(0)
        interval: ""
        legendFormat: ""
        refId: A
      title: Recovery failed replicas
      type: stat
    - datasource: ${datasource}
      description: Total number of zookeeper healthy nodes.
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 6
        w: 6
        x: 0
        "y": 12
      id: 22
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: (count(max by (host) (solr_zookeeper_nodestatus{namespace=~"$namespace",service=~"$app-stats"})
          == 1))
        interval: ""
        legendFormat: Healthy Nodes
        refId: A
      title: Zookeeper Healthy Nodes
      type: stat
    - datasource: ${datasource}
      description: Size of zookeeper ensemble
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 6
        w: 6
        x: 6
        "y": 12
      id: 24
      options:
        colorMode: value
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: max by (zk_host) (solr_zookeeper_ensemble_size{namespace=~"$namespace",service=~"$app-stats"})
        interval: ""
        legendFormat: Ensemble size
        refId: A
      title: Zookeeper ensemble size
      type: stat
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: null
      description: Current state of replicas. We are showing down replica here.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 6
        w: 12
        x: 12
        "y": 12
      hiddenSeries: false
      id: 26
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: 1 - max by (core, state) (solr_collections_replica_state{namespace=~"$namespace",service=~"$app-stats",base_url=~"$base_url",})
        interval: ""
        legendFormat: '{{core}} = {{state}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Replica state history
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1591
        decimals: 0
        format: short
        label: Non-active replicas
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:1592
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 18
      id: 28
      panels: []
      title: Query Metrics
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: 'Distributed QPS 1-min rate  aggregated by collection, roughly the
        current QPS across all nodes per '
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 19
      hiddenSeries: false
      id: 30
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum by (collection) (solr_metrics_core_query_1minRate{namespace=~"$namespace",service=~"$app-stats"})
        interval: ""
        legendFormat: '{{collection}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Total QPS (by collection)
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:175
        format: short
        label: qps
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:176
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Distributed QPS 1-min rate aggregated by base_url (Solr node)
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 19
      hiddenSeries: false
      id: 32
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum by (collection) (solr_metrics_core_query_1minRate{namespace=~"$namespace",service=~"$app-stats"})
        interval: ""
        legendFormat: '{{base_url}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Total QPS (by node)
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:270
        format: short
        label: qps
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:271
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 27
      id: 34
      panels: []
      title: JVM Metics
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Total number of jvm buffers
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 28
      hiddenSeries: false
      id: 36
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_jvm_buffers{namespace=~"$namespace",service=~"$app-stats",base_url=~"$base_url"}
        interval: ""
        legendFormat: '{{base_url}} {{pool}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Buffers
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:535
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:536
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Size of buffer in bytes
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 28
      hiddenSeries: false
      id: 38
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_jvm_buffers_bytes{namespace=~"$namespace",service=~"$app-stats",base_url=~"$base_url"}
        interval: ""
        legendFormat: '{{base_url}} {{pool}} {{item}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Buffer Size
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:627
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:628
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Total number of garbage collection
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 36
      hiddenSeries: false
      id: 40
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: increase(solr_metrics_jvm_gc_total{namespace=~"$namespace",service=~"$app-stats",base_url=~"$base_url"}[1m])
        interval: ""
        legendFormat: '{{base_url}} {{item}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: GC Count
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:730
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:731
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Total time of garbage collection
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 36
      hiddenSeries: false
      id: 42
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: increase(solr_metrics_jvm_gc_seconds_total{namespace=~"$namespace",service=~"$app-stats",base_url=~"$base_url"}[1m])
        interval: ""
        legendFormat: '{{base_url}} {{item}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: GC Time Seconds
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:898
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:899
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Total heap size in bytes
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 44
      hiddenSeries: false
      id: 44
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_jvm_memory_heap_bytes{namespace=~"$namespace",service=~"$app-stats",base_url=~"$base_url"}
        interval: ""
        legendFormat: '{{base_url}} {{item}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Heap Size
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1082
        format: decbytes
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:1083
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Size of non heap memory
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 44
      hiddenSeries: false
      id: 46
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_jvm_memory_non_heap_bytes{namespace=~"$namespace",service=~"$app-stats",base_url=~"$base_url"}
        interval: ""
        legendFormat: '{{base_url}} {{item}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Non-heap size
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1169
        format: decbytes
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:1170
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Pool size in bytes
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 52
      hiddenSeries: false
      id: 48
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_jvm_memory_pools_bytes{namespace=~"$namespace",service=~"$app-stats",base_url=~"$base_url"}
        interval: ""
        legendFormat: '{{base_url}} {{space}} {{item}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Pool size
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1337
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:1338
        format: decbytes
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Memory size in bytes
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 52
      hiddenSeries: false
      id: 50
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_jvm_memory_bytes{namespace=~"$namespace",service=~"$app-stats",base_url=~"$base_url"}
        interval: ""
        legendFormat: '{{base_url}} {{item}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Memory size
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1424
        format: decbytes
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:1425
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: null
      description: Total thread size
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 60
      hiddenSeries: false
      id: 52
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_jvm_threads{namespace=~"$namespace",service=~"$app-stats",base_url=~"$base_url"}
        interval: ""
        legendFormat: '{{base_url}} {{item}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Thread size
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1673
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:1674
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 68
      id: 54
      panels: []
      title: Node Metrics
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Total number of requests
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 69
      hiddenSeries: false
      id: 56
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_node_requests_total{namespace=~"$namespace",service=~"$app-stats",base_url=~"$base_url"}
        interval: ""
        legendFormat: '{{base_url}} {{handler}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Request
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1760
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:1761
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Total request time in seconds
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 69
      hiddenSeries: false
      id: 58
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: increase(solr_metrics_node_time_seconds_total{namespace=~"$namespace",service=~"$app-stats",base_url=~"$base_url"}[1m])
        interval: ""
        legendFormat: '{{base_url}}{{handler}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Request time
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1847
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:1848
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Total number of node client errors
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 77
      hiddenSeries: false
      id: 60
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: increase(solr_metrics_node_client_errors_total{namespace=~"$namespace",service=~"$app-stats",base_url=~"$base_url"}[1m])
        interval: ""
        legendFormat: '{{base_url}}{{handler}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Client Errors
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2245
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:2246
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Total number of client server errors
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 77
      hiddenSeries: false
      id: 62
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: increase(solr_metrics_node_server_errors_total{namespace=~"$namespace",service=~"$app-stats",base_url=~"$base_url"}[1m])
        interval: ""
        legendFormat: '{{base_url}}{{handler}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Server errors
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2332
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:2333
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Total node errors
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 85
      hiddenSeries: false
      id: 64
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: increase(solr_metrics_node_errors_total{namespace=~"$namespace",service=~"$app-stats",base_url=~"$base_url"}[1m])
        interval: ""
        legendFormat: ""
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Errors
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2633
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:2634
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: null
      description: Total node timeout
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 85
      hiddenSeries: false
      id: 66
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: increase(solr_metrics_node_timeouts_total{namespace=~"$namespace",service=~"$app-stats",base_url=~"$base_url"}[1m])
        interval: ""
        legendFormat: '{{base_url}}{{handler}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Timeout
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2720
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:2721
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Total node cores.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 93
      hiddenSeries: false
      id: 68
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_node_cores{namespace=~"$namespace",service=~"$app-stats",base_url=~"$base_url"}
        interval: ""
        legendFormat: '{{base_url}} {{item}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Cores
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2807
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:2808
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: null
      description: Total memory consumed by core root file system.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 93
      hiddenSeries: false
      id: 70
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_node_core_root_fs_bytes{namespace=~"$namespace",service=~"$app-stats",base_url=~"$base_url"}
        interval: ""
        legendFormat: '{{base_url}} {{item}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Core Root File System
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:3056
        format: decbytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:3057
        format: decbytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Total thread pool completed.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 101
      hiddenSeries: false
      id: 72
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_node_thread_pool_completed_total{namespace=~"$namespace",service=~"$app-stats",base_url=~"$base_url"}
        interval: ""
        legendFormat: '{{base_url}} {{handler}} {{executor}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Thread pool completed
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:3224
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:3225
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Total thread pool submitted.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 101
      hiddenSeries: false
      id: 74
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_node_thread_pool_submitted_total{namespace=~"$namespace",service=~"$app-stats",base_url=~"$base_url"}
        interval: ""
        legendFormat: '{{base_url}} {{handler}} {{executor}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Thread pool submitted
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:3392
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:3393
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: null
      description: Total number of node thread pool
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 109
      hiddenSeries: false
      id: 76
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_node_thread_pool_running{namespace=~"$namespace",service=~"$app-stats",base_url=~"$base_url"}
        interval: ""
        legendFormat: '{{base_url}} {{handler}} {{executor}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Thread pool running
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:3560
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:3561
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Total number of node connections
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 109
      hiddenSeries: false
      id: 78
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_node_connections{namespace=~"$namespace",service=~"$app-stats",base_url=~"$base_url"}
        interval: ""
        legendFormat: '{{base_url}} {{handler}} {{item}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Connections
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:3647
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:3648
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Total number of leaders by node.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 117
      hiddenSeries: false
      id: 80
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum by (base_url) (max by (core) (solr_collections_shard_leader{namespace=~"$namespace",service=~"$app-stats",base_url=~"$base_url"}))
        interval: ""
        legendFormat: '{{base_url}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Leader Count(by node)
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:3734
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:3735
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    schemaVersion: 27
    style: dark
    tags: []
    templating:
      list:
      - current:
          selected: false
          text: Prometheus
          value: Prometheus
        description: null
        error: null
        hide: 0
        includeAll: false
        label: null
        multi: false
        name: datasource
        options: []
        query: prometheus
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: null
        current:
          selected: false
          text: demo
          value: demo
        datasource: ${datasource}
        definition: label_values(kube_namespace_created,namespace)
        description: null
        error: null
        hide: 0
        includeAll: false
        label: null
        multi: false
        name: namespace
        options: []
        query:
          query: label_values(kube_namespace_created,namespace)
          refId: Prometheus-namespace-Variable-Query
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text: solr-cluster
          value: solr-cluster
        datasource: ${datasource}
        definition: label_values(kubedb_com_solr_status_phase{namespace=~"$namespace"},app)
        description: null
        error: null
        hide: 0
        includeAll: false
        label: null
        multi: false
        name: app
        options: []
        query:
          query: label_values(kubedb_com_solr_status_phase{namespace=~"$namespace"},app)
          refId: StandardVariableQuery
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 1
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: true
          text:
          - All
          value:
          - $__all
        datasource: ${datasource}
        definition: label_values(solr_ping{namespace=~"$namespace",service=~"$app-stats",zk_host=~".+"},zk_host)
        description: null
        error: null
        hide: 2
        includeAll: true
        label: null
        multi: true
        name: zk_host
        options: []
        query:
          query: label_values(solr_ping{namespace=~"$namespace",service=~"$app-stats",zk_host=~".+"},zk_host)
          refId: StandardVariableQuery
        refresh: 1
        regex: /(.+)/
        skipUrlSync: false
        sort: 1
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: true
          text:
          - All
          value:
          - $__all
        datasource: ${datasource}
        definition: label_values(solr_ping{namespace=~"$namespace",service=~"$app-stats",base_url=~".+"},base_url)
        description: null
        error: null
        hide: 2
        includeAll: true
        label: null
        multi: true
        name: base_url
        options: []
        query:
          query: label_values(solr_ping{namespace=~"$namespace",service=~"$app-stats",base_url=~".+"},base_url)
          refId: StandardVariableQuery
        refresh: 1
        regex: /(.+)/
        skipUrlSync: false
        sort: 1
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-6h
      to: now
    timepicker: {}
    timezone: ""
    title: KubeDB / Solr / Database
    version: 13
  overwrite: true
  templatize:
    title: false
    datasource: false
---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-solr-pod
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: Solr
    k8s.io/resource: solrs
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - builtIn: 1
        datasource: ${datasource}
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        target:
          limit: 100
          matchAny: false
          tags: []
          type: dashboard
        type: dashboard
    description: Solr Pod Dashboard for Prometheus Solr Exporter
    editable: true
    gnetId: null
    graphTooltip: 1
    iteration: 1710915292741
    links: []
    panels:
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 0
      id: 104
      panels: []
      title: Query Metrics
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: 'Distributed QPS 1-min rate  aggregated by collection and pod, roughly
        the current QPS across all nodes per '
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 1
      hiddenSeries: false
      id: 201
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: |
          sum by (collection) (solr_metrics_core_query_1minRate{namespace=~"$namespace",service=~"$app-stats",pod=~"$pod",base_url=~"$base_url",collection=~"$collection",shard=~"$shard",replica=~"$replica",core=~"$core",searchHandler=~"$searchHandler"})
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Total QPS(by collection)
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:4219
        format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:4220
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Distributed QPS 1-min rate aggregated by base_url (Solr node) and pods.
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 1
      hiddenSeries: false
      id: 223
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum by (base_url) (solr_metrics_core_query_1minRate{namespace=~"$namespace",service=~"$app-stats",pod=~"$pod",base_url=~"$base_url",collection=~"$collection",shard=~"$shard",replica=~"$replica",core=~"$core",searchHandler=~"$searchHandler"})
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Total QPS(by node)
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:4583
        format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:4584
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: null
      description: Imp[lies distributed query time in 95ms.
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 8
      hiddenSeries: false
      id: 253
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_core_query_p95_ms{namespace=~"$namespace",service=~"$app-stats",pod=~"$pod",base_url=~"$base_url",collection=~"$collection",shard=~"$shard",replica=~"$replica",core=~"$core",searchHandler=~"$searchHandler"}
        interval: ""
        legendFormat: '{{base_url}}  {{core}}  {{searchHandler}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Distributed query time per core(p95 ms)
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:4666
        format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:4667
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: null
      description: Implies distributed query time per core in 99ms.
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 8
      hiddenSeries: false
      id: 257
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_core_query_p99_ms{namespace=~"$namespace",service=~"$app-stats",pod=~"$pod",base_url=~"$base_url",collection=~"$collection",shard=~"$shard",replica=~"$replica",core=~"$core",searchHandler=~"$searchHandler"}
        interval: ""
        legendFormat: '{{base_url}}  {{core}}  {{searchHandler}} {{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Distributed Query Time per Core (p99 ms)
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:4749
        format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:4750
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: null
      description: Distributed QPS per core in 5min rate
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 15
      hiddenSeries: false
      id: 255
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_core_query_5minRate{namespace=~"$namespace",service=~"$app-stats",pod=~"$pod",base_url=~"$base_url",collection=~"$collection",shard=~"$shard",replica=~"$replica",core=~"$core",searchHandler=~"$searchHandler"}
        interval: ""
        legendFormat: '{{base_url}}  {{core}} {{pod}} {{searchHandler}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Distributed QPS per core(5-min rate)
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:4994
        format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:4995
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: null
      description: Distributed QPS per core in 1 min rate
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 15
      hiddenSeries: false
      id: 259
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_core_query_1minRate{namespace=~"$namespace",service=~"$app-stats",pod=~"$pod",base_url=~"$base_url",collection=~"$collection",shard=~"$shard",replica=~"$replica",core=~"$core",searchHandler=~"$searchHandler"}
        interval: ""
        legendFormat: '{{base_url}}  {{core}}  {{pod}} {{searchHandler}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Distributed QPS per Core (1-min rate)
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:5077
        format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:5078
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: null
      description: Distributed query time per core in 75ms
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 22
      hiddenSeries: false
      id: 261
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_core_query_p75_ms{namespace=~"$namespace",service=~"$app-stats",pod=~"$pod",base_url=~"$base_url",collection=~"$collection",shard=~"$shard",replica=~"$replica",core=~"$core",searchHandler=~"$searchHandler"}
        interval: ""
        legendFormat: '{{base_url}}  {{core}} {{pod}} {{searchHandler}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Distributed Query Time per Core (p75 ms)
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:5241
        format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:5242
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: null
      description: Implies query errors per core in 1 min rate.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 22
      hiddenSeries: false
      id: 271
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_core_query_errors_1minRate{namespace=~"$namespace",service=~"$app-stats",pod=~"$pod",base_url=~"$base_url",collection=~"$collection",shard=~"$shard",replica=~"$replica",core=~"$core",searchHandler=~"$searchHandler"}
        interval: ""
        legendFormat: ""
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Query Errors per Core (1-min rate)
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:5324
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:5325
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 29
      id: 279
      panels: []
      title: Jetty Metrics
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Impliess jetty requests.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 30
      hiddenSeries: false
      id: 273
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: increase(solr_metrics_jetty_requests_total{namespace=~"$namespace",service=~"$app-stats",pod=~"$pod",base_url=~"$base_url"}[1m])
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}} {{method}} {{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Requests
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:58
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:59
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Implies jetty response.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 30
      hiddenSeries: false
      id: 275
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: increase(solr_metrics_jetty_response_total{namespace=~"$namespace",service=~"$app-stats",pod=~"$pod",base_url=~"$base_url"}[1m])
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}} {{status}} {{pod}}'
        refId: A
        step: 40
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Response
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1511
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:1512
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Implies query dispatches
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 37
      hiddenSeries: false
      id: 277
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: increase(solr_metrics_jetty_dispatches_total{namespace=~"$namespace",service=~"$app-stats",pod=~"$pod",base_url=~"$base_url"}[1m])
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}} {{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Dispatches
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1594
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:1595
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 44
      id: 203
      panels: []
      title: JVM Metrics
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Implies jvm buffers.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 45
      hiddenSeries: false
      id: 205
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_jvm_buffers{namespace=~"$namespace",service=~"$app-stats",pod=~"$pod",base_url=~"$base_url"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}} {{pool}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Buffers
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1687
        format: decbytes
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:1688
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Implies jvm buffer size in bytes.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 45
      hiddenSeries: false
      id: 207
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_jvm_buffers_bytes{namespace="$namespace",service=~"$app-stats",base_url=~"$base_url",pod=~"$pod"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}} {{pool}} {{item}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Buffer Size
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1938
        format: decbytes
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:1939
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Implies garbage collection count.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 52
      hiddenSeries: false
      id: 209
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: increase(solr_metrics_jvm_gc_total{namespace="$namespace",service=~"$app-stats",base_url=~"$base_url",pod=~"$pod"}[1m])
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}} {{item}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: GC Count
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2021
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:2022
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Implies garbage collection time in seconds.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 52
      hiddenSeries: false
      id: 211
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: increase(solr_metrics_jvm_gc_seconds_total{namespace=~"$namespace",service=~"$app-stats",pod=~"$pod",base_url=~"$base_url"}[1m])
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}} {{item}} {{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: GC Time Seconds
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2104
        decimals: null
        format: s
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:2105
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 59
      hiddenSeries: false
      id: 213
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_jvm_memory_heap_bytes{namespace="$namespace",service=~"$app-stats",base_url=~"$base_url",pod=~"$pod"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}} {{item}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Heap Size
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2195
        format: decbytes
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:2196
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Implies non-heap size.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 59
      hiddenSeries: false
      id: 215
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_jvm_memory_non_heap_bytes{namespace="$namespace",service=~"$app-stats",base_url=~"$base_url",pod=~"$pod"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}} {{item}} {{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Non-Heap Size
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2278
        format: decbytes
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:2279
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Implies pool size.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 66
      hiddenSeries: false
      id: 217
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_jvm_memory_pools_bytes{namespace=~"$namespace",service=~"$app-stats",base_url=~"$base_url",pod=~"$pod"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}} {{space}} {{pod}} {{item}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Pool Size
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2361
        format: decbytes
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:2362
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Implies memory size.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 66
      hiddenSeries: false
      id: 219
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_jvm_memory_bytes{namespace=~"$namespace",service=~"$app-stats",base_url=~"$base_url",pod=~"$pod"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}} {{item}} {{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Memory Size
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2525
        format: decbytes
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:2526
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Implies number of threads
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 73
      hiddenSeries: false
      id: 221
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_jvm_threads{namespace="$namespace",service=~"$app-stats",base_url=~"$base_url",pod=~"$pod"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}} {{item}} {{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Threads
      tooltip:
        shared: true
        sort: 2
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2863
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:2864
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 80
      id: 291
      panels: []
      title: OS Metrics.
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Implies memory size of jvm os.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 81
      hiddenSeries: false
      id: 281
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_jvm_os_memory_bytes{namespace=~"$namespace",service=~"$app-stats",pod=~"$pod",base_url=~"$base_url"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}} {{item}} {{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Memory Size
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2948
        format: decbytes
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:2949
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Implies jvm os file descriptor.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 81
      hiddenSeries: false
      id: 283
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_jvm_os_file_descriptors{namespace=~"$namespace",service=~"$app-stats",pod=~"$pod",base_url=~"$base_url"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}} {{item}} {{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: File Descriptors
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:3031
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:3032
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Imples jvm os cpu load.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 88
      hiddenSeries: false
      id: 285
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_jvm_os_cpu_load{namespace=~"$namespace",service=~"$app-stats",pod=~"$pod",base_url=~"$base_url"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}} {{item}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: CPU Load
      tooltip:
        shared: true
        sort: 2
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:3130
        format: percentunit
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:3131
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Implies jvm os cpu time.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 88
      hiddenSeries: false
      id: 287
      legend:
        alignAsTable: true
        avg: true
        current: false
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: increase(solr_metrics_jvm_os_cpu_time_seconds{namespace=~"$namespace",service=~"$app-stats",pod=~"$pod",base_url=~"$base_url"}[1m])
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}} {{item}} {{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: CPU Time
      tooltip:
        shared: true
        sort: 2
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:3213
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:3214
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Implies jvm os load average.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 95
      hiddenSeries: false
      id: 289
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_jvm_os_load_average{namespace=~"$namespace",service=~"$app-stats",pod=~"$pod",base_url=~"$base_url"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}} {{item}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Load Average
      tooltip:
        shared: true
        sort: 2
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:3304
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:3305
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 102
      id: 225
      panels: []
      title: Node Metrics
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Implies total node request for solr.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 103
      hiddenSeries: false
      id: 227
      legend:
        alignAsTable: true
        avg: false
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_node_requests_total{namespace=~"$namespace",service=~"$app-stats",base_url=~"$base_url",pod=~"$pod"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}} {{handler}} {{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Requests
      tooltip:
        shared: true
        sort: 2
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:3397
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:3398
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Implies total node request time in seconds.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 103
      hiddenSeries: false
      id: 229
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: increase(solr_metrics_node_time_seconds_total{namespace=~"$namespace",service=~"$app-stats",base_url=~"$base_url",pod=~"$pod"}[1m])
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}}{{handler}} {{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Request Time
      tooltip:
        shared: true
        sort: 2
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:3480
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:3481
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Solr node client error.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 110
      hiddenSeries: false
      id: 231
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: increase(solr_metrics_node_client_errors_total{namespace="$namespace",service=~"$app-stats",base_url=~"$base_url",pod=~"$pod"}[1m])
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}}{{handler}}{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Client Errors
      tooltip:
        shared: true
        sort: 2
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:3652
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:3653
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Solr node server error.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 110
      hiddenSeries: false
      id: 233
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: increase(solr_metrics_node_server_errors_total{namespace="$namespace",service=~"$app-stats",base_url=~"$base_url",pod=~"$pod"}[1m])
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}}{{handler}}{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Server Errors
      tooltip:
        shared: true
        sort: 2
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:3735
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:3736
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: total node error in solr
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 117
      hiddenSeries: false
      id: 235
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: increase(solr_metrics_node_errors_total{namespace="$namespace",service=~"$app-stats",base_url=~"$base_url",pod=~"$pod"}[1m])
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}}{{handler}}{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Errors
      tooltip:
        shared: true
        sort: 2
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:3822
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:3823
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: total node timeouts.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 117
      hiddenSeries: false
      id: 237
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: increase(solr_metrics_node_timeouts_total{namespace="$namespace",service=~"$app-stats",base_url=~"$base_url",pod=~"$pod"}[1m])
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}}{{handler}}{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Timeouts
      tooltip:
        shared: true
        sort: 2
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:3905
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:3906
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: total node cores.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 124
      hiddenSeries: false
      id: 239
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_node_cores{namespace="$namespace",service=~"$app-stats",base_url=~"$base_url",pod=~"$pod"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}} {{item}} {{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Cores
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:3988
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:3989
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: memory occupied by core root fs in bytes.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 124
      hiddenSeries: false
      id: 241
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_node_core_root_fs_bytes{namespace="$namespace",service=~"$app-stats",base_url=~"$base_url",pod=~"$pod"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}} {{item}} {{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Core Root File System
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:4071
        format: decbytes
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:4072
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: total thread pool completed.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 131
      hiddenSeries: false
      id: 243
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_node_thread_pool_completed_total{namespace="$namespace",service=~"$app-stats",base_url=~"$base_url",pod=~"$pod"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}} {{handler}} {{executor}} {{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Thread Pool Completed
      tooltip:
        shared: true
        sort: 2
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:4170
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:4171
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Total thread pool submitted.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 131
      hiddenSeries: false
      id: 245
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_node_thread_pool_submitted_total{namespace=~"$namespace",service=~"$app-stats",base_url=~"$base_url",pod=~"$pod"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}} {{handler}} {{executor}} {{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Thread Pool Submitted
      tooltip:
        shared: true
        sort: 2
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:4253
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:4254
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Total thread pool running.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 138
      hiddenSeries: false
      id: 247
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_node_thread_pool_running{namespace=~"$namespace",service=~"$app-stats",base_url=~"$base_url",pod=~"$pod"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}} {{handler}} {{executor}} {{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Thread Pool Running
      tooltip:
        shared: true
        sort: 2
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:4336
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:4337
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: solr node connections.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 145
      hiddenSeries: false
      id: 249
      legend:
        alignAsTable: true
        avg: false
        current: false
        hideEmpty: true
        hideZero: true
        max: false
        min: false
        rightSide: true
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_node_connections{namespace=~"$namespace",service=~"$app-stats",base_url=~"$base_url",pod=~"$pod"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}} {{handler}} {{item}} {{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Connections
      tooltip:
        shared: true
        sort: 2
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:4435
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:4436
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Number of leaders on each node
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 6
        w: 12
        x: 12
        "y": 145
      hiddenSeries: false
      id: 251
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum by (base_url) (max by (core) (solr_collections_shard_leader{namespace="$namespace",service=~"$app-stats",base_url=~"$base_url",pod=~"$pod"}))
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}} {{pod}}'
        refId: A
      thresholds:
      - $$hashKey: object:4548
        colorMode: critical
        fill: true
        line: true
        op: gt
        yaxis: left
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Leader Count (by node)
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:4520
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:4521
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 152
      id: 295
      panels: []
      title: Core Metrics
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Total core request.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 153
      hiddenSeries: false
      id: 293
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: increase(solr_metrics_core_requests_total{namespace=~"$namespace",service=~"$app-stats",pod=~"$pod",collection=~"$collection",shard=~"$shard",replica=~"$replica",core=~"$core",searchHandler=~"$searchHandler"}[1m])
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}}/{{core}}{{handler}} {{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Requests
      tooltip:
        shared: true
        sort: 2
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:4625
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:4626
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Total core time in seconds.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 153
      hiddenSeries: false
      id: 297
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: increase(solr_metrics_core_time_seconds_total{namespace=~"$namespace",service=~"$app-stats",pod=~"$pod",base_url=~"$base_url",collection=~"$collection",shard=~"$shard",replica=~"$replica",core=~"$core"}[1m])
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}}/{{core}}{{handler}} {{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Request Time
      tooltip:
        shared: true
        sort: 2
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:4708
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:4709
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Total core client error.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 160
      hiddenSeries: false
      id: 299
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: increase(solr_metrics_core_client_errors_total{namespace=~"$namespace",service=~"$app-stats",pod=~"$pod",base_url=~"$base_url",collection=~"$collection",shard=~"$shard",replica=~"$replica",core=~"$core"}[1m])
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}}/{{core}}{{handler}} {{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Client Errors
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:58
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:59
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 160
      hiddenSeries: false
      id: 301
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: increase(solr_metrics_core_server_errors_total{namespace=~"$namespace",service=~"$app-stats",pod=~"$pod",base_url=~"$base_url",collection=~"$collection",shard=~"$shard",replica=~"$replica",core=~"$core"}[1m])
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}}/{{core}}{{handler}}{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Server Errors
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:592
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:593
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: total core errors
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 167
      hiddenSeries: false
      id: 303
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: increase(solr_metrics_core_errors_total{namespace=~"$namespace",service=~"$app-stats",pod=~"$pod",base_url=~"$base_url",collection=~"$collection",shard=~"$shard",replica=~"$replica",core=~"$core"}[1m])
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}}/{{core}}{{handler}}{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Errors
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:683
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:684
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Total core timeout.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 167
      hiddenSeries: false
      id: 305
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: increase(solr_metrics_core_timeouts_total{namespace=~"$namespace",service=~"$app-stats",pod=~"$pod",base_url=~"$base_url",collection=~"$collection",shard=~"$shard",replica=~"$replica",core=~"$core"}[1m])
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}}/{{core}}{{handler}}{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Timeouts
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:766
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:767
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Core searcher cache hit ratio.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 174
      hiddenSeries: false
      id: 307
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_core_searcher_cache_ratio{namespace=~"$namespace",service=~"$app-stats",pod=~"$pod",base_url=~"$base_url",collection=~"$collection",shard=~"$shard",replica=~"$replica",core=~"$core"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}}/{{core}} {{type}} {{item}} {{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Searcher Cache Hit Ratio
      tooltip:
        shared: true
        sort: 2
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:853
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:854
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Core searcher cache.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 174
      hiddenSeries: false
      id: 309
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_core_searcher_cache{namespace=~"$namespace",service=~"$app-stats",pod=~"$pod",base_url=~"$base_url",collection=~"$collection",shard=~"$shard",replica=~"$replica",core=~"$core"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}}/{{core}} {{type}} {{item}} {{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Searcher Cache
      tooltip:
        shared: true
        sort: 2
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:936
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:937
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Core searcher warm up time.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 181
      hiddenSeries: false
      id: 311
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_core_searcher_warmup_time_seconds{namespace=~"$namespace",service=~"$app-stats",pod=~"$pod",base_url=~"$base_url",collection=~"$collection",shard=~"$shard",replica=~"$replica",core=~"$core"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}}/{{core}} {{type}} {{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Searcher Warm Up Time
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1027
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:1028
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Core searcher cumulative cache.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 181
      hiddenSeries: false
      id: 313
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: increase(solr_metrics_core_searcher_cumulative_cache_total{namespace=~"$namespace",service=~"$app-stats",pod=~"$pod",base_url=~"$base_url",collection=~"$collection",shard=~"$shard",replica=~"$replica",core=~"$core"}[1m])
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}}/{{core}} {{type}} {{item}} {{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Searcher Cumulative Cache
      tooltip:
        shared: true
        sort: 2
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1110
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:1111
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Core file system size in bytes.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 188
      hiddenSeries: false
      id: 315
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_core_fs_bytes{namespace=~"$namespace",service=~"$app-stats",pod=~"$pod",base_url=~"$base_url",collection=~"$collection",shard=~"$shard",replica=~"$replica",core=~"$core"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}}/{{core}} {{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: File System
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1193
        format: decbytes
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:1194
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Core index size in bytes.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 188
      hiddenSeries: false
      id: 317
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_core_index_size_bytes{namespace=~"$namespace",service=~"$app-stats",pod=~"$pod",base_url=~"$base_url",collection=~"$collection",shard=~"$shard",replica=~"$replica",core=~"$core"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}}/{{core}} {{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Index Size
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1292
        format: decbytes
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:1293
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 195
      hiddenSeries: false
      id: 319
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_core_searcher_documents{namespace=~"$namespace",service=~"$app-stats",pod=~"$pod",base_url=~"$base_url",collection=~"$collection",shard=~"$shard",replica=~"$replica",core=~"$core"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}}/{{core}} {{item}} {{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Searcher Documents
      tooltip:
        shared: true
        sort: 2
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1383
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:1384
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Cumulative core update handler.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 202
      hiddenSeries: false
      id: 321
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: increase(solr_metrics_core_update_handler_adds_total{namespace=~"$namespace",service=~"$app-stats",pod=~"$pod",base_url=~"$base_url",collection=~"$collection",shard=~"$shard",replica=~"$replica",core=~"$core"}[1m])
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}}/{{core}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Update Handler Adds (cumulative)
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1466
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:1467
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Core update handler pending doc.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 202
      hiddenSeries: false
      id: 323
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: solr_metrics_core_update_handler_pending_docs{namespace=~"$namespace",service=~"$app-stats",pod=~"$pod",base_url=~"$base_url",collection=~"$collection",shard=~"$shard",replica=~"$replica",core=~"$core"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}}/{{core}}{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Pending Docs
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1549
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:1550
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Number of core update handler delete by ID.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 209
      hiddenSeries: false
      id: 325
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: increase(solr_metrics_core_update_handler_deletes_by_id_total{namespace=~"$namespace",service=~"$app-stats",pod=~"$pod",base_url=~"$base_url",collection=~"$collection",shard=~"$shard",replica=~"$replica",core=~"$core"}[1m])
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}}/{{core}} {{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Update Handler Deletes By ID
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1640
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:1641
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Number of core update handler deleted by query
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 209
      hiddenSeries: false
      id: 327
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: increase(solr_metrics_core_update_handler_deletes_by_query_total{namespace=~"$namespace",service=~"$app-stats",pod=~"$pod",base_url=~"$base_url",collection=~"$collection",shard=~"$shard",replica=~"$replica",core=~"$core"}[1m])
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}}/{{core}} {{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Update Handler Deletes By Query
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1723
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:1724
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Total number of update handler expunge deletes.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 216
      hiddenSeries: false
      id: 329
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: increase(solr_metrics_core_update_handler_expunge_deletes_total{namespace=~"$namespace",service=~"$app-stats",pod=~"$pod",base_url=~"$base_url",collection=~"$collection",shard=~"$shard",replica=~"$replica",core=~"$core"}[1m])
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}}/{{core}} {{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Update Handler Expunge Deletes
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1814
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:1815
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Total number of update handler merges.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 216
      hiddenSeries: false
      id: 331
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: increase(solr_metrics_core_update_handler_merges_total{namespace=~"$namespace",service=~"$app-stats",pod=~"$pod",base_url=~"$base_url",collection=~"$collection",shard=~"$shard",replica=~"$replica",core=~"$core"}[1m])
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}}/{{core}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Update Handler Merges
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1897
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:1898
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Total number of update handler splits.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 223
      hiddenSeries: false
      id: 333
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: increase(solr_metrics_core_update_handler_splits_total{namespace=~"$namespace",service=~"$app-stats",pod=~"$pod",base_url=~"$base_url",collection=~"$collection",shard=~"$shard",replica=~"$replica",core=~"$core"}[1m])
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}}/{{core}} {{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Update Handler Splits
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:1984
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:1985
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Total number of update handler rollbacks.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 223
      hiddenSeries: false
      id: 337
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: increase(solr_metrics_core_update_handler_rollbacks_total{namespace=~"$namespace",service=~"$app-stats",pod=~"$pod",base_url=~"$base_url",collection=~"$collection",shard=~"$shard",replica=~"$replica",core=~"$core"}[1m])
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}}/{{core}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Update Handler Rollbacks
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2067
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:2068
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Total number of update handle optimizes.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 230
      hiddenSeries: false
      id: 335
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: increase(solr_metrics_core_update_handler_optimizes_total{namespace=~"$namespace",service=~"$app-stats",pod=~"$pod",base_url=~"$base_url",collection=~"$collection",shard=~"$shard",replica=~"$replica",core=~"$core"}[1m])
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}}/{{core}} {{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Update Handler Optimizes
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2150
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:2151
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Total number of update handler auto commits.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 230
      hiddenSeries: false
      id: 341
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: increase(solr_metrics_core_update_handler_auto_commits_total{namespace=~"$namespace",service=~"$app-stats",pod=~"$pod",base_url=~"$base_url",collection=~"$collection",shard=~"$shard",replica=~"$replica",core=~"$core"}[1m])
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}}/{{core}} {{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Update Handler Auto Commits
      tooltip:
        shared: true
        sort: 2
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2314
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:2315
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Total number of soft auto commits for update handler.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 237
      hiddenSeries: false
      id: 339
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: increase(solr_metrics_core_update_handler_soft_auto_commits_total{namespace=~"$namespace",service=~"$app-stats",pod=~"$pod",base_url=~"$base_url",collection=~"$collection",shard=~"$shard",replica=~"$replica",core=~"$core"}[1m])
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}}/{{core}} {{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Update Handler Soft Auto Commits
      tooltip:
        shared: true
        sort: 2
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2397
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:2398
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Total number of update handler commits.
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 237
      hiddenSeries: false
      id: 343
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: increase(solr_metrics_core_update_handler_commits_total{namespace=~"$namespace",service=~"$app-stats",pod=~"$pod",base_url=~"$base_url",collection=~"$collection",shard=~"$shard",replica=~"$replica",core=~"$core"}[1m])
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}}/{{core}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Update Handler Commits
      tooltip:
        shared: true
        sort: 2
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2563
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:2564
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Total number of update handler error
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 6
        w: 24
        x: 0
        "y": 244
      hiddenSeries: false
      id: 345
      legend:
        alignAsTable: true
        avg: true
        current: false
        hideEmpty: true
        hideZero: true
        max: true
        min: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 7.5.5
      pointradius: 5
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: increase(solr_metrics_core_update_handler_errors_total{namespace=~"$namespace",service=~"$app-stats",pod=~"$pod",base_url=~"$base_url",collection=~"$collection",shard=~"$shard",replica=~"$replica",core=~"$core"}[1m])
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{base_url}}/{{core}} {{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Update Handler Errors
      tooltip:
        shared: true
        sort: 2
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:2480
        format: short
        label: null
        logBase: 1
        max: null
        min: "0"
        show: true
      - $$hashKey: object:2481
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    refresh: false
    schemaVersion: 27
    style: dark
    tags:
    - kubedb
    - solr
    templating:
      list:
      - current:
          selected: false
          text: Prometheus
          value: Prometheus
        description: null
        error: null
        hide: 0
        includeAll: false
        label: ""
        multi: false
        name: datasource
        options: []
        query: prometheus
        queryValue: ""
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: null
        current:
          selected: false
          text: demo
          value: demo
        datasource: ${datasource}
        definition: label_values(kube_namespace_created,namespace)
        description: null
        error: null
        hide: 0
        includeAll: false
        label: ""
        multi: false
        name: namespace
        options: []
        query:
          query: label_values(kube_namespace_created,namespace)
          refId: Prometheus-namespace-Variable-Query
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: .*
        current:
          selected: false
          text:
          - solr-cluster
          value:
          - solr-cluster
        datasource: ${datasource}
        definition: label_values(kubedb_com_solr_status_phase{namespace=~"$namespace"},app)
        description: null
        error: null
        hide: 0
        includeAll: true
        label: null
        multi: true
        name: app
        options: []
        query:
          query: label_values(kubedb_com_solr_status_phase{namespace=~"$namespace"},app)
          refId: StandardVariableQuery
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 1
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text:
          - All
          value:
          - $__all
        datasource: null
        definition: label_values(solr_ping{namespace="$namespace",service=~"$app-stats",zk_host=~"$zk_host",pod=~".+"},pod)
        description: null
        error: null
        hide: 0
        includeAll: false
        label: null
        multi: false
        name: pod
        query:
          query: label_values(solr_ping{namespace="$namespace",service=~"$app-stats",zk_host=~"$zk_host",pod=~".+"},pod)
          refId: StandardVariableQuery
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text:
          - All
          value:
          - $__all
        datasource: ${datasource}
        definition: label_values(solr_ping{namespace="$namespace",service=~"$app-stats",base_url=~".+"},base_url)
        description: null
        error: null
        hide: 2
        includeAll: true
        label: null
        multi: true
        name: base_url
        options: []
        query:
          query: label_values(solr_ping{namespace="$namespace",service=~"$app-stats",base_url=~".+"},base_url)
          refId: StandardVariableQuery
        refresh: 1
        regex: /(.+)/
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text:
          - All
          value:
          - $__all
        datasource: ${datasource}
        definition: label_values(solr_collections_shard_state{namespace="$namespace",service=~"$app-stats",zk_host=~"$zk_host",collection=~".+"},collection)
        description: null
        error: null
        hide: 0
        includeAll: true
        label: null
        multi: true
        name: collection
        options: []
        query:
          query: label_values(solr_collections_shard_state{namespace="$namespace",service=~"$app-stats",zk_host=~"$zk_host",collection=~".+"},collection)
          refId: StandardVariableQuery
        refresh: 1
        regex: /(.+)/
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text:
          - All
          value:
          - $__all
        datasource: ${datasource}
        definition: label_values(solr_collections_shard_state{namespace="$namespace",service=~"$app-stats",zk_host=~"$zk_host",collection=~"$collection",shard=~".+"},shard)
        description: null
        error: null
        hide: 0
        includeAll: true
        label: null
        multi: true
        name: shard
        options: []
        query:
          query: label_values(solr_collections_shard_state{namespace="$namespace",service=~"$app-stats",zk_host=~"$zk_host",collection=~"$collection",shard=~".+"},shard)
          refId: StandardVariableQuery
        refresh: 1
        regex: /(.+)/
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text:
          - All
          value:
          - $__all
        datasource: ${datasource}
        definition: label_values(solr_collections_replica_state{namespace="$namespace",service=~"$app-stats",zk_host=~"$zk_host",collection=~"$collection",shard=~"$shard",replica=~".+"},replica)
        description: null
        error: null
        hide: 0
        includeAll: true
        label: null
        multi: true
        name: replica
        options: []
        query:
          query: label_values(solr_collections_replica_state{namespace="$namespace",service=~"$app-stats",zk_host=~"$zk_host",collection=~"$collection",shard=~"$shard",replica=~".+"},replica)
          refId: StandardVariableQuery
        refresh: 1
        regex: /(.+)/
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text:
          - All
          value:
          - $__all
        datasource: ${datasource}
        definition: label_values(solr_collections_replica_state{namespace="$namespace",service=~"$app-stats",zk_host=~"$zk_host",collection=~"$collection",shard=~"$shard",replica=~"$replica"},core)
        description: null
        error: null
        hide: 0
        includeAll: true
        label: null
        multi: true
        name: core
        options: []
        query:
          query: label_values(solr_collections_replica_state{namespace="$namespace",service=~"$app-stats",zk_host=~"$zk_host",collection=~"$collection",shard=~"$shard",replica=~"$replica"},core)
          refId: StandardVariableQuery
        refresh: 1
        regex: /(.+)/
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: .*
        current:
          selected: false
          text:
          - All
          value:
          - $__all
        datasource: ${datasource}
        definition: label_values(solr_metrics_core_query_errors_1minRate{namespace="$namespace",service=~"$app-stats",collection=~"$collection",shard=~"$shard",replica=~"$replica"},searchHandler)
        description: null
        error: null
        hide: 0
        includeAll: true
        label: null
        multi: true
        name: searchHandler
        options: []
        query:
          query: label_values(solr_metrics_core_query_errors_1minRate{namespace="$namespace",service=~"$app-stats",collection=~"$collection",shard=~"$shard",replica=~"$replica"},searchHandler)
          refId: StandardVariableQuery
        refresh: 1
        regex: /(.+)/
        skipUrlSync: false
        sort: 1
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text: zoo-0.zoo-pods.demo.svc.cluster.local:2181,zoo-1.zoo-pods.demo.svc.cluster.local:2181,zoo-2.zoo-pods.demo.svc.cluster.local:2181
          value: zoo-0.zoo-pods.demo.svc.cluster.local:2181,zoo-1.zoo-pods.demo.svc.cluster.local:2181,zoo-2.zoo-pods.demo.svc.cluster.local:2181
        datasource: null
        definition: label_values(solr_ping{namespace=~"$namespace",service=~"$app-stats",zk_host=~".+"},zk_host)
        description: null
        error: null
        hide: 2
        includeAll: false
        label: null
        multi: false
        name: zk_host
        options: []
        query:
          query: label_values(solr_ping{namespace=~"$namespace",service=~"$app-stats",zk_host=~".+"},zk_host)
          refId: StandardVariableQuery
        refresh: 1
        regex: /(.+)/
        skipUrlSync: false
        sort: 1
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-6h
      to: now
    timepicker:
      refresh_intervals:
      - 5s
      - 10s
      - 30s
      - 1m
      - 5m
      - 15m
      - 30m
      - 1h
      - 2h
      - 1d
      time_options:
      - 5m
      - 15m
      - 1h
      - 6h
      - 12h
      - 24h
      - 2d
      - 7d
      - 30d
    timezone: utc
    title: KubeDB / Solr / Pod
    version: 21
  overwrite: true
  templatize:
    title: false
    datasource: false
---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-solr-summary
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: Solr
    k8s.io/resource: solrs
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - builtIn: 1
        datasource: ${datasource}
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        target:
          limit: 100
          matchAny: false
          tags: []
          type: dashboard
        type: dashboard
    description: The dashboard is designed for KubeDB managed Solr
    editable: true
    gnetId: 9628
    graphTooltip: 0
    iteration: 1713782878698
    links: []
    panels:
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 0
      id: 136
      panels: []
      title: General Info
      type: row
    - datasource: ${datasource}
      description: Represent database status
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          mappings:
          - options:
              Critical:
                color: dark-yellow
                index: 1
              DataRestoring:
                color: dark-red
                index: 4
              Halted:
                color: dark-red
                index: 5
              NotReady:
                color: dark-red
                index: 2
              Provisioning:
                color: text
                index: 3
              Ready:
                color: semi-dark-green
                index: 0
            type: value
          thresholds:
            mode: absolute
            steps:
            - color: text
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 8
        x: 0
        "y": 1
      id: 78
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: /^phase$/
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: |
          kubedb_com_solr_status_phase{namespace="$namespace", app="$app"} == 1
        format: table
        instant: true
        interval: ""
        legendFormat: '{{phase}}'
        refId: A
      title: Database Status
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      description: Solr up time.
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings:
          - options:
              match: "null"
              result:
                index: 0
                text: N/A
            type: special
          noValue: N/A
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: s
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 8
        "y": 1
      id: 145
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: value
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: time() - kubedb_com_solr_created{namespace="$namespace", app="$app"}
        format: time_series
        instant: true
        interval: ""
        intervalFactor: 1
        legendFormat: ""
        refId: A
      title: Database Up-time
      type: stat
    - datasource: ${datasource}
      description: CPU Limit in core by Solr instance
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 12
        "y": 1
      id: 114
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: kubedb_com_solr_resource_limit_cpu{namespace="$namespace", app="$app"}
        interval: ""
        legendFormat: ""
        refId: A
      title: CPU Limit (Core)
      type: stat
    - datasource: ${datasource}
      description: Initial Requested Memory amount by Solr Instance
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          min: 0
          thresholds:
            mode: percentage
            steps:
            - color: green
              value: null
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 16
        "y": 1
      id: 94
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: kubedb_com_solr_resource_request_memory{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Memory Request
      type: stat
    - datasource: ${datasource}
      description: Total storage request by Solr nodes
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          min: 0
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 20
        "y": 1
      id: 96
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: kubedb_com_solr_resource_request_storage{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Storage Request
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      description: Solr version Name
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings:
          - options:
              match: "null"
              result:
                index: 0
                text: N/A
            type: special
          noValue: N/A
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 8
        x: 0
        "y": 4
      id: 36
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - mean
          fields: ""
          values: false
        text: {}
        textMode: name
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: kubedb_com_solr_info{namespace="$namespace", app="$app"}
        format: time_series
        instant: true
        interval: ""
        intervalFactor: 1
        legendFormat: '{{version}}'
        refId: A
      title: Version
      type: stat
    - datasource: ${datasource}
      description: Total node count of Solr cluster
      fieldConfig:
        defaults:
          color:
            fixedColor: green
            mode: fixed
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 8
        "y": 4
      id: 76
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: kubedb_com_solr_replicas{namespace="$namespace",app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Total Nodes
      type: stat
    - datasource: ${datasource}
      description: Initial Requested CPU amount by Solr Instance
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          min: 0
          thresholds:
            mode: percentage
            steps:
            - color: green
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 12
        "y": 4
      id: 92
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: kubedb_com_solr_resource_request_cpu{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: CPU Request (Core)
      type: stat
    - datasource: ${datasource}
      description: KubeDB Solr Total Memory Limit
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 16
        "y": 4
      id: 116
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: kubedb_com_solr_resource_limit_memory{namespace="$namespace", app="$app"}
        interval: ""
        legendFormat: ""
        refId: A
      title: Memory Limit
      type: stat
    - datasource: ${datasource}
      description: KubeDB Database Resource deletionPolicy
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          mappings:
          - options:
              Delete:
                color: yellow
                index: 1
              DoNotTerminate:
                color: green
                index: 2
              Halt:
                color: blue
                index: 3
              WipeOut:
                color: dark-red
                index: 0
            type: value
          thresholds:
            mode: absolute
            steps:
            - color: text
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 20
        "y": 4
      id: 84
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: /^deletionPolicy$/
          values: false
        text: {}
        textMode: value
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: kubedb_com_solr_info{namespace="$namespace", app="$app"}
        format: table
        instant: true
        interval: ""
        legendFormat: '{{deletionPolicy}}'
        refId: A
      title: Deletion Policy
      type: stat
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 13
      id: 138
      panels: []
      title: CPU Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: CPU Usage by Solr pods
      fieldConfig:
        defaults:
          unit: short
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 14
      hiddenSeries: false
      id: 98
      legend:
        alignAsTable: true
        avg: true
        current: true
        max: true
        min: true
        rightSide: true
        show: true
        sort: current
        sortDesc: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: sum(sum by (namespace, pod, container) (irate(container_cpu_usage_seconds_total{image!="",job="kubelet",metrics_path="/metrics/cadvisor",namespace="$namespace",
          pod=~"$app-overseer-\\d+$|$app-coordinator-\\d+$|$app-data-\\d+$|$app-\\d+$"}[5m]))
          * on (namespace, pod) group_left (node) topk by (namespace, pod) (1, max by
          (namespace, pod, node) (kube_pod_info{node!="",namespace="$namespace", pod=~"$app-overseer-\\d+$|$app-coordinator-\\d+$|$app-data-\\d+$|$app-\\d+$"})))
          by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: CPU Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:112
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:113
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      description: CPU Quote information in details
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            displayMode: auto
            filterable: false
          decimals: 2
          displayName: ""
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: Time
          properties:
          - id: displayName
            value: Time
          - id: custom.align
            value: null
          - id: custom.width
            value: null
        - matcher:
            id: byName
            options: 'Value #A'
          properties:
          - id: displayName
            value: CPU Usage
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #B'
          properties:
          - id: displayName
            value: CPU Requests
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #C'
          properties:
          - id: displayName
            value: CPU Requests %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #D'
          properties:
          - id: displayName
            value: CPU Limits
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #E'
          properties:
          - id: displayName
            value: CPU Limits %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: pod
          properties:
          - id: displayName
            value: Pod
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: links
            value:
            - targetBlank: false
              title: Drill down
              url: ./d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-pod=$__cell
          - id: custom.align
            value: null
      gridPos:
        h: 6
        w: 24
        x: 0
        "y": 27
      id: 122
      links: []
      options:
        showHeader: true
        sortBy:
        - desc: true
          displayName: CPU Requests %
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: sum(sum by (namespace, pod, container) (irate(container_cpu_usage_seconds_total{image!="",job="kubelet",metrics_path="/metrics/cadvisor",namespace="$namespace",
          pod=~"$app-overseer-\\d+$|$app-coordinator-\\d+$|$app-data-\\d+$|$app-\\d+$"}[5m]))
          * on (namespace, pod) group_left (node) topk by (namespace, pod) (1, max by
          (namespace, pod, node) (kube_pod_info{node!="",namespace="$namespace", pod=~"$app-overseer-\\d+$|$app-coordinator-\\d+$|$app-data-\\d+$|$app-\\d+$"})))
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
        step: 10
      - exemplar: false
        expr: sum(kube_pod_container_resource_requests{job="kube-state-metrics",resource="cpu",namespace="$namespace",
          pod=~"$app-overseer-\\d+$|$app-coordinator-\\d+$|$app-data-\\d+$|$app-\\d+$"}
          * on (namespace,pod) group_left () max by (namespace,pod) ((kube_pod_status_phase{phase=~"Pending|Running"}
          == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: B
        step: 10
      - exemplar: false
        expr: sum(sum by (namespace, pod, container) (irate(container_cpu_usage_seconds_total{image!="",job="kubelet",metrics_path="/metrics/cadvisor",namespace="$namespace",
          pod=~"$app-overseer-\\d+$|$app-coordinator-\\d+$|$app-data-\\d+$|$app-\\d+$"}[5m]))
          * on (namespace, pod) group_left (node) topk by (namespace, pod) (1, max by
          (namespace, pod, node) (kube_pod_info{node!="",namespace="$namespace", pod=~"$app-overseer-\\d+$|$app-coordinator-\\d+$|$app-data-\\d+$|$app-\\d+$"})))
          by (pod) / sum(kube_pod_container_resource_requests{job="kube-state-metrics",resource="cpu",namespace="$namespace",
          pod=~"$app-overseer-\\d+$|$app-coordinator-\\d+$|$app-data-\\d+$|$app-\\d+$"}
          * on (namespace,pod) group_left () max by (namespace,pod) ((kube_pod_status_phase{phase=~"Pending|Running"}
          == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: C
        step: 10
      - exemplar: false
        expr: sum(kube_pod_container_resource_limits{job="kube-state-metrics",resource="cpu",namespace="$namespace",
          pod=~"$app-overseer-\\d+$|$app-coordinator-\\d+$|$app-data-\\d+$|$app-\\d+$"}
          * on (namespace,pod) group_left() max by (namespace, pod) ((kube_pod_status_phase{phase=~"Pending|Running"}
          == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: D
        step: 10
      - exemplar: false
        expr: sum(sum by (namespace, pod, container) (irate(container_cpu_usage_seconds_total{image!="",job="kubelet",metrics_path="/metrics/cadvisor",namespace="$namespace",
          pod=~"$app-overseer-\\d+$|$app-coordinator-\\d+$|$app-data-\\d+$|$app-\\d+$"}[5m]))
          * on (namespace, pod) group_left (node) topk by (namespace, pod) (1, max by
          (namespace, pod, node) (kube_pod_info{node!="",namespace="$namespace", pod=~"$app-overseer-\\d+$|$app-coordinator-\\d+$|$app-data-\\d+$|$app-\\d+$"})))
          by (pod) / sum(kube_pod_container_resource_limits{job="kube-state-metrics",resource="cpu",namespace="$namespace",
          pod=~"$app-overseer-\\d+$|$app-coordinator-\\d+$|$app-data-\\d+$|$app-\\d+$"}
          * on (namespace,pod) group_left() max by (namespace, pod) ((kube_pod_status_phase{phase=~"Pending|Running"}
          == 1))) by (pod)
        format: table
        hide: false
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: E
        step: 10
      timeFrom: null
      timeShift: null
      title: CPU Quota
      transformations:
      - id: merge
        options:
          reducers: []
      type: table
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 33
      id: 140
      panels: []
      title: Memory Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Memory Usage by Solr pods
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 6
        w: 24
        x: 0
        "y": 34
      hiddenSeries: false
      id: 100
      legend:
        alignAsTable: true
        avg: true
        current: true
        max: true
        min: true
        rightSide: true
        show: true
        sort: current
        sortDesc: true
        total: false
        values: true
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: sum(container_memory_working_set_bytes{image!="",job="kubelet",metrics_path="/metrics/cadvisor",namespace="$namespace",
          pod=~"$app-overseer-\\d+$|$app-coordinator-\\d+$|$app-data-\\d+$|$app-\\d+$",container!=""}
          * on (namespace, pod) group_left (node) topk by (namespace, pod) (1, max by
          (namespace, pod, node) (kube_pod_info{node!=""}))) by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Memory Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:197
        format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:198
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      description: Memory consumption summary of containers.
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            displayMode: auto
            filterable: false
          decimals: 2
          displayName: ""
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: Time
          properties:
          - id: displayName
            value: Time
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #A'
          properties:
          - id: displayName
            value: Memory Usage
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #B'
          properties:
          - id: displayName
            value: Memory Requests
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #C'
          properties:
          - id: displayName
            value: Memory Requests %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #D'
          properties:
          - id: displayName
            value: Memory Limits
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #E'
          properties:
          - id: displayName
            value: Memory Limits %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #F'
          properties:
          - id: displayName
            value: Memory Usage (RSS)
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #G'
          properties:
          - id: displayName
            value: Memory Usage (Cache)
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #H'
          properties:
          - id: displayName
            value: Memory Usage (Swap)
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: pod
          properties:
          - id: displayName
            value: Pod
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: links
            value:
            - targetBlank: false
              title: Drill down
              url: ./d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-pod=$__cell
          - id: custom.align
            value: null
      gridPos:
        h: 6
        w: 24
        x: 0
        "y": 47
      id: 124
      links: []
      options:
        showHeader: true
        sortBy:
        - desc: true
          displayName: Memory Usage
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{namespace="$namespace",pod=~"$app-overseer-\\d+$|$app-coordinator-\\d+$|$app-data-\\d+$|$app-\\d+$",container!="",
          image!=""}) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
        step: 10
      - exemplar: true
        expr: sum (kube_pod_container_resource_requests{job="kube-state-metrics",resource="memory",namespace="$namespace",pod=~"$app-overseer-\\d+$|$app-coordinator-\\d+$|$app-data-\\d+$|$app-\\d+$"}
          * on (namespace, pod, cluster) group_left () max by (namespace, pod, cluster)
          ((kube_pod_status_phase{phase=~"Pending|Running"} == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: B
        step: 10
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{namespace="$namespace",pod=~"$app-overseer-\\d+$|$app-coordinator-\\d+$|$app-data-\\d+$|$app-\\d+$",container!="",
          image!=""}) by (pod) / sum(kube_pod_container_resource_requests{job="kube-state-metrics",resource="memory",namespace="$namespace",pod=~"$app-overseer-\\d+$|$app-coordinator-\\d+$|$app-data-\\d+$|$app-\\d+$"}
          * on (namespace, pod, cluster) group_left () max by (namespace, pod, cluster)
          ((kube_pod_status_phase{phase=~"Pending|Running"} == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: C
        step: 10
      - exemplar: true
        expr: sum(kube_pod_container_resource_limits{job="kube-state-metrics",resource="memory",namespace="$namespace",pod=~"$app-overseer-\\d+$|$app-coordinator-\\d+$|$app-data-\\d+$|$app-\\d+$"}
          * on (namespace, pod, cluster) group_left () max by (namespace, pod, cluster)
          ((kube_pod_status_phase{phase=~"Pending|Running"} == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: D
        step: 10
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{namespace="$namespace",pod=~"$app-overseer-\\d+$|$app-coordinator-\\d+$|$app-data-\\d+$|$app-\\d+$",container!="",
          image!=""}) by (pod) / sum(kube_pod_container_resource_limits{job="kube-state-metrics",resource="memory",namespace="$namespace",pod=~"$app-overseer-\\d+$|$app-coordinator-\\d+$|$app-data-\\d+$|$app-\\d+$"}
          * on (namespace, pod, cluster) group_left () max by (namespace, pod, cluster)
          ((kube_pod_status_phase{phase=~"Pending|Running"} == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: E
        step: 10
      - exemplar: true
        expr: sum(container_memory_rss{namespace="$namespace",pod=~"$app-overseer-\\d+$|$app-coordinator-\\d+$|$app-data-\\d+$|$app-\\d+$",container!=""})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: F
        step: 10
      - exemplar: true
        expr: sum(container_memory_cache{namespace="$namespace",pod=~"$app-overseer-\\d+$|$app-coordinator-\\d+$|$app-data-\\d+$|$app-\\d+$",container!=""})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: G
        step: 10
      - exemplar: true
        expr: sum(container_memory_swap{namespace="$namespace",pod=~"$app-overseer-\\d+$|$app-coordinator-\\d+$|$app-data-\\d+$|$app-\\d+$",container!=""})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: H
        step: 10
      timeFrom: null
      timeShift: null
      title: Memory Quota
      transformations:
      - id: merge
        options:
          reducers: []
      type: table
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 53
      id: 142
      panels: []
      title: Storage Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Disk usage by Solr pods
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 9
        w: 12
        x: 0
        "y": 54
      hiddenSeries: false
      id: 112
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
        legend:
          calcs: []
          displayMode: list
          placement: bottom
        tooltip:
          mode: single
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: avg(container_blkio_device_usage_total{namespace="$namespace", pod=~"$app-overseer-\\d+$|$app-coordinator-\\d+$|$app-data-\\d+$|$app-\\d+$"})
          by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Disk Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:282
        format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:283
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: System Disk Usage Information
      fieldConfig:
        defaults:
          unit: none
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 9
        w: 12
        x: 12
        "y": 54
      hiddenSeries: false
      id: 108
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
        legend:
          calcs: []
          displayMode: table
          placement: right
        tooltip:
          mode: single
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: sum(rate(container_fs_writes_total{namespace="$namespace", pod=~"$app-overseer-\\d+$|$app-coordinator-\\d+$|$app-data-\\d+$|$app-\\d+$"}[5m]))by(pod)
        instant: false
        interval: ""
        intervalFactor: 1
        legendFormat: '{{pod}}-disk-write'
        refId: A
      - exemplar: false
        expr: sum(rate(container_fs_reads_total{namespace="$namespace", pod=~"$app-overseer-\\d+$|$app-coordinator-\\d+$|$app-data-\\d+$|$app-\\d+$"}[5m]))by(pod)
        hide: false
        instant: false
        interval: ""
        legendFormat: '{{pod}}-disk-read'
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Disk R/W Info
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:365
        format: none
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:366
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors:
        solr-cluster-overseer-0: red
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Container file system read and writes.
      fieldConfig:
        defaults:
          unit: short
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 63
      hiddenSeries: false
      id: 126
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
        legend:
          calcs: []
          displayMode: list
          placement: bottom
        tooltip:
          mode: single
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: ceil(sum by(pod) (rate(container_fs_reads_total{container!="", namespace=~"$namespace",
          pod=~"$app-overseer-\\d+$|$app-coordinator-\\d+$|$app-data-\\d+$|$app-\\d+$"}[5m])
          + rate(container_fs_writes_total{container!="" ,namespace=~"$namespace", pod=~"$app-overseer-\\d+$|$app-coordinator-\\d+$|$app-data-\\d+$|$app-\\d+$"}[5m])))
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: IOPS (Reads+Writes)
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:448
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:449
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Total throughput read and write.
      fieldConfig:
        defaults:
          unit: Bps
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 63
      hiddenSeries: false
      id: 128
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
        legend:
          calcs: []
          displayMode: list
          placement: bottom
        tooltip:
          mode: single
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: sum by(pod) (rate(container_fs_reads_bytes_total{container!="", namespace=~"$namespace",
          pod=~"$app-overseer-\\d+$|$app-coordinator-\\d+$|$app-data-\\d+$|$app-\\d+$"}[5m])
          + rate(container_fs_writes_bytes_total{container!="" ,namespace=~"$namespace",
          pod=~"$app-overseer-\\d+$|$app-coordinator-\\d+$|$app-data-\\d+$|$app-\\d+$"}[5m]))
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: ThroughPut (Read+Write)
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:531
        format: Bps
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:532
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      description: Summary of current storage IO
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            displayMode: auto
            filterable: false
          decimals: 2
          displayName: ""
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: Time
          properties:
          - id: displayName
            value: Time
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #A'
          properties:
          - id: displayName
            value: IOPS(Reads)
          - id: unit
            value: short
          - id: decimals
            value: -1
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #B'
          properties:
          - id: displayName
            value: IOPS(Writes)
          - id: unit
            value: short
          - id: decimals
            value: -1
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #C'
          properties:
          - id: displayName
            value: IOPS(Reads + Writes)
          - id: unit
            value: short
          - id: decimals
            value: -1
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #D'
          properties:
          - id: displayName
            value: Throughput(Read)
          - id: unit
            value: Bps
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #E'
          properties:
          - id: displayName
            value: Throughput(Write)
          - id: unit
            value: Bps
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #F'
          properties:
          - id: displayName
            value: Throughput(Read + Write)
          - id: unit
            value: Bps
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: pod
          properties:
          - id: displayName
            value: Pod
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: links
            value:
            - targetBlank: false
              title: Drill down to pods
              url: ./d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-pod=$__cell
          - id: custom.align
            value: null
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 70
      id: 130
      links: []
      options:
        showHeader: true
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: sum by(pod) (rate(container_fs_reads_total{container!="", pod=~"$app-overseer-\\d+$|$app-coordinator-\\d+$|$app-data-\\d+$|$app-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
        step: 10
      - exemplar: false
        expr: sum by(pod) (rate(container_fs_writes_total{container!="", pod=~"$app-overseer-\\d+$|$app-coordinator-\\d+$|$app-data-\\d+$|$app-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: B
        step: 10
      - exemplar: false
        expr: sum by(pod) (rate(container_fs_reads_total{container!="", pod=~"$app-overseer-\\d+$|$app-coordinator-\\d+$|$app-data-\\d+$|$app-\\d+$",namespace=~"$namespace"}[5m])
          + rate(container_fs_writes_total{container!="", pod=~"$app-overseer-\\d+$|$app-coordinator-\\d+$|$app-data-\\d+$|$app-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: C
        step: 10
      - exemplar: false
        expr: sum by(pod) (rate(container_fs_reads_bytes_total{container!="", pod=~"$app-overseer-\\d+$|$app-coordinator-\\d+$|$app-data-\\d+$|$app-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: D
        step: 10
      - exemplar: false
        expr: sum by(pod) (rate(container_fs_writes_bytes_total{container!="", pod=~"$app-overseer-\\d+$|$app-coordinator-\\d+$|$app-data-\\d+$|$app-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: E
        step: 10
      - exemplar: false
        expr: sum by(pod) (rate(container_fs_reads_bytes_total{container!="", pod=~"$app-overseer-\\d+$|$app-coordinator-\\d+$|$app-data-\\d+$|$app-\\d+$",namespace=~"$namespace"}[5m])
          + rate(container_fs_writes_bytes_total{container!="", pod=~"$app-overseer-\\d+$|$app-coordinator-\\d+$|$app-data-\\d+$|$app-\\d+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: F
        step: 10
      timeFrom: null
      timeShift: null
      title: Current Storage IO
      transformations:
      - id: merge
        options:
          reducers: []
      type: table
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 77
      id: 147
      panels: []
      title: Persistent Storage Insight
      type: row
    - datasource: ${datasource}
      description: |
        This panel describes allocated persistent storage in a table format
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: center
            displayMode: color-text
            filterable: false
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: light-blue
              value: null
          unit: decbytes
        overrides: []
      gridPos:
        h: 6
        w: 12
        x: 0
        "y": 78
      id: 149
      options:
        showHeader: true
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: kubelet_volume_stats_capacity_bytes + on(persistentvolumeclaim) group_left(pod)
          kube_pod_spec_volumes_persistentvolumeclaims_info{pod=~"$app-overseer-\\d+$|$app-coordinator-\\d+$|$app-data-\\d+$|$app-\\d+$",namespace=~"$namespace"}
        format: table
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Allocated Storage
      transformations:
      - id: organize
        options:
          excludeByName:
            Time: true
            endpoint: true
            instance: true
            job: true
            metrics_path: true
            namespace: true
            node: true
            persistentvolumeclaim: true
            service: true
          indexByName: {}
          renameByName:
            Value: Volume
            pod: Pod
      type: table
    - datasource: ${datasource}
      description: 'This panel shows the persistent volume usage in percentage. '
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          max: 100
          min: 0
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: percent
        overrides: []
      gridPos:
        h: 6
        w: 12
        x: 12
        "y": 78
      id: 151
      options:
        displayMode: gradient
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        showUnfilled: true
        text: {}
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: (kubelet_volume_stats_used_bytes / on(persistentvolumeclaim) group_left(pod)
          (kubelet_volume_stats_capacity_bytes + on(persistentvolumeclaim) group_left(pod)
          kube_pod_spec_volumes_persistentvolumeclaims_info{pod=~"$app-overseer-\\d+$|$app-coordinator-\\d+$|$app-data-\\d+$|$app-\\d+$",namespace=~"$namespace"})
          )* 100
        instant: true
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      title: Persistent Volume Usage
      transformations: []
      type: bargauge
    - datasource: ${datasource}
      description: 'This panel describes the persistent volume usage in a time series. '
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            axisSoftMax: 5000
            axisSoftMin: 0
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: opacity
            hideFrom:
              graph: false
              legend: false
              tooltip: false
              viz: false
            lineInterpolation: linear
            lineStyle:
              fill: solid
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: true
            stacking:
              group: A
              mode: none
            thresholdsStyle:
              mode: "off"
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: decbytes
        overrides: []
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 84
      id: 153
      options:
        graph: {}
        legend:
          calcs:
          - max
          - lastNotNull
          displayMode: table
          placement: right
        tooltip:
          mode: single
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: '(kubelet_volume_stats_used_bytes + on(persistentvolumeclaim) group_left(pod)
          kube_pod_spec_volumes_persistentvolumeclaims_info{pod=~"$app-overseer-\\d+$|$app-coordinator-\\d+$|$app-data-\\d+$|$app-\\d+$",namespace=~"$namespace"}) '
        interval: ""
        intervalFactor: 1
        legendFormat: '{{pod}}'
        refId: A
      title: Persistent Volume Usage History
      type: timeseries
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 98
      id: 144
      panels: []
      title: Network Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Total bandwidth received.
      fieldConfig:
        defaults:
          unit: Bps
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 99
      hiddenSeries: false
      id: 132
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
        legend:
          calcs: []
          displayMode: list
          placement: bottom
        tooltip:
          mode: single
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: sum(irate(container_network_receive_bytes_total{namespace=~"$namespace",
          pod=~"$app-overseer-\\d+$|$app-coordinator-\\d+$|$app-data-\\d+$|$app-\\d+$"}[$__rate_interval]))
          by (pod)
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Receive Bandwidth
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:614
        format: Bps
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:615
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Total bandwidth transmitted.
      fieldConfig:
        defaults:
          unit: Bps
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 99
      hiddenSeries: false
      id: 134
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
        legend:
          calcs: []
          displayMode: list
          placement: bottom
        tooltip:
          mode: single
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: false
        expr: sum(irate(container_network_transmit_bytes_total{namespace=~"$namespace",
          pod=~"$app-overseer-\\d+$|$app-coordinator-\\d+$|$app-data-\\d+$|$app-\\d+$"}[$__rate_interval]))
          by (pod)
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Transmit Bandwidth
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - $$hashKey: object:859
        format: Bps
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - $$hashKey: object:860
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    refresh: 10s
    schemaVersion: 30
    style: dark
    tags:
    - db
    - stats
    - kubedb
    templating:
      list:
      - current:
          selected: false
          text: Prometheus
          value: Prometheus
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Datasource
        multi: false
        name: datasource
        options: []
        query: prometheus
        queryValue: ""
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: '".+"'
        current:
          selected: false
          text: demo
          value: demo
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Namespace
        multi: false
        name: namespace
        options: []
        query:
          query: label_values(kube_namespace_created,namespace)
          refId: Prometheus-namespace-Variable-Query
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text: mg4
          value: mg4
        datasource: ${datasource}
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Solr
        multi: false
        name: app
        options: []
        query:
          query: label_values(kubedb_com_solr_status_phase{namespace=~"$namespace"},app)
          refId: Prometheus-app-Variable-Query
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-6h
      to: now
    timepicker:
      refresh_intervals:
      - 5s
      - 10s
      - 30s
      - 1m
      - 5m
      - 15m
      - 30m
      - 1h
      - 2h
      - 1d
      time_options:
      - 5m
      - 15m
      - 1h
      - 6h
      - 12h
      - 24h
      - 2d
      - 7d
      - 30d
    timezone: ""
    title: KubeDB / Solr / Summary
    version: 10
  overwrite: true
  templatize:
    title: false
    datasource: false
---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-zookeeper-ensemble
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: ZooKeeper
    k8s.io/resource: zookeepers
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - builtIn: 1
        datasource: ${datasource}
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        type: dashboard
    editable: true
    gnetId: null
    graphTooltip: 0
    iteration: 1716984051277
    links: []
    panels:
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 0
      id: 14
      panels: []
      title: Overall
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 1
      hiddenSeries: false
      id: 224
      interval: ""
      legend:
        alignAsTable: false
        avg: false
        current: true
        hideEmpty: false
        max: true
        min: true
        rightSide: false
        show: false
        total: false
        values: true
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: znode_count{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        instant: false
        interval: ""
        intervalFactor: 2
        legendFormat: '{{instance}} znode_count'
        refId: A
      - expr: ephemerals_count{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        instant: false
        interval: ""
        intervalFactor: 2
        legendFormat: '{{instance}} ephemerals'
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: znode_count
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 1
      hiddenSeries: false
      id: 4
      interval: ""
      legend:
        alignAsTable: false
        avg: false
        current: true
        hideEmpty: false
        max: true
        min: true
        rightSide: false
        show: false
        total: false
        values: true
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(znode_count{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        instant: false
        interval: ""
        intervalFactor: 2
        legendFormat: '{{instance}} znode_count_rate'
        refId: A
      - expr: rate(ephemerals_count{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        instant: false
        interval: ""
        intervalFactor: 2
        legendFormat: '{{instance}} ephemerals_rate'
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: znode_count_rate
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: ops
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          displayName: ""
          mappings: []
          max: 100
          min: 0
          thresholds:
            mode: absolute
            steps:
            - color: green
              index: 0
              value: null
            - color: red
              index: 1
              value: 80
          unit: short
        overrides: []
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 9
      id: 48
      links: []
      options:
        displayMode: lcd
        orientation: horizontal
        reduceOptions:
          calcs:
          - last
          fields: ""
          values: false
        showUnfilled: true
        text: {}
      pluginVersion: 8.0.7
      targets:
      - expr: global_sessions{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        instant: false
        intervalFactor: 2
        legendFormat: '{{instance}}'
        refId: A
      timeFrom: null
      timeShift: null
      title: global_sessions
      type: bargauge
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          max: 100
          min: 0
          thresholds:
            mode: absolute
            steps:
            - color: green
              index: 0
              value: null
            - color: red
              index: 1
              value: 80
          unit: short
        overrides: []
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 9
      id: 52
      links: []
      options:
        displayMode: lcd
        orientation: horizontal
        reduceOptions:
          calcs:
          - last
          fields: ""
          values: false
        showUnfilled: true
        text: {}
      pluginVersion: 8.0.7
      targets:
      - expr: local_sessions{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}}'
        refId: A
      timeFrom: null
      timeShift: null
      title: 'local_sessions '
      type: bargauge
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 17
      hiddenSeries: false
      id: 168
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: write_per_namespace_sum{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} write_per_namespace:{{key}}'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: write_per_namespace
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 17
      hiddenSeries: false
      id: 200
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: read_per_namespace_sum{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        hide: false
        intervalFactor: 2
        legendFormat: '{{instance}} read_per_namespace:{{key}}'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: read_per_namespace
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 25
      hiddenSeries: false
      id: 132
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: approximate_data_size{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 1
        legendFormat: '{{instance}} approximate_data_size'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: approximate_data_size
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 25
      hiddenSeries: false
      id: 90
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: packets_received{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} packets_received'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: packets_received
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 16
        "y": 25
      hiddenSeries: false
      id: 56
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: packets_sent{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} packets_sent'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: packets_sent
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 33
      hiddenSeries: false
      id: 184
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: response_packet_cache_misses{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} response_packet_cache_misses'
        refId: A
      - expr: response_packet_cache_hits{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} response_packet_cache_hits'
        refId: B
      - expr: response_packet_get_children_cache_misses{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} response_packet_get_children_cache_misses'
        refId: C
      - expr: response_packet_get_children_cache_hits{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} response_packet_get_children_cache_hits'
        refId: D
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: response_packet_cache
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 33
      hiddenSeries: false
      id: 120
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: unrecoverable_error_count{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} unrecoverable_error_count'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: unrecoverable_error_count
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      cacheTimeout: null
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 16
        "y": 33
      hiddenSeries: false
      id: 235
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: digest_mismatches_count{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} digest_mismatches_count'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: digest_mismatches_count
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 41
      hiddenSeries: false
      id: 140
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: startup_snap_load_time
        format: time_series
        hide: true
        intervalFactor: 2
        legendFormat: '{{instance}} startup_snap_load_time-{{quantile}}'
        refId: A
      - expr: startup_snap_load_time_count
        format: time_series
        hide: true
        intervalFactor: 2
        legendFormat: '{{instance}} startup_snap_load_time_count'
        refId: B
      - expr: startup_snap_load_time_sum{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} startup_snap_load_time'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: startup_snap_load_time
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: ms
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 41
      hiddenSeries: false
      id: 192
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: startup_txns_loaded
        format: time_series
        hide: true
        intervalFactor: 2
        legendFormat: '{{instance}} startup_txns_loaded-{{quantile}}'
        refId: A
      - expr: startup_txns_loaded_count
        format: time_series
        hide: true
        intervalFactor: 2
        legendFormat: '{{instance}} startup_txns_loaded_count'
        refId: B
      - expr: startup_txns_loaded_sum{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} startup_txns_loaded'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: startup_txns_loaded
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: ms
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 16
        "y": 41
      hiddenSeries: false
      id: 210
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: dbinittime
        format: time_series
        hide: true
        intervalFactor: 2
        legendFormat: '{{instance}} dbinittime-{{quantile}}'
        refId: A
      - expr: dbinittime_count
        format: time_series
        hide: true
        intervalFactor: 2
        legendFormat: '{{instance}} dbinittime_count'
        refId: B
      - expr: dbinittime_sum{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} db_init_time'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: db_init_time
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: ms
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 49
      id: 82
      panels: []
      title: Quorum/Leader Election
      type: row
    - cacheTimeout: null
      colorBackground: true
      colorPostfix: false
      colorPrefix: false
      colorValue: false
      colors:
      - '#73BF69'
      - rgba(237, 129, 40, 0.89)
      - '#d44a3a'
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      format: short
      gauge:
        maxValue: 100
        minValue: 0
        show: false
        thresholdLabels: false
        thresholdMarkers: true
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 50
      id: 124
      interval: null
      links: []
      mappingType: 1
      mappingTypes:
      - name: value to text
        value: 1
      - name: range to text
        value: 2
      maxDataPoints: 100
      nullPointMode: connected
      nullText: null
      pluginVersion: 6.2.2
      postfix: ""
      postfixFontSize: 80%
      prefix: ""
      prefixFontSize: 80%
      rangeMaps:
      - from: "null"
        text: N/A
        to: "null"
      sparkline:
        fillColor: rgba(31, 118, 189, 0.18)
        full: false
        lineColor: rgb(31, 120, 193)
        show: false
      tableColumn: ""
      targets:
      - expr: max(quorum_size{namespace=~"$namespace",service=~"$app+-stats"})
        format: time_series
        intervalFactor: 2
        legendFormat: quorum_size
        refId: A
      thresholds: 50,80
      timeFrom: null
      timeShift: null
      title: quorum_size
      type: singlestat
      valueFontSize: 200%
      valueMaps:
      - op: =
        text: N/A
        value: "null"
      valueName: current
    - cacheTimeout: null
      colorBackground: true
      colorValue: false
      colors:
      - '#F2495C'
      - '#F2495C'
      - '#F2495C'
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      format: ms
      gauge:
        maxValue: 100
        minValue: 0
        show: false
        thresholdLabels: false
        thresholdMarkers: true
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 50
      id: 225
      interval: null
      links: []
      mappingType: 1
      mappingTypes:
      - $$hashKey: object:464
        name: value to text
        value: 1
      - $$hashKey: object:465
        name: range to text
        value: 2
      maxDataPoints: 100
      nullPointMode: connected
      nullText: null
      pluginVersion: 6.2.2
      postfix: ""
      postfixFontSize: 50%
      prefix: ""
      prefixFontSize: 50%
      rangeMaps:
      - from: "null"
        text: N/A
        to: "null"
      sparkline:
        fillColor: rgba(31, 118, 189, 0.18)
        full: false
        lineColor: rgb(31, 120, 193)
        show: false
      tableColumn: ""
      targets:
      - exemplar: true
        expr: leader_uptime{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: '{{instance}}'
        refId: A
      thresholds: ""
      timeFrom: null
      timeShift: null
      title: leader
      type: singlestat
      valueFontSize: 120%
      valueMaps:
      - $$hashKey: object:467
        op: =
        text: N/A
        value: "null"
      valueName: name
    - cacheTimeout: null
      colorBackground: true
      colorValue: false
      colors:
      - '#5794F2'
      - '#5794F2'
      - '#5794F2'
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      format: ms
      gauge:
        maxValue: 100
        minValue: 0
        show: false
        thresholdLabels: false
        thresholdMarkers: true
      gridPos:
        h: 8
        w: 8
        x: 16
        "y": 50
      id: 222
      interval: null
      links: []
      mappingType: 1
      mappingTypes:
      - $$hashKey: object:545
        name: value to text
        value: 1
      - $$hashKey: object:546
        name: range to text
        value: 2
      maxDataPoints: 100
      nullPointMode: connected
      nullText: null
      pluginVersion: 6.2.2
      postfix: ""
      postfixFontSize: 50%
      prefix: ""
      prefixFontSize: 50%
      rangeMaps:
      - from: "null"
        text: N/A
        to: "null"
      sparkline:
        fillColor: rgba(31, 118, 189, 0.18)
        full: false
        lineColor: rgb(31, 120, 193)
        show: false
      tableColumn: ""
      targets:
      - expr: leader_uptime{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 1
        legendFormat: '{{instance}} leader_uptime'
        refId: A
      thresholds: ""
      timeFrom: null
      timeShift: null
      title: leader_uptime
      type: singlestat
      valueFontSize: 120%
      valueMaps:
      - $$hashKey: object:548
        op: =
        text: N/A
        value: "null"
      valueName: current
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          max: 100
          min: 0
          thresholds:
            mode: absolute
            steps:
            - color: green
              index: 0
              value: null
            - color: red
              index: 1
              value: 80
        overrides: []
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 58
      id: 215
      links: []
      options:
        displayMode: lcd
        orientation: vertical
        reduceOptions:
          calcs:
          - last
          fields: ""
          values: false
        showUnfilled: true
        text: {}
      pluginVersion: 8.0.7
      targets:
      - expr: max(learners{namespace=~"$namespace",service=~"$app+-stats"})
        format: time_series
        intervalFactor: 2
        legendFormat: learners
        refId: B
      - expr: max(synced_non_voting_followers{namespace=~"$namespace",service=~"$app+-stats"})
        format: time_series
        intervalFactor: 2
        legendFormat: synced_non_voting_followers
        refId: C
      - expr: max(synced_observers{namespace=~"$namespace",service=~"$app+-stats"})
        format: time_series
        intervalFactor: 2
        legendFormat: synced_observers
        refId: D
      timeFrom: null
      timeShift: null
      title: learner/observer
      type: bargauge
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 6
        x: 0
        "y": 66
      hiddenSeries: false
      id: 148
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: commit_count{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} commit_count'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: commit_count
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 6
        x: 6
        "y": 66
      hiddenSeries: false
      id: 166
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: snap_count{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} snap_count'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: snap_count
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 6
        x: 12
        "y": 66
      hiddenSeries: false
      id: 186
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: diff_count{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} diff_count'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: diff_count
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 6
        x: 18
        "y": 66
      hiddenSeries: false
      id: 206
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: looking_count{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} looking_count'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: looking_count
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 74
      hiddenSeries: false
      id: 154
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: proposal_count{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} proposal_count'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: proposal_count
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 74
      hiddenSeries: false
      id: 214
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: last_proposal_size{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} last_proposal_size'
        refId: A
      - expr: max_proposal_size{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} max_proposal_size'
        refId: B
      - expr: min_proposal_size{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} min_proposal_size'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: proposal_size
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 16
        "y": 74
      hiddenSeries: false
      id: 202
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(follower_sync_time_sum{namespace=~"$namespace",service=~"$app+-stats"}[1m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} follower_sync_time'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: follower_sync_time
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 82
      hiddenSeries: false
      id: 217
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: learner_handler_qp_size_sum{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} learner_handler_qp_size_sum sid:{{key}}'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: learner_handler_qp_size
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 82
      hiddenSeries: false
      id: 208
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: quit_leading_due_to_disloyal_voter{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} quit_leading_due_to_disloyal_voter'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: quit_leading_due_to_disloyal_voter
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 16
        "y": 82
      hiddenSeries: false
      id: 219
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(om_commit_process_time_ms_sum{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} om_commit_process_time'
        refId: C
      - expr: rate(om_proposal_process_time_ms_sum{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} om_proposal_process_time'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Observer Master
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 90
      id: 36
      panels: []
      title: Session/Watch
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 91
      hiddenSeries: false
      id: 212
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: watch_count{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} watch_count'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: watch_count
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 91
      hiddenSeries: false
      id: 178
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: node_changed_watch_count_sum{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} node_changed_watch_count'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: node_changed_watch_count
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 16
        "y": 91
      hiddenSeries: false
      id: 174
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: node_children_watch_count_sum{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} node_children_watch_count'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: node_children_watch_count
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 99
      hiddenSeries: false
      id: 150
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: node_deleted_watch_count_sum{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} node_deleted_watch_count'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: node_deleted_watch_count
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 99
      hiddenSeries: false
      id: 96
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: node_created_watch_count_sum{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} node_created_watch_count'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: node_created_watch_count
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 16
        "y": 99
      hiddenSeries: false
      id: 223
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: revalidate_count{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} revalidate_count'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: revalidate_count
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 107
      hiddenSeries: false
      id: 46
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: stale_sessions_expired{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 1
        legendFormat: '{{instance}} stale_sessions_expired'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: stale_sessions_expired
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 107
      hiddenSeries: false
      id: 194
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: dead_watchers_cleared{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} dead_watchers_cleared'
        refId: A
      - expr: dead_watchers_queued{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} dead_watchers_queued'
        refId: B
      - expr: rate(dead_watchers_cleaner_latency_sum{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} dead_watchers_cleaner_latency'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: dead_watchers
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 16
        "y": 107
      hiddenSeries: false
      id: 62
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: add_dead_watcher_stall_time{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} add_dead_watcher_stall_time'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: add_dead_watcher_stall_time
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: ms
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 115
      id: 102
      panels: []
      title: Client/Connection
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 116
      hiddenSeries: false
      id: 66
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: outstanding_requests{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} outstanding_requests'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: outstanding_requests
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 116
      hiddenSeries: false
      id: 104
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: last_client_response_size{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} last_client_response_size'
        refId: A
      - expr: min_client_response_size{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} min_client_response_size'
        refId: B
      - expr: max_client_response_size{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} max_client_response_size'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: client_response_size
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 16
        "y": 116
      hiddenSeries: false
      id: 146
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: bytes_received_count{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} bytes_received_count'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: bytes_received_count
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 124
      hiddenSeries: false
      id: 176
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: connection_request_count{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} connection_request_count'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: connection_request_count
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 124
      hiddenSeries: false
      id: 190
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: num_alive_connections{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 1
        legendFormat: '{{instance}} num_alive_connections'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: num_alive_connections
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 16
        "y": 124
      hiddenSeries: false
      id: 86
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: connection_rejected{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} connection_rejected'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: connection_rejected
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 132
      hiddenSeries: false
      id: 128
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: connection_drop_count{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} connection_drop_count'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: connection_drop_count
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 0
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 132
      hiddenSeries: false
      id: 60
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: connection_drop_probability{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} connection_drop_probability'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: connection_drop_probability
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 16
        "y": 132
      hiddenSeries: false
      id: 54
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: sessionless_connections_expired{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} sessionless_connections_expired'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: sessionless_connections_expired
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 140
      hiddenSeries: false
      id: 180
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(connection_token_deficit_sum{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} connection_token_deficit'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: connection_token_deficit
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 148
      id: 112
      panels: []
      title: Disk/Snapshot
      type: row
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          max: 1024
          min: 0
          thresholds:
            mode: absolute
            steps:
            - color: green
              index: 0
              value: null
            - color: red
              index: 1
              value: 800
          unit: short
        overrides: []
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 149
      id: 122
      links: []
      options:
        orientation: horizontal
        reduceOptions:
          calcs:
          - last
          fields: ""
          values: false
        showThresholdLabels: false
        showThresholdMarkers: true
        text: {}
      pluginVersion: 8.0.7
      targets:
      - expr: open_file_descriptor_count{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}}'
        refId: A
      timeFrom: null
      timeShift: null
      title: open_file_descriptor
      type: gauge
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 157
      hiddenSeries: false
      id: 114
      legend:
        alignAsTable: true
        avg: false
        current: true
        max: true
        min: true
        rightSide: true
        show: true
        sideWidth: null
        total: false
        values: true
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: fsynctime{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        hide: true
        intervalFactor: 2
        legendFormat: '{{instance}} fsynctime'
        refId: A
      - expr: fsynctime_count{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        hide: true
        interval: ""
        intervalFactor: 2
        legendFormat: '{{instance}} fsynctime_count'
        refId: B
      - expr: fsynctime_sum{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        hide: true
        intervalFactor: 2
        legendFormat: '{{instance}} fsynctime_sum(ms)'
        refId: C
      - expr: fsynctime_sum * 1000 /fsynctime_count{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        hide: false
        intervalFactor: 2
        legendFormat: '{{instance}} fsynctime_avg(μs)'
        refId: D
      - expr: irate(fsynctime_sum{namespace=~"$namespace",service=~"$app+-stats"}[1m])
        format: time_series
        hide: false
        intervalFactor: 2
        legendFormat: '{{instance}} fsynctime_rate'
        refId: E
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: fsync_time
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - decimals: null
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - decimals: null
        format: short
        label: ""
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: 10
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 165
      hiddenSeries: false
      id: 88
      legend:
        alignAsTable: true
        avg: false
        current: true
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(snapshottime_sum{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        hide: false
        intervalFactor: 2
        legendFormat: '{{instance}} snapshot_time_rate'
        refId: C
      - expr: snapshottime_count{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        hide: true
        intervalFactor: 2
        legendFormat: '{{instance}} snapshottime_count'
        refId: A
      - expr: snapshottime_sum / snapshottime_count{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        hide: true
        intervalFactor: 2
        legendFormat: '{{instance}} snapshottime_avg(ms)'
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: snapshot_time
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 173
      id: 136
      panels: []
      title: Prep_Processor
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 174
      hiddenSeries: false
      id: 158
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(prep_process_time_sum{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        intervalFactor: 1
        legendFormat: '{{instance}} prep_process_time'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: prep_process_time
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 174
      hiddenSeries: false
      id: 138
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(prep_processor_queue_time_ms_sum{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        intervalFactor: 1
        legendFormat: '{{instance}} prep_processor_queue_time_ms'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: prep_processor_queue_time
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: ms
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 16
        "y": 174
      hiddenSeries: false
      id: 156
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(prep_processor_queue_size_sum{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} prep_processor_queue_size'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: prep_processor_queue_size
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 182
      hiddenSeries: false
      id: 160
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: prep_processor_request_queued{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} prep_processor_request_queued'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: prep_processor_request_queued
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 182
      hiddenSeries: false
      id: 92
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: outstanding_changes_queued{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} outstanding_changes_queued'
        refId: A
      - expr: outstanding_changes_removed{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} outstanding_changes_removed'
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: outstanding_changes_queued
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 16
        "y": 182
      hiddenSeries: false
      id: 32
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(close_session_prep_time_sum{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} close_session_prep_time'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: close_session_prep_time
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 190
      id: 2
      panels: []
      repeat: null
      title: Sync_Processor
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 191
      hiddenSeries: false
      id: 142
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(sync_process_time_sum{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} sync_process_time'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: sync_process_time
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 191
      hiddenSeries: false
      id: 18
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(sync_processor_queue_flush_time_ms_sum{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} sync_processor_queue_flush_time'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: sync_processor_queue_flush_time
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 16
        "y": 191
      hiddenSeries: false
      id: 26
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(sync_processor_queue_size_sum{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} sync_processor_queue_size'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: sync_processor_queue_size
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 0
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 199
      hiddenSeries: false
      id: 16
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: sync_processor_request_queued{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} sync_processor_request_queued'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: sync_processor_request_queued
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 199
      hiddenSeries: false
      id: 24
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(sync_processor_batch_size_sum{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} sync_processor_batch_size'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: sync_processor_batch_size
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 207
      id: 108
      panels: []
      title: Commit_Processor
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 208
      hiddenSeries: false
      id: 118
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(commit_process_time_sum{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} commit_process_time'
        refId: C
      - expr: rate(read_commitproc_time_ms_sum{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} read_commitproc_time'
        refId: A
      - expr: rate(write_commitproc_time_ms_sum{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} write_commitproc_time'
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: commit_process_time
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 208
      hiddenSeries: false
      id: 72
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(write_commit_proc_req_queued_sum{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} write_commit_proc_req_queued'
        refId: C
      - expr: rate(read_commit_proc_req_queued_sum{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} read_commit_proc_req_queued'
        refId: A
      - expr: rate(commit_commit_proc_req_queued_sum{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} commit_commit_proc_req_queued'
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: commit_proc_req_queued
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 16
        "y": 208
      hiddenSeries: false
      id: 44
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(requests_in_session_queue_sum{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} requests_in_session_queue'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: requests_in_session_queue
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 216
      hiddenSeries: false
      id: 58
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(read_commit_proc_issued_sum{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} read_commit_proc_issued'
        refId: C
      - expr: rate(write_commit_proc_issued_sum{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} write_commit_proc_issued'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: commit_proc_issued
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 216
      hiddenSeries: false
      id: 164
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(concurrent_request_processing_in_commit_processor_sum{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} concurrent_request_processing_in_commit_processor'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: concurrent_request_processing_in_commit_processor
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 16
        "y": 216
      hiddenSeries: false
      id: 188
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(time_waiting_empty_pool_in_commit_processor_read_ms_sum{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        hide: false
        intervalFactor: 2
        legendFormat: '{{instance}} time_waiting_empty_pool_in_commit_processor_read'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: time_waiting_empty_pool_in_commit_processor_read
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 224
      hiddenSeries: false
      id: 30
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(pending_session_queue_size_sum{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} pending_session_queue_size'
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: pending_session_queue_size
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 224
      hiddenSeries: false
      id: 94
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(local_write_committed_time_ms_sum{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} local_write_committed_time_ms'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: local_write_committed_time
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 16
        "y": 224
      hiddenSeries: false
      id: 74
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(server_write_committed_time_ms_sum{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} server_write_committed_time'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: server_write_committed_time
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 232
      hiddenSeries: false
      id: 106
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(write_batch_time_in_commit_processor_sum{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        hide: false
        intervalFactor: 2
        legendFormat: '{{instance}} write_batch_time_in_commit_processor'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: write_batch_time_in_commit_processor
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 232
      hiddenSeries: false
      id: 34
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(reads_after_write_in_session_queue_sum{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        intervalFactor: 1
        legendFormat: '{{instance}} reads_after_write_in_session_queue'
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: reads_after_write_in_session_queue
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 16
        "y": 232
      hiddenSeries: false
      id: 50
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(session_queues_drained_sum{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} session_queues_drained'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: session_queues_drained
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 240
      hiddenSeries: false
      id: 38
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(reads_issued_from_session_queue_sum{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} reads_issued_from_session_queue'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: reads_issued_from_session_queue
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 240
      hiddenSeries: false
      id: 152
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: request_commit_queued{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 1
        legendFormat: '{{instance}} request_commit_queued'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: request_commit_queued
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 248
      id: 170
      panels: []
      title: Final_Processor
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 249
      hiddenSeries: false
      id: 172
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(write_final_proc_time_ms_sum{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} write_final_proc_time_ms'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: write_final_proc_time_ms
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 249
      hiddenSeries: false
      id: 228
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(read_final_proc_time_ms_sum{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} read_final_proc_time_ms'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: read_final_proc_time_ms
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 257
      id: 80
      panels: []
      title: Latency
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 258
      hiddenSeries: false
      id: 198
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(readlatency_sum{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} readlatency'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: read_latency
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 258
      hiddenSeries: false
      id: 78
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides:
      - {}
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(updatelatency_sum{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} updatelatency'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: update_latency
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: null
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 266
      hiddenSeries: false
      id: 100
      interval: ""
      legend:
        avg: true
        current: true
        max: true
        min: true
        show: false
        total: true
        values: true
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: max_latency{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} max_latency'
        refId: A
      - expr: min_latency{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{instance}} min_latency'
        refId: B
      - expr: avg_latency{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} avg_latency'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: max_min_avg_latency
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: ms
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 266
      hiddenSeries: false
      id: 134
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(proposal_latency_sum{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} proposal_latency'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: proposal_latency
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 274
      hiddenSeries: false
      id: 162
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(quorum_ack_latency_sum{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} quorum_ack_latency'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: quorum_ack_latency
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 274
      hiddenSeries: false
      id: 42
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: proposal_ack_creation_latency{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} proposal_ack_creation_latency-{{quantile}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: proposal_ack_creation_latency
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: ms
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 282
      hiddenSeries: false
      id: 196
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(propagation_latency_sum{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} propagation_latency'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: propagation_latency
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 282
      hiddenSeries: false
      id: 182
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(commit_propagation_latency_sum{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} commit_propagation_latency'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: commit_propagation_latency
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 290
      id: 238
      panels: []
      title: Security
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 291
      hiddenSeries: false
      id: 236
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: tls_handshake_exceeded{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} tls_handshake_exceeded'
        refId: C
      - expr: outstanding_tls_handshake{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} outstanding_tls_handshake'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: tls_handshake
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 291
      hiddenSeries: false
      id: 64
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: ensemble_auth_fail{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} ensemble_auth_fail'
        refId: A
      - expr: ensemble_auth_success{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} ensemble_auth_success'
        refId: B
      - expr: ensemble_auth_skip{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} ensemble_auth_skip'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: ensemble_auth
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 299
      id: 227
      panels: []
      title: JVM
      type: row
    - cacheTimeout: null
      colorBackground: true
      colorValue: false
      colors:
      - '#37872D'
      - '#37872D'
      - '#37872D'
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      format: none
      gauge:
        maxValue: 100
        minValue: 0
        show: false
        thresholdLabels: false
        thresholdMarkers: true
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 300
      id: 204
      interval: null
      links: []
      mappingType: 1
      mappingTypes:
      - name: value to text
        value: 1
      - name: range to text
        value: 2
      maxDataPoints: 100
      nullPointMode: connected
      nullText: null
      postfix: ""
      postfixFontSize: 50%
      prefix: ""
      prefixFontSize: 50%
      rangeMaps:
      - from: "null"
        text: N/A
        to: "null"
      sparkline:
        fillColor: rgba(31, 118, 189, 0.18)
        full: false
        lineColor: rgb(31, 120, 193)
        show: false
      tableColumn: ""
      targets:
      - expr: max(jvm_classes_loaded{namespace=~"$namespace",service=~"$app+-stats"})
        format: time_series
        intervalFactor: 1
        legendFormat: ""
        refId: C
      thresholds: ""
      timeFrom: null
      timeShift: null
      title: jvm_classes_loaded
      type: singlestat
      valueFontSize: 80%
      valueMaps:
      - op: =
        text: N/A
        value: "null"
      valueName: current
    - cacheTimeout: null
      colorBackground: true
      colorValue: false
      colors:
      - '#1F60C4'
      - '#1F60C4'
      - '#1F60C4'
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      format: short
      gauge:
        maxValue: 100
        minValue: 0
        show: false
        thresholdLabels: false
        thresholdMarkers: true
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 300
      id: 229
      interval: null
      links: []
      mappingType: 1
      mappingTypes:
      - name: value to text
        value: 1
      - name: range to text
        value: 2
      maxDataPoints: 100
      nullPointMode: connected
      nullText: null
      postfix: ""
      postfixFontSize: 50%
      prefix: ""
      prefixFontSize: 50%
      rangeMaps:
      - from: "null"
        text: N/A
        to: "null"
      sparkline:
        fillColor: rgba(31, 118, 189, 0.18)
        full: false
        lineColor: rgb(31, 120, 193)
        show: false
      tableColumn: ""
      targets:
      - expr: max(jvm_threads_current{namespace=~"$namespace",service=~"$app+-stats"})
        format: time_series
        intervalFactor: 1
        legendFormat: ""
        refId: C
      thresholds: ""
      timeFrom: null
      timeShift: null
      title: jvm_threads_current
      type: singlestat
      valueFontSize: 80%
      valueMaps:
      - op: =
        text: N/A
        value: "null"
      valueName: current
    - cacheTimeout: null
      colorBackground: true
      colorValue: false
      colors:
      - '#E0B400'
      - '#E0B400'
      - '#E0B400'
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      format: short
      gauge:
        maxValue: 100
        minValue: 0
        show: false
        thresholdLabels: false
        thresholdMarkers: true
      gridPos:
        h: 8
        w: 8
        x: 16
        "y": 300
      id: 230
      interval: null
      links: []
      mappingType: 1
      mappingTypes:
      - name: value to text
        value: 1
      - name: range to text
        value: 2
      maxDataPoints: 100
      nullPointMode: connected
      nullText: null
      postfix: ""
      postfixFontSize: 50%
      prefix: ""
      prefixFontSize: 50%
      rangeMaps:
      - from: "null"
        text: N/A
        to: "null"
      sparkline:
        fillColor: rgba(31, 118, 189, 0.18)
        full: false
        lineColor: rgb(31, 120, 193)
        show: false
      tableColumn: ""
      targets:
      - expr: max(jvm_threads_deadlocked{namespace=~"$namespace",service=~"$app+-stats"})
        format: time_series
        intervalFactor: 1
        legendFormat: ""
        refId: C
      thresholds: ""
      timeFrom: null
      timeShift: null
      title: jvm_threads_deadlocked
      type: singlestat
      valueFontSize: 80%
      valueMaps:
      - op: =
        text: N/A
        value: "null"
      valueName: current
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 308
      hiddenSeries: false
      id: 231
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(jvm_pause_time_ms_sum{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} jvm_pause_time_ms'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: jvm_pause_time_ms
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 308
      hiddenSeries: false
      id: 232
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(jvm_gc_collection_seconds_sum{namespace=~"$namespace",service=~"$app+-stats"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} gc:{{gc}}'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: jvm_gc_collection_seconds
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 16
        "y": 308
      hiddenSeries: false
      id: 233
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: jvm_threads_state{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} state:{{state}}'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: jvm_threads_state
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 316
      hiddenSeries: false
      id: 234
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: jvm_memory_pool_bytes_used{namespace=~"$namespace",service=~"$app+-stats"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} pool:{{pool}}'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: jvm_memory_pool_bytes_used
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    refresh: 10s
    schemaVersion: 27
    style: dark
    tags: []
    templating:
      list:
      - current:
          selected: false
          text: Prometheus
          value: Prometheus
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Datasource
        multi: false
        name: datasource
        options: []
        query: prometheus
        queryValue: ""
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: null
        current:
          selected: false
          text: demo
          value: demo
        datasource: ${datasource}
        definition: label_values(kube_namespace_created,namespace)
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Namespace
        multi: false
        name: namespace
        options: []
        query:
          query: label_values(kube_namespace_created,namespace)
          refId: Prometheus-namespace-Variable-Query
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text: zk-cluster
          value: zk-cluster
        datasource: ${datasource}
        definition: label_values(kubedb_com_zookeeper_status_phase{namespace=~"$namespace"},app)
        description: ""
        error: null
        hide: 0
        includeAll: false
        label: ZooKeeper
        multi: false
        name: app
        options: []
        query:
          query: label_values(kubedb_com_zookeeper_status_phase{namespace=~"$namespace"},app)
          refId: Prometheus-app-Variable-Query
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-6h
      to: now
    timepicker:
      refresh_intervals:
      - 5s
      - 10s
      - 30s
      - 1m
      - 5m
      - 15m
      - 30m
      - 1h
      - 2h
      - 1d
    timezone: ""
    title: KubeDB / ZooKeeper / Ensemble
    version: 5
  overwrite: true
  templatize:
    title: false
    datasource: false
---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-zookeeper-pod
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: ZooKeeper
    k8s.io/resource: zookeepers
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - builtIn: 1
        datasource: ${datasource}
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        type: dashboard
    editable: true
    gnetId: null
    graphTooltip: 0
    iteration: 1708073172472
    links: []
    panels:
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 0
      id: 14
      panels: []
      title: Overall
      type: row
    - cacheTimeout: null
      datasource: ${datasource}
      description: ""
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          decimals: 1
          mappings:
          - options:
              "0":
                color: yellow
                index: 1
                text: Down
              "1":
                index: 2
                text: Running
            text: Running
            type: 1
            value: "1"
          - from: ""
            id: null
            text: ""
            to: ""
            type: 1
          max: 100
          min: 0
          thresholds:
            mode: absolute
            steps:
            - color: rgba(50, 172, 45, 0.97)
              value: null
          unit: string
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 0
        "y": 1
      hideTimeOverride: true
      id: 240
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: value
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: up{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        metric: ""
        refId: A
        step: 2
      timeFrom: 1m
      timeShift: null
      title: Status
      type: stat
    - cacheTimeout: null
      datasource: null
      description: Role of ZooKeeper Node
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: dark-red
              value: null
            - color: green
              value: 0
          unit: ms
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 4
        "y": 1
      id: 23763571992
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: background
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - mean
          fields: ""
          values: false
        text: {}
        textMode: name
      pluginVersion: 8.0.7
      targets:
      - exemplar: false
        expr: leader_uptime{namespace=~"$namespace",pod=~"$pod"}
        format: heatmap
        interval: ""
        intervalFactor: 1
        legendFormat: "Yes"
        refId: A
      timeFrom: null
      timeShift: null
      title: Is Leader ?
      type: stat
    - cacheTimeout: null
      datasource: null
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings:
          - options:
              match: "null"
              result:
                text: N/A
            type: special
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: ms
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 8
        "y": 1
      id: 23763571993
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: background
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: uptime{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: '{{instance}} leader_uptime'
        refId: A
      timeFrom: null
      timeShift: null
      title: Uptime
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            fixedColor: light-blue
            mode: fixed
          decimals: 0
          mappings:
          - options:
              "0":
                index: 1
                text: N/A
            type: value
          - options:
              match: "null"
              result:
                index: 0
                text: N/A
            type: special
          min: -2
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: string
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 12
        "y": 1
      hideTimeOverride: true
      id: 246
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: none
        justifyMode: center
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: snap_count{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        metric: ""
        refId: A
        step: 2
      timeFrom: 1m
      timeShift: null
      title: Snap Count
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            fixedColor: light-blue
            mode: fixed
          decimals: 0
          mappings:
          - options:
              "0":
                index: 1
                text: N/A
            type: value
          - options:
              match: "null"
              result:
                index: 0
                text: N/A
            type: special
          min: -2
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: string
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 16
        "y": 1
      hideTimeOverride: true
      id: 248
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: none
        justifyMode: center
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: commit_count{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        metric: ""
        refId: A
        step: 2
      timeFrom: 1m
      timeShift: null
      title: Commit Count
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            fixedColor: light-blue
            mode: fixed
          decimals: 0
          mappings:
          - options:
              "0":
                index: 1
                text: N/A
            type: value
          - options:
              match: "null"
              result:
                index: 0
                text: N/A
            type: special
          min: -2
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: string
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 20
        "y": 1
      hideTimeOverride: true
      id: 250
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: none
        justifyMode: center
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: looking_count{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        metric: ""
        refId: A
        step: 2
      timeFrom: 1m
      timeShift: null
      title: Looking Count
      type: stat
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 4
      hiddenSeries: false
      id: 224
      interval: ""
      legend:
        alignAsTable: false
        avg: false
        current: true
        hideEmpty: false
        max: true
        min: true
        rightSide: false
        show: false
        total: false
        values: true
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: znode_count{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        instant: false
        interval: ""
        intervalFactor: 2
        legendFormat: '{{instance}} znode_count'
        refId: A
      - expr: ephemerals_count{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        instant: false
        interval: ""
        intervalFactor: 2
        legendFormat: '{{instance}} ephemerals'
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: znode_count
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 4
      hiddenSeries: false
      id: 4
      interval: ""
      legend:
        alignAsTable: false
        avg: false
        current: true
        hideEmpty: false
        max: true
        min: true
        rightSide: false
        show: false
        total: false
        values: true
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(znode_count{namespace=~"$namespace",pod=~"$pod"}[5m])
        format: time_series
        instant: false
        interval: ""
        intervalFactor: 2
        legendFormat: '{{instance}} znode_count_rate'
        refId: A
      - expr: rate(ephemerals_count{namespace=~"$namespace",pod=~"$pod"}[5m])
        format: time_series
        instant: false
        interval: ""
        intervalFactor: 2
        legendFormat: '{{instance}} ephemerals_rate'
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: znode_count_rate
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: ops
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          displayName: ""
          mappings: []
          max: 100
          min: 0
          thresholds:
            mode: absolute
            steps:
            - color: green
              index: 0
              value: null
            - color: red
              index: 1
              value: 80
          unit: short
        overrides: []
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 12
      id: 48
      links: []
      options:
        displayMode: lcd
        orientation: horizontal
        reduceOptions:
          calcs:
          - last
          fields: ""
          values: false
        showUnfilled: true
        text: {}
      pluginVersion: 8.0.7
      targets:
      - expr: global_sessions{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        instant: false
        intervalFactor: 2
        legendFormat: '{{instance}}'
        refId: A
      timeFrom: null
      timeShift: null
      title: global_sessions
      type: bargauge
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          max: 100
          min: 0
          thresholds:
            mode: absolute
            steps:
            - color: green
              index: 0
              value: null
            - color: red
              index: 1
              value: 80
          unit: short
        overrides: []
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 12
      id: 52
      links: []
      options:
        displayMode: lcd
        orientation: horizontal
        reduceOptions:
          calcs:
          - last
          fields: ""
          values: false
        showUnfilled: true
        text: {}
      pluginVersion: 8.0.7
      targets:
      - expr: local_sessions{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}}'
        refId: A
      timeFrom: null
      timeShift: null
      title: 'local_sessions '
      type: bargauge
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 20
      hiddenSeries: false
      id: 168
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: write_per_namespace_sum{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} write_per_namespace:{{key}}'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: write_per_namespace
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 20
      hiddenSeries: false
      id: 200
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: read_per_namespace_sum{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        hide: false
        intervalFactor: 2
        legendFormat: '{{instance}} read_per_namespace:{{key}}'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: read_per_namespace
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 28
      hiddenSeries: false
      id: 132
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: approximate_data_size{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 1
        legendFormat: '{{instance}} approximate_data_size'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: approximate_data_size
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 28
      hiddenSeries: false
      id: 90
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: packets_received{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} packets_received'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: packets_received
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 16
        "y": 28
      hiddenSeries: false
      id: 56
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: packets_sent{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} packets_sent'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: packets_sent
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 36
      hiddenSeries: false
      id: 184
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: response_packet_cache_misses{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} response_packet_cache_misses'
        refId: A
      - expr: response_packet_cache_hits{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} response_packet_cache_hits'
        refId: B
      - expr: response_packet_get_children_cache_misses{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} response_packet_get_children_cache_misses'
        refId: C
      - expr: response_packet_get_children_cache_hits{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} response_packet_get_children_cache_hits'
        refId: D
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: response_packet_cache
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 36
      hiddenSeries: false
      id: 120
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: unrecoverable_error_count{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} unrecoverable_error_count'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: unrecoverable_error_count
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      cacheTimeout: null
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 16
        "y": 36
      hiddenSeries: false
      id: 235
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: digest_mismatches_count{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} digest_mismatches_count'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: digest_mismatches_count
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 44
      hiddenSeries: false
      id: 140
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: startup_snap_load_time
        format: time_series
        hide: true
        intervalFactor: 2
        legendFormat: '{{instance}} startup_snap_load_time-{{quantile}}'
        refId: A
      - expr: startup_snap_load_time_count
        format: time_series
        hide: true
        intervalFactor: 2
        legendFormat: '{{instance}} startup_snap_load_time_count'
        refId: B
      - expr: startup_snap_load_time_sum{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} startup_snap_load_time'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: startup_snap_load_time
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: ms
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 44
      hiddenSeries: false
      id: 192
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: startup_txns_loaded
        format: time_series
        hide: true
        intervalFactor: 2
        legendFormat: '{{instance}} startup_txns_loaded-{{quantile}}'
        refId: A
      - expr: startup_txns_loaded_count
        format: time_series
        hide: true
        intervalFactor: 2
        legendFormat: '{{instance}} startup_txns_loaded_count'
        refId: B
      - expr: startup_txns_loaded_sum{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} startup_txns_loaded'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: startup_txns_loaded
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: ms
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 16
        "y": 44
      hiddenSeries: false
      id: 210
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: dbinittime
        format: time_series
        hide: true
        intervalFactor: 2
        legendFormat: '{{instance}} dbinittime-{{quantile}}'
        refId: A
      - expr: dbinittime_count
        format: time_series
        hide: true
        intervalFactor: 2
        legendFormat: '{{instance}} dbinittime_count'
        refId: B
      - expr: dbinittime_sum{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} db_init_time'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: db_init_time
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: ms
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 52
      id: 82
      panels: []
      title: Quorum/Leader Election
      type: row
    - cacheTimeout: null
      colorBackground: true
      colorPostfix: false
      colorPrefix: false
      colorValue: false
      colors:
      - '#73BF69'
      - rgba(237, 129, 40, 0.89)
      - '#d44a3a'
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      format: short
      gauge:
        maxValue: 100
        minValue: 0
        show: false
        thresholdLabels: false
        thresholdMarkers: true
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 53
      id: 124
      interval: null
      links: []
      mappingType: 1
      mappingTypes:
      - name: value to text
        value: 1
      - name: range to text
        value: 2
      maxDataPoints: 100
      nullPointMode: connected
      nullText: null
      pluginVersion: 8.0.7
      postfix: ""
      postfixFontSize: 80%
      prefix: ""
      prefixFontSize: 80%
      rangeMaps:
      - from: "null"
        text: N/A
        to: "null"
      sparkline:
        fillColor: rgba(31, 118, 189, 0.18)
        full: false
        lineColor: rgb(31, 120, 193)
        show: false
      tableColumn: ""
      targets:
      - expr: max(quorum_size{namespace=~"$namespace",pod=~"$pod"})
        format: time_series
        intervalFactor: 2
        legendFormat: quorum_size
        refId: A
      thresholds: 50,80
      timeFrom: null
      timeShift: null
      title: quorum_size
      type: singlestat
      valueFontSize: 200%
      valueMaps:
      - op: =
        text: N/A
        value: "null"
      valueName: current
    - cacheTimeout: null
      colorBackground: true
      colorValue: false
      colors:
      - '#F2495C'
      - '#F2495C'
      - '#F2495C'
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      format: ms
      gauge:
        maxValue: 100
        minValue: 0
        show: false
        thresholdLabels: false
        thresholdMarkers: true
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 53
      id: 225
      interval: null
      links: []
      mappingType: 1
      mappingTypes:
      - $$hashKey: object:464
        name: value to text
        value: 1
      - $$hashKey: object:465
        name: range to text
        value: 2
      maxDataPoints: 100
      nullPointMode: connected
      nullText: null
      pluginVersion: 8.0.7
      postfix: ""
      postfixFontSize: 50%
      prefix: ""
      prefixFontSize: 50%
      rangeMaps:
      - from: "null"
        text: N/A
        to: "null"
      sparkline:
        fillColor: rgba(31, 118, 189, 0.18)
        full: false
        lineColor: rgb(31, 120, 193)
        show: false
      tableColumn: ""
      targets:
      - exemplar: true
        expr: leader_uptime{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        interval: ""
        intervalFactor: 1
        legendFormat: '{{instance}}'
        refId: A
      thresholds: ""
      timeFrom: null
      timeShift: null
      title: leader
      type: singlestat
      valueFontSize: 120%
      valueMaps:
      - $$hashKey: object:467
        op: =
        text: N/A
        value: "null"
      valueName: name
    - cacheTimeout: null
      colorBackground: true
      colorValue: false
      colors:
      - '#5794F2'
      - '#5794F2'
      - '#5794F2'
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      format: ms
      gauge:
        maxValue: 100
        minValue: 0
        show: false
        thresholdLabels: false
        thresholdMarkers: true
      gridPos:
        h: 8
        w: 8
        x: 16
        "y": 53
      id: 222
      interval: null
      links: []
      mappingType: 1
      mappingTypes:
      - $$hashKey: object:545
        name: value to text
        value: 1
      - $$hashKey: object:546
        name: range to text
        value: 2
      maxDataPoints: 100
      nullPointMode: connected
      nullText: null
      pluginVersion: 8.0.7
      postfix: ""
      postfixFontSize: 50%
      prefix: ""
      prefixFontSize: 50%
      rangeMaps:
      - from: "null"
        text: N/A
        to: "null"
      sparkline:
        fillColor: rgba(31, 118, 189, 0.18)
        full: false
        lineColor: rgb(31, 120, 193)
        show: false
      tableColumn: ""
      targets:
      - expr: leader_uptime{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 1
        legendFormat: '{{instance}} leader_uptime'
        refId: A
      thresholds: ""
      timeFrom: null
      timeShift: null
      title: leader_uptime
      type: singlestat
      valueFontSize: 120%
      valueMaps:
      - $$hashKey: object:548
        op: =
        text: N/A
        value: "null"
      valueName: current
    - cacheTimeout: null
      datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          max: 100
          min: 0
          thresholds:
            mode: absolute
            steps:
            - color: green
              index: 0
              value: null
            - color: red
              index: 1
              value: 80
        overrides: []
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 61
      id: 215
      links: []
      options:
        displayMode: lcd
        orientation: vertical
        reduceOptions:
          calcs:
          - last
          fields: ""
          values: false
        showUnfilled: true
        text: {}
      pluginVersion: 8.0.7
      targets:
      - expr: max(learners{namespace=~"$namespace",pod=~"$pod"})
        format: time_series
        intervalFactor: 2
        legendFormat: learners
        refId: B
      - expr: max(synced_non_voting_followers{namespace=~"$namespace",pod=~"$pod"})
        format: time_series
        intervalFactor: 2
        legendFormat: synced_non_voting_followers
        refId: C
      - expr: max(synced_observers{namespace=~"$namespace",pod=~"$pod"})
        format: time_series
        intervalFactor: 2
        legendFormat: synced_observers
        refId: D
      timeFrom: null
      timeShift: null
      title: learner/observer
      type: bargauge
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 6
        x: 0
        "y": 69
      hiddenSeries: false
      id: 148
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: commit_count{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} commit_count'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: commit_count
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 6
        x: 6
        "y": 69
      hiddenSeries: false
      id: 166
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: snap_count{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} snap_count'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: snap_count
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 6
        x: 12
        "y": 69
      hiddenSeries: false
      id: 186
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: diff_count{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} diff_count'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: diff_count
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 6
        x: 18
        "y": 69
      hiddenSeries: false
      id: 206
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: looking_count{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} looking_count'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: looking_count
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 77
      hiddenSeries: false
      id: 154
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: proposal_count{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} proposal_count'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: proposal_count
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 77
      hiddenSeries: false
      id: 214
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: last_proposal_size{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} last_proposal_size'
        refId: A
      - expr: max_proposal_size{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} max_proposal_size'
        refId: B
      - expr: min_proposal_size{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} min_proposal_size'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: proposal_size
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 16
        "y": 77
      hiddenSeries: false
      id: 202
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(follower_sync_time_sum{namespace=~"$namespace",pod=~"$pod"}[1m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} follower_sync_time'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: follower_sync_time
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 85
      hiddenSeries: false
      id: 217
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: learner_handler_qp_size_sum{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} learner_handler_qp_size_sum sid:{{key}}'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: learner_handler_qp_size
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 85
      hiddenSeries: false
      id: 208
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: quit_leading_due_to_disloyal_voter{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} quit_leading_due_to_disloyal_voter'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: quit_leading_due_to_disloyal_voter
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 16
        "y": 85
      hiddenSeries: false
      id: 219
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(om_commit_process_time_ms_sum{namespace=~"$namespace",pod=~"$pod"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} om_commit_process_time'
        refId: C
      - expr: rate(om_proposal_process_time_ms_sum{namespace=~"$namespace",pod=~"$pod"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} om_proposal_process_time'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Observer Master
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 93
      id: 36
      panels: []
      title: Session/Watch
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 94
      hiddenSeries: false
      id: 212
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: watch_count{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} watch_count'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: watch_count
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 94
      hiddenSeries: false
      id: 178
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: node_changed_watch_count_sum{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} node_changed_watch_count'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: node_changed_watch_count
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 16
        "y": 94
      hiddenSeries: false
      id: 174
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: node_children_watch_count_sum{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} node_children_watch_count'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: node_children_watch_count
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 102
      hiddenSeries: false
      id: 150
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: node_deleted_watch_count_sum{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} node_deleted_watch_count'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: node_deleted_watch_count
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 102
      hiddenSeries: false
      id: 96
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: node_created_watch_count_sum{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} node_created_watch_count'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: node_created_watch_count
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 16
        "y": 102
      hiddenSeries: false
      id: 223
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: revalidate_count{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} revalidate_count'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: revalidate_count
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 110
      hiddenSeries: false
      id: 46
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: stale_sessions_expired{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 1
        legendFormat: '{{instance}} stale_sessions_expired'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: stale_sessions_expired
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 110
      hiddenSeries: false
      id: 194
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: dead_watchers_cleared{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} dead_watchers_cleared'
        refId: A
      - expr: dead_watchers_queued{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} dead_watchers_queued'
        refId: B
      - expr: rate(dead_watchers_cleaner_latency_sum{namespace=~"$namespace",pod=~"$pod"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} dead_watchers_cleaner_latency'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: dead_watchers
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 16
        "y": 110
      hiddenSeries: false
      id: 62
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: add_dead_watcher_stall_time{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} add_dead_watcher_stall_time'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: add_dead_watcher_stall_time
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: ms
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 118
      id: 102
      panels: []
      title: Client/Connection
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 119
      hiddenSeries: false
      id: 66
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: outstanding_requests{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} outstanding_requests'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: outstanding_requests
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 119
      hiddenSeries: false
      id: 104
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: last_client_response_size{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} last_client_response_size'
        refId: A
      - expr: min_client_response_size{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} min_client_response_size'
        refId: B
      - expr: max_client_response_size{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} max_client_response_size'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: client_response_size
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 16
        "y": 119
      hiddenSeries: false
      id: 146
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: bytes_received_count{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} bytes_received_count'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: bytes_received_count
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 127
      hiddenSeries: false
      id: 176
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: connection_request_count{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} connection_request_count'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: connection_request_count
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 127
      hiddenSeries: false
      id: 190
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: num_alive_connections{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 1
        legendFormat: '{{instance}} num_alive_connections'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: num_alive_connections
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 16
        "y": 127
      hiddenSeries: false
      id: 86
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: connection_rejected{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} connection_rejected'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: connection_rejected
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 135
      hiddenSeries: false
      id: 128
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: connection_drop_count{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} connection_drop_count'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: connection_drop_count
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 0
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 135
      hiddenSeries: false
      id: 60
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: connection_drop_probability{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} connection_drop_probability'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: connection_drop_probability
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 16
        "y": 135
      hiddenSeries: false
      id: 54
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: sessionless_connections_expired{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} sessionless_connections_expired'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: sessionless_connections_expired
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 143
      hiddenSeries: false
      id: 180
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(connection_token_deficit_sum{namespace=~"$namespace",pod=~"$pod"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} connection_token_deficit'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: connection_token_deficit
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 151
      id: 112
      panels: []
      title: Disk/Snapshot
      type: row
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          max: 1024
          min: 0
          thresholds:
            mode: absolute
            steps:
            - color: green
              index: 0
              value: null
            - color: red
              index: 1
              value: 800
          unit: short
        overrides: []
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 152
      id: 122
      links: []
      options:
        orientation: horizontal
        reduceOptions:
          calcs:
          - last
          fields: ""
          values: false
        showThresholdLabels: false
        showThresholdMarkers: true
        text: {}
      pluginVersion: 8.0.7
      targets:
      - expr: open_file_descriptor_count{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}}'
        refId: A
      timeFrom: null
      timeShift: null
      title: open_file_descriptor
      type: gauge
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 160
      hiddenSeries: false
      id: 114
      legend:
        alignAsTable: true
        avg: false
        current: true
        max: true
        min: true
        rightSide: true
        show: true
        sideWidth: null
        total: false
        values: true
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: fsynctime{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        hide: true
        intervalFactor: 2
        legendFormat: '{{instance}} fsynctime'
        refId: A
      - expr: fsynctime_count{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        hide: true
        interval: ""
        intervalFactor: 2
        legendFormat: '{{instance}} fsynctime_count'
        refId: B
      - expr: fsynctime_sum{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        hide: true
        intervalFactor: 2
        legendFormat: '{{instance}} fsynctime_sum(ms)'
        refId: C
      - expr: fsynctime_sum * 1000 /fsynctime_count{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        hide: false
        intervalFactor: 2
        legendFormat: '{{instance}} fsynctime_avg(μs)'
        refId: D
      - expr: irate(fsynctime_sum{namespace=~"$namespace",pod=~"$pod"}[1m])
        format: time_series
        hide: false
        intervalFactor: 2
        legendFormat: '{{instance}} fsynctime_rate'
        refId: E
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: fsync_time
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - decimals: null
        format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - decimals: null
        format: short
        label: ""
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: 10
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 168
      hiddenSeries: false
      id: 88
      legend:
        alignAsTable: true
        avg: false
        current: true
        max: true
        min: true
        rightSide: true
        show: true
        total: false
        values: true
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(snapshottime_sum{namespace=~"$namespace",pod=~"$pod"}[5m])
        format: time_series
        hide: false
        intervalFactor: 2
        legendFormat: '{{instance}} snapshot_time_rate'
        refId: C
      - expr: snapshottime_count{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        hide: true
        intervalFactor: 2
        legendFormat: '{{instance}} snapshottime_count'
        refId: A
      - expr: snapshottime_sum / snapshottime_count{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        hide: true
        intervalFactor: 2
        legendFormat: '{{instance}} snapshottime_avg(ms)'
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: snapshot_time
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 176
      id: 136
      panels: []
      title: Prep_Processor
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 177
      hiddenSeries: false
      id: 158
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(prep_process_time_sum{namespace=~"$namespace",pod=~"$pod"}[5m])
        format: time_series
        intervalFactor: 1
        legendFormat: '{{instance}} prep_process_time'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: prep_process_time
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 177
      hiddenSeries: false
      id: 138
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(prep_processor_queue_time_ms_sum{namespace=~"$namespace",pod=~"$pod"}[5m])
        format: time_series
        intervalFactor: 1
        legendFormat: '{{instance}} prep_processor_queue_time_ms'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: prep_processor_queue_time
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: ms
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 16
        "y": 177
      hiddenSeries: false
      id: 156
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(prep_processor_queue_size_sum{namespace=~"$namespace",pod=~"$pod"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} prep_processor_queue_size'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: prep_processor_queue_size
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 185
      hiddenSeries: false
      id: 160
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: prep_processor_request_queued{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} prep_processor_request_queued'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: prep_processor_request_queued
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 185
      hiddenSeries: false
      id: 92
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: outstanding_changes_queued{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} outstanding_changes_queued'
        refId: A
      - expr: outstanding_changes_removed{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} outstanding_changes_removed'
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: outstanding_changes_queued
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 16
        "y": 185
      hiddenSeries: false
      id: 32
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(close_session_prep_time_sum{namespace=~"$namespace",pod=~"$pod"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} close_session_prep_time'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: close_session_prep_time
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 193
      id: 2
      panels: []
      repeat: null
      title: Sync_Processor
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 194
      hiddenSeries: false
      id: 142
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(sync_process_time_sum{namespace=~"$namespace",pod=~"$pod"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} sync_process_time'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: sync_process_time
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 194
      hiddenSeries: false
      id: 18
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(sync_processor_queue_flush_time_ms_sum{namespace=~"$namespace",pod=~"$pod"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} sync_processor_queue_flush_time'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: sync_processor_queue_flush_time
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 16
        "y": 194
      hiddenSeries: false
      id: 26
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(sync_processor_queue_size_sum{namespace=~"$namespace",pod=~"$pod"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} sync_processor_queue_size'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: sync_processor_queue_size
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 0
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 202
      hiddenSeries: false
      id: 16
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: sync_processor_request_queued{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} sync_processor_request_queued'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: sync_processor_request_queued
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 202
      hiddenSeries: false
      id: 24
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(sync_processor_batch_size_sum{namespace=~"$namespace",pod=~"$pod"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} sync_processor_batch_size'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: sync_processor_batch_size
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 210
      id: 108
      panels: []
      title: Commit_Processor
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 211
      hiddenSeries: false
      id: 118
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(commit_process_time_sum{namespace=~"$namespace",pod=~"$pod"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} commit_process_time'
        refId: C
      - expr: rate(read_commitproc_time_ms_sum{namespace=~"$namespace",pod=~"$pod"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} read_commitproc_time'
        refId: A
      - expr: rate(write_commitproc_time_ms_sum{namespace=~"$namespace",pod=~"$pod"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} write_commitproc_time'
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: commit_process_time
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 211
      hiddenSeries: false
      id: 72
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(write_commit_proc_req_queued_sum{namespace=~"$namespace",pod=~"$pod"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} write_commit_proc_req_queued'
        refId: C
      - expr: rate(read_commit_proc_req_queued_sum{namespace=~"$namespace",pod=~"$pod"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} read_commit_proc_req_queued'
        refId: A
      - expr: rate(commit_commit_proc_req_queued_sum{namespace=~"$namespace",pod=~"$pod"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} commit_commit_proc_req_queued'
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: commit_proc_req_queued
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 16
        "y": 211
      hiddenSeries: false
      id: 44
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(requests_in_session_queue_sum{namespace=~"$namespace",pod=~"$pod"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} requests_in_session_queue'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: requests_in_session_queue
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 219
      hiddenSeries: false
      id: 58
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(read_commit_proc_issued_sum{namespace=~"$namespace",pod=~"$pod"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} read_commit_proc_issued'
        refId: C
      - expr: rate(write_commit_proc_issued_sum{namespace=~"$namespace",pod=~"$pod"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} write_commit_proc_issued'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: commit_proc_issued
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 219
      hiddenSeries: false
      id: 164
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(concurrent_request_processing_in_commit_processor_sum{namespace=~"$namespace",pod=~"$pod"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} concurrent_request_processing_in_commit_processor'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: concurrent_request_processing_in_commit_processor
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 16
        "y": 219
      hiddenSeries: false
      id: 188
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(time_waiting_empty_pool_in_commit_processor_read_ms_sum{namespace=~"$namespace",pod=~"$pod"}[5m])
        format: time_series
        hide: false
        intervalFactor: 2
        legendFormat: '{{instance}} time_waiting_empty_pool_in_commit_processor_read'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: time_waiting_empty_pool_in_commit_processor_read
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 227
      hiddenSeries: false
      id: 30
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(pending_session_queue_size_sum{namespace=~"$namespace",pod=~"$pod"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} pending_session_queue_size'
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: pending_session_queue_size
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 227
      hiddenSeries: false
      id: 94
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(local_write_committed_time_ms_sum{namespace=~"$namespace",pod=~"$pod"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} local_write_committed_time_ms'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: local_write_committed_time
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 16
        "y": 227
      hiddenSeries: false
      id: 74
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(server_write_committed_time_ms_sum{namespace=~"$namespace",pod=~"$pod"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} server_write_committed_time'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: server_write_committed_time
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 235
      hiddenSeries: false
      id: 106
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(write_batch_time_in_commit_processor_sum{namespace=~"$namespace",pod=~"$pod"}[5m])
        format: time_series
        hide: false
        intervalFactor: 2
        legendFormat: '{{instance}} write_batch_time_in_commit_processor'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: write_batch_time_in_commit_processor
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 235
      hiddenSeries: false
      id: 34
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(reads_after_write_in_session_queue_sum{namespace=~"$namespace",pod=~"$pod"}[5m])
        format: time_series
        intervalFactor: 1
        legendFormat: '{{instance}} reads_after_write_in_session_queue'
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: reads_after_write_in_session_queue
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 16
        "y": 235
      hiddenSeries: false
      id: 50
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(session_queues_drained_sum{namespace=~"$namespace",pod=~"$pod"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} session_queues_drained'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: session_queues_drained
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 243
      hiddenSeries: false
      id: 38
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(reads_issued_from_session_queue_sum{namespace=~"$namespace",pod=~"$pod"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} reads_issued_from_session_queue'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: reads_issued_from_session_queue
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 243
      hiddenSeries: false
      id: 152
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: request_commit_queued{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 1
        legendFormat: '{{instance}} request_commit_queued'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: request_commit_queued
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 251
      id: 170
      panels: []
      title: Final_Processor
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 252
      hiddenSeries: false
      id: 172
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(write_final_proc_time_ms_sum{namespace=~"$namespace",pod=~"$pod"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} write_final_proc_time_ms'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: write_final_proc_time_ms
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 252
      hiddenSeries: false
      id: 228
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(read_final_proc_time_ms_sum{namespace=~"$namespace",pod=~"$pod"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} read_final_proc_time_ms'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: read_final_proc_time_ms
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 260
      id: 80
      panels: []
      title: Latency
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 261
      hiddenSeries: false
      id: 198
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(readlatency_sum{namespace=~"$namespace",pod=~"$pod"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} readlatency'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: read_latency
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 261
      hiddenSeries: false
      id: 78
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides:
      - {}
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(updatelatency_sum{namespace=~"$namespace",pod=~"$pod"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} updatelatency'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: update_latency
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      decimals: null
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 269
      hiddenSeries: false
      id: 100
      interval: ""
      legend:
        avg: true
        current: true
        max: true
        min: true
        show: false
        total: true
        values: true
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: max_latency{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} max_latency'
        refId: A
      - expr: min_latency{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{instance}} min_latency'
        refId: B
      - expr: avg_latency{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} avg_latency'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: max_min_avg_latency
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: ms
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 269
      hiddenSeries: false
      id: 134
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(proposal_latency_sum{namespace=~"$namespace",pod=~"$pod"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} proposal_latency'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: proposal_latency
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 277
      hiddenSeries: false
      id: 162
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(quorum_ack_latency_sum{namespace=~"$namespace",pod=~"$pod"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} quorum_ack_latency'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: quorum_ack_latency
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 277
      hiddenSeries: false
      id: 42
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: proposal_ack_creation_latency{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} proposal_ack_creation_latency-{{quantile}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: proposal_ack_creation_latency
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: ms
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 0
        "y": 285
      hiddenSeries: false
      id: 196
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(propagation_latency_sum{namespace=~"$namespace",pod=~"$pod"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} propagation_latency'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: propagation_latency
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 12
        x: 12
        "y": 285
      hiddenSeries: false
      id: 182
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(commit_propagation_latency_sum{namespace=~"$namespace",pod=~"$pod"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} commit_propagation_latency'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: commit_propagation_latency
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 293
      id: 238
      panels: []
      title: Security
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 294
      hiddenSeries: false
      id: 236
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: tls_handshake_exceeded{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} tls_handshake_exceeded'
        refId: C
      - expr: outstanding_tls_handshake{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} outstanding_tls_handshake'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: tls_handshake
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 294
      hiddenSeries: false
      id: 64
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: ensemble_auth_fail{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} ensemble_auth_fail'
        refId: A
      - expr: ensemble_auth_success{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} ensemble_auth_success'
        refId: B
      - expr: ensemble_auth_skip{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} ensemble_auth_skip'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: ensemble_auth
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - collapsed: false
      datasource: null
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 302
      id: 227
      panels: []
      title: JVM
      type: row
    - cacheTimeout: null
      colorBackground: true
      colorValue: false
      colors:
      - '#37872D'
      - '#37872D'
      - '#37872D'
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      format: none
      gauge:
        maxValue: 100
        minValue: 0
        show: false
        thresholdLabels: false
        thresholdMarkers: true
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 303
      id: 204
      interval: null
      links: []
      mappingType: 1
      mappingTypes:
      - name: value to text
        value: 1
      - name: range to text
        value: 2
      maxDataPoints: 100
      nullPointMode: connected
      nullText: null
      postfix: ""
      postfixFontSize: 50%
      prefix: ""
      prefixFontSize: 50%
      rangeMaps:
      - from: "null"
        text: N/A
        to: "null"
      sparkline:
        fillColor: rgba(31, 118, 189, 0.18)
        full: false
        lineColor: rgb(31, 120, 193)
        show: false
      tableColumn: ""
      targets:
      - expr: max(jvm_classes_loaded{namespace=~"$namespace",pod=~"$pod"})
        format: time_series
        intervalFactor: 1
        legendFormat: ""
        refId: C
      thresholds: ""
      timeFrom: null
      timeShift: null
      title: jvm_classes_loaded
      type: singlestat
      valueFontSize: 80%
      valueMaps:
      - op: =
        text: N/A
        value: "null"
      valueName: current
    - cacheTimeout: null
      colorBackground: true
      colorValue: false
      colors:
      - '#1F60C4'
      - '#1F60C4'
      - '#1F60C4'
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      format: short
      gauge:
        maxValue: 100
        minValue: 0
        show: false
        thresholdLabels: false
        thresholdMarkers: true
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 303
      id: 229
      interval: null
      links: []
      mappingType: 1
      mappingTypes:
      - name: value to text
        value: 1
      - name: range to text
        value: 2
      maxDataPoints: 100
      nullPointMode: connected
      nullText: null
      postfix: ""
      postfixFontSize: 50%
      prefix: ""
      prefixFontSize: 50%
      rangeMaps:
      - from: "null"
        text: N/A
        to: "null"
      sparkline:
        fillColor: rgba(31, 118, 189, 0.18)
        full: false
        lineColor: rgb(31, 120, 193)
        show: false
      tableColumn: ""
      targets:
      - expr: max(jvm_threads_current{namespace=~"$namespace",pod=~"$pod"})
        format: time_series
        intervalFactor: 1
        legendFormat: ""
        refId: C
      thresholds: ""
      timeFrom: null
      timeShift: null
      title: jvm_threads_current
      type: singlestat
      valueFontSize: 80%
      valueMaps:
      - op: =
        text: N/A
        value: "null"
      valueName: current
    - cacheTimeout: null
      colorBackground: true
      colorValue: false
      colors:
      - '#E0B400'
      - '#E0B400'
      - '#E0B400'
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      format: short
      gauge:
        maxValue: 100
        minValue: 0
        show: false
        thresholdLabels: false
        thresholdMarkers: true
      gridPos:
        h: 8
        w: 8
        x: 16
        "y": 303
      id: 230
      interval: null
      links: []
      mappingType: 1
      mappingTypes:
      - name: value to text
        value: 1
      - name: range to text
        value: 2
      maxDataPoints: 100
      nullPointMode: connected
      nullText: null
      postfix: ""
      postfixFontSize: 50%
      prefix: ""
      prefixFontSize: 50%
      rangeMaps:
      - from: "null"
        text: N/A
        to: "null"
      sparkline:
        fillColor: rgba(31, 118, 189, 0.18)
        full: false
        lineColor: rgb(31, 120, 193)
        show: false
      tableColumn: ""
      targets:
      - expr: max(jvm_threads_deadlocked{namespace=~"$namespace",pod=~"$pod"})
        format: time_series
        intervalFactor: 1
        legendFormat: ""
        refId: C
      thresholds: ""
      timeFrom: null
      timeShift: null
      title: jvm_threads_deadlocked
      type: singlestat
      valueFontSize: 80%
      valueMaps:
      - op: =
        text: N/A
        value: "null"
      valueName: current
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 311
      hiddenSeries: false
      id: 231
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(jvm_pause_time_ms_sum{namespace=~"$namespace",pod=~"$pod"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} jvm_pause_time_ms'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: jvm_pause_time_ms
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 8
        "y": 311
      hiddenSeries: false
      id: 232
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: rate(jvm_gc_collection_seconds_sum{namespace=~"$namespace",pod=~"$pod"}[5m])
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} gc:{{gc}}'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: jvm_gc_collection_seconds
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 16
        "y": 311
      hiddenSeries: false
      id: 233
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: jvm_threads_state{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} state:{{state}}'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: jvm_threads_state
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 8
        w: 8
        x: 0
        "y": 319
      hiddenSeries: false
      id: 234
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: false
        total: false
        values: false
      lines: true
      linewidth: 2
      links: []
      nullPointMode: connected
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - expr: jvm_memory_pool_bytes_used{namespace=~"$namespace",pod=~"$pod"}
        format: time_series
        intervalFactor: 2
        legendFormat: '{{instance}} pool:{{pool}}'
        refId: C
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: jvm_memory_pool_bytes_used
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    refresh: 10s
    schemaVersion: 27
    style: dark
    tags: []
    templating:
      list:
      - current:
          selected: false
          text: Prometheus
          value: Prometheus
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Datasource
        multi: false
        name: datasource
        options: []
        query: prometheus
        queryValue: ""
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: null
        current:
          selected: false
          text: demo
          value: demo
        datasource: ${datasource}
        definition: label_values(kube_namespace_created,namespace)
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Namespace
        multi: false
        name: namespace
        options: []
        query:
          query: label_values(kube_namespace_created,namespace)
          refId: StandardVariableQuery
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text: zk-cluster
          value: zk-cluster
        datasource: ${datasource}
        definition: query_result(kubedb_com_zookeeper_created{namespace="$namespace"})
        description: null
        error: null
        hide: 0
        includeAll: false
        label: ZooKeeper
        multi: false
        name: app
        options: []
        query:
          query: query_result(kubedb_com_zookeeper_created{namespace="$namespace"})
          refId: StandardVariableQuery
        refresh: 1
        regex: /.*app="([^"]+).*/
        skipUrlSync: false
        sort: 1
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: true
          text: zk-cluster-0
          value: zk-cluster-0
        datasource: ${datasource}
        definition: label_values(up{namespace=~"$namespace",pod=~"${app}-.*"},pod)
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Pod Name
        multi: false
        name: pod
        options: []
        query:
          query: label_values(up{namespace=~"$namespace",pod=~"${app}-.*"},pod)
          refId: StandardVariableQuery
        refresh: 2
        regex: ""
        skipUrlSync: false
        sort: 1
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-6h
      to: now
    timepicker:
      refresh_intervals:
      - 5s
      - 10s
      - 30s
      - 1m
      - 5m
      - 15m
      - 30m
      - 1h
      - 2h
      - 1d
      time_options:
      - 5m
      - 15m
      - 1h
      - 6h
      - 12h
      - 24h
      - 2d
      - 7d
      - 30d
    timezone: ""
    title: KubeDB / ZooKeeper / Pod
    version: 6
  overwrite: true
  templatize:
    title: false
    datasource: false
---
# Source: kubedb-grafana-dashboards/templates/shared/dashboard.yaml
apiVersion: openviz.dev/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kubedb-zookeeper-summary
  namespace: default
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: ZooKeeper
    k8s.io/resource: zookeepers
    helm.sh/chart: kubedb-grafana-dashboards-v2024.6.4
    app.kubernetes.io/name: kubedb-grafana-dashboards
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "v2024.6.4"
    app.kubernetes.io/managed-by: Helm
spec:
  model:
    annotations:
      list:
      - builtIn: 1
        datasource: ${datasource}
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        target:
          limit: 100
          matchAny: false
          tags: []
          type: dashboard
        type: dashboard
    description: The dashboard is designed for KubeDB managed ZooKeeper
    editable: true
    gnetId: 9628
    graphTooltip: 0
    iteration: 1710842885547
    links: []
    panels:
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 0
      id: 161
      panels: []
      title: General
      type: row
    - datasource: ${datasource}
      description: Represent database status
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          mappings:
          - options:
              Critical:
                color: dark-yellow
                index: 1
              DataRestoring:
                color: dark-red
                index: 4
              Halted:
                color: dark-red
                index: 5
              NotReady:
                color: dark-red
                index: 2
              Provisioning:
                color: text
                index: 3
              Ready:
                color: semi-dark-green
                index: 0
            type: value
          thresholds:
            mode: absolute
            steps:
            - color: text
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 8
        x: 0
        "y": 1
      id: 78
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: /^phase$/
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: |
          kubedb_com_zookeeper_status_phase{namespace="$namespace", app="$app"} == 1
        format: table
        instant: true
        interval: ""
        legendFormat: '{{phase}}'
        refId: A
      title: Database Status
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      description: ZooKeeperVersion CR Name
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings:
          - options:
              match: "null"
              result:
                index: 0
                text: N/A
            type: special
          noValue: N/A
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 8
        "y": 1
      id: 36
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - mean
          fields: ""
          values: false
        text: {}
        textMode: name
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: kubedb_com_zookeeper_info{namespace="$namespace", app="$app"}
        format: time_series
        instant: true
        interval: ""
        intervalFactor: 1
        legendFormat: '{{version}}'
        refId: A
      title: Version
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      description: ZooKeeper Quorum Size
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          noValue: N/A
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: string
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 12
        "y": 1
      id: 151
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: none
        justifyMode: center
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text:
          valueSize: 25
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: max(quorum_size{namespace="$namespace",pod=~"$app-\\d+$"})
        format: time_series
        instant: true
        interval: ""
        intervalFactor: 1
        legendFormat: quorum_size
        refId: A
      title: Quorum Size
      type: stat
    - datasource: ${datasource}
      description: KubeDB ZooKeeper Total Memory Limit
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 16
        "y": 1
      id: 116
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: kubedb_com_zookeeper_resource_limit_memory{namespace="$namespace", app="$app"}
        interval: ""
        legendFormat: ""
        refId: A
      title: Memory Limit
      type: stat
    - datasource: ${datasource}
      description: KubeDB Database Resource deletionPolicy
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          mappings:
          - options:
              Delete:
                color: yellow
                index: 1
              DoNotTerminate:
                color: green
                index: 2
              Halt:
                color: blue
                index: 3
              WipeOut:
                color: dark-red
                index: 0
            type: value
          thresholds:
            mode: absolute
            steps:
            - color: text
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 20
        "y": 1
      id: 84
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: /^deletionPolicy$/
          values: false
        text: {}
        textMode: value
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: kubedb_com_zookeeper_info{namespace="$namespace", app="$app"}
        format: table
        instant: true
        interval: ""
        legendFormat: '{{deletionPolicy}}'
        refId: A
      title: Deletion Policy
      type: stat
    - datasource: ${datasource}
      description: Total node count of ZooKeeper cluster
      fieldConfig:
        defaults:
          color:
            fixedColor: green
            mode: fixed
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 0
        "y": 4
      id: 76
      options:
        colorMode: none
        graphMode: none
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: kubedb_com_zookeeper_replicas{namespace="$namespace",app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Total Nodes
      type: stat
    - datasource: ${datasource}
      description: Initial Requested CPU amount by Postgres Instance
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          min: 0
          thresholds:
            mode: percentage
            steps:
            - color: green
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 4
        "y": 4
      id: 92
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: kubedb_com_zookeeper_resource_request_cpu{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: CPU Request (Core)
      type: stat
    - datasource: ${datasource}
      description: CPU Limit in core by ZooKeeper instance
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 8
        "y": 4
      id: 114
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: kubedb_com_zookeeper_resource_limit_cpu{namespace="$namespace", app="$app"}
        interval: ""
        legendFormat: ""
        refId: A
      title: CPU Limit (Core)
      type: stat
    - datasource: ${datasource}
      description: Initial Requested Memory amount by ZooKeeper Instance
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          min: 0
          thresholds:
            mode: percentage
            steps:
            - color: green
              value: null
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 12
        "y": 4
      id: 94
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: kubedb_com_zookeeper_resource_request_memory{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Memory Request
      type: stat
    - cacheTimeout: null
      datasource: ${datasource}
      description: ZooKeeper Leader Node
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings:
          - options:
              match: "null"
              result:
                index: 0
                text: N/A
            type: special
          noValue: N/A
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 16
        "y": 4
      id: 145
      interval: null
      links: []
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - mean
          fields: ""
          values: false
        text: {}
        textMode: name
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: leader_uptime{namespace="$namespace",pod=~"$app-\\d+$"}
        format: time_series
        instant: true
        interval: ""
        intervalFactor: 1
        legendFormat: '{{instance}}'
        refId: A
      title: Leader
      type: stat
    - datasource: ${datasource}
      description: Total storage request by ZooKeeper nodes
      fieldConfig:
        defaults:
          color:
            fixedColor: text
            mode: fixed
          mappings: []
          min: 0
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: bytes
        overrides: []
      gridPos:
        h: 3
        w: 4
        x: 20
        "y": 4
      id: 96
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: auto
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        text: {}
        textMode: auto
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: kubedb_com_zookeeper_resource_request_storage{namespace="$namespace", app="$app"}
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Storage Request
      type: stat
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 12
      id: 138
      panels: []
      title: CPU Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults: {}
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 13
      hiddenSeries: false
      id: 98
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(sum by (namespace, pod, container) (irate(container_cpu_usage_seconds_total{image!="",job="kubelet",metrics_path="/metrics/cadvisor",namespace="$namespace",
          pod=~"$app-.+$"}[5m])) * on (namespace, pod) group_left (node) topk by (namespace,
          pod) (1, max by (namespace, pod, node) (kube_pod_info{node!="",namespace="$namespace",
          pod=~"$app-.+$"}))) by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: CPU Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      description: CPU Quote information in details
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            displayMode: auto
            filterable: false
          decimals: 2
          displayName: ""
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: Time
          properties:
          - id: displayName
            value: Time
          - id: custom.align
            value: null
          - id: custom.width
            value: null
        - matcher:
            id: byName
            options: 'Value #A'
          properties:
          - id: displayName
            value: CPU Usage
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #B'
          properties:
          - id: displayName
            value: CPU Requests
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #C'
          properties:
          - id: displayName
            value: CPU Requests %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #D'
          properties:
          - id: displayName
            value: CPU Limits
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #E'
          properties:
          - id: displayName
            value: CPU Limits %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: pod
          properties:
          - id: displayName
            value: Pod
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: links
            value:
            - targetBlank: false
              title: Drill down
              url: ./d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-pod=$__cell
          - id: custom.align
            value: null
      gridPos:
        h: 6
        w: 24
        x: 0
        "y": 20
      id: 122
      links: []
      options:
        showHeader: true
        sortBy: []
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: sum(sum by (namespace, pod, container) (irate(container_cpu_usage_seconds_total{image!="",job="kubelet",metrics_path="/metrics/cadvisor",namespace="$namespace",
          pod=~"$app-.+$"}[5m])) * on (namespace, pod) group_left (node) topk by (namespace,
          pod) (1, max by (namespace, pod, node) (kube_pod_info{node!="",namespace="$namespace",
          pod=~"$app-.+$"}))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
        step: 10
      - exemplar: true
        expr: sum(kube_pod_container_resource_limits{job="kube-state-metrics",resource="cpu",namespace="$namespace",
          pod=~"$app-.+$"} * on (namespace,pod) group_left() max by (namespace, pod) ((kube_pod_status_phase{phase=~"Pending|Running"}
          == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: B
        step: 10
      - exemplar: true
        expr: sum(sum by (namespace, pod, container) (irate(container_cpu_usage_seconds_total{image!="",job="kubelet",metrics_path="/metrics/cadvisor",namespace="$namespace",
          pod=~"$app-.+$"}[5m])) * on (namespace, pod) group_left (node) topk by (namespace,
          pod) (1, max by (namespace, pod, node) (kube_pod_info{node!="",namespace="$namespace",
          pod=~"$app-.+$"}))) by (pod) / sum(kube_pod_container_resource_requests{job="kube-state-metrics",resource="cpu",namespace="$namespace",
          pod=~"$app-.+$"} * on (namespace,pod) group_left () max by (namespace,pod) ((kube_pod_status_phase{phase=~"Pending|Running"}
          == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: C
        step: 10
      - exemplar: true
        expr: sum(kube_pod_container_resource_limits{job="kube-state-metrics",resource="cpu",namespace="$namespace",
          pod=~"$app-.+$"} * on (namespace,pod) group_left() max by (namespace, pod) ((kube_pod_status_phase{phase=~"Pending|Running"}
          == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: D
        step: 10
      - exemplar: true
        expr: sum(sum by (namespace, pod, container) (irate(container_cpu_usage_seconds_total{image!="",job="kubelet",metrics_path="/metrics/cadvisor",namespace="$namespace",
          pod=~"$app-.+$"}[5m])) * on (namespace, pod) group_left (node) topk by (namespace,
          pod) (1, max by (namespace, pod, node) (kube_pod_info{node!="",namespace="$namespace",
          pod=~"$app-.+$"}))) by (pod) / sum(kube_pod_container_resource_limits{job="kube-state-metrics",resource="cpu",namespace="$namespace",
          pod=~"$app-.+$"} * on (namespace,pod) group_left() max by (namespace, pod) ((kube_pod_status_phase{phase=~"Pending|Running"}
          == 1))) by (pod)
        format: table
        hide: false
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: E
        step: 10
      timeFrom: null
      timeShift: null
      title: CPU Quota
      transformations:
      - id: merge
        options:
          reducers: []
      type: table
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 33
      id: 163
      panels: []
      title: Memory Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Memory Usage by ZooKeeper pods
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 6
        w: 24
        x: 0
        "y": 34
      hiddenSeries: false
      id: 100
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
        legend:
          calcs: []
          displayMode: table
          placement: right
        tooltip:
          mode: single
        tooltipOptions:
          mode: single
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{image!="",job="kubelet",metrics_path="/metrics/cadvisor",namespace="$namespace",
          pod=~"$app-.+$",container!=""} * on (namespace, pod) group_left (node) topk
          by (namespace, pod) (1, max by (namespace, pod, node) (kube_pod_info{node!=""})))
          by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Memory Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            displayMode: auto
            filterable: false
          decimals: 2
          displayName: ""
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: Time
          properties:
          - id: displayName
            value: Time
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #A'
          properties:
          - id: displayName
            value: Memory Usage
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #B'
          properties:
          - id: displayName
            value: Memory Requests
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #C'
          properties:
          - id: displayName
            value: Memory Requests %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #D'
          properties:
          - id: displayName
            value: Memory Limits
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #E'
          properties:
          - id: displayName
            value: Memory Limits %
          - id: unit
            value: percentunit
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #F'
          properties:
          - id: displayName
            value: Memory Usage (RSS)
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #G'
          properties:
          - id: displayName
            value: Memory Usage (Cache)
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #H'
          properties:
          - id: displayName
            value: Memory Usage (Swap)
          - id: unit
            value: bytes
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: pod
          properties:
          - id: displayName
            value: Pod
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: links
            value:
            - targetBlank: false
              title: Drill down
              url: ./d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-pod=$__cell
          - id: custom.align
            value: null
      gridPos:
        h: 6
        w: 24
        x: 0
        "y": 40
      id: 124
      links: []
      options:
        showHeader: true
        sortBy:
        - desc: true
          displayName: Memory Usage
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{namespace="$namespace",pod=~"$app-.+$",container!="",
          image!=""}) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
        step: 10
      - exemplar: true
        expr: sum (kube_pod_container_resource_requests{job="kube-state-metrics",resource="memory",namespace="$namespace",pod=~"$app-.+$"}
          * on (namespace, pod, cluster) group_left () max by (namespace, pod, cluster)
          ((kube_pod_status_phase{phase=~"Pending|Running"} == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: B
        step: 10
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{namespace="$namespace",pod=~"$app-.+$",container!="",
          image!=""}) by (pod) / sum(kube_pod_container_resource_requests{job="kube-state-metrics",resource="memory",namespace="$namespace",pod=~"$app-.+$"}
          * on (namespace, pod, cluster) group_left () max by (namespace, pod, cluster)
          ((kube_pod_status_phase{phase=~"Pending|Running"} == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: C
        step: 10
      - exemplar: true
        expr: sum(kube_pod_container_resource_limits{job="kube-state-metrics",resource="memory",namespace="$namespace",pod=~"$app-.+$"}
          * on (namespace, pod, cluster) group_left () max by (namespace, pod, cluster)
          ((kube_pod_status_phase{phase=~"Pending|Running"} == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: D
        step: 10
      - exemplar: true
        expr: sum(container_memory_working_set_bytes{namespace="$namespace",pod=~"$app-.+$",container!="",
          image!=""}) by (pod) / sum(kube_pod_container_resource_limits{job="kube-state-metrics",resource="memory",namespace="$namespace",pod=~"$app-.+$"}
          * on (namespace, pod, cluster) group_left () max by (namespace, pod, cluster)
          ((kube_pod_status_phase{phase=~"Pending|Running"} == 1))) by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: E
        step: 10
      - exemplar: true
        expr: sum(container_memory_rss{namespace="$namespace",pod=~"$app-.+$",container!=""})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: F
        step: 10
      - exemplar: true
        expr: sum(container_memory_cache{namespace="$namespace",pod=~"$app-.+$",container!=""})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: G
        step: 10
      - exemplar: true
        expr: sum(container_memory_swap{namespace="$namespace",pod=~"$app-.+$",container!=""})
          by (pod)
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: H
        step: 10
      timeFrom: null
      timeShift: null
      title: Memory Quota
      transformations:
      - id: merge
        options:
          reducers: []
      type: table
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 52
      id: 142
      panels: []
      title: Storage Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: Disk usage by ZooKeeper pods
      fieldConfig:
        defaults:
          unit: bytes
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 9
        w: 12
        x: 0
        "y": 53
      hiddenSeries: false
      id: 112
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
        legend:
          calcs: []
          displayMode: list
          placement: bottom
        tooltip:
          mode: single
        tooltipOptions:
          mode: single
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: avg(container_blkio_device_usage_total{namespace="$namespace", pod=~"$app-.+$"})
          by (pod)
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Disk Usage
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: bytes
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      description: System Disk Usage Information
      fieldConfig:
        defaults:
          unit: none
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 9
        w: 12
        x: 12
        "y": 53
      hiddenSeries: false
      id: 108
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      nullPointMode: "null"
      options:
        alertThreshold: true
        legend:
          calcs: []
          displayMode: table
          placement: right
        tooltip:
          mode: single
        tooltipOptions:
          mode: single
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(rate(container_fs_writes_total{namespace="$namespace", pod=~"$app-\\d+$"}[5m]))by(pod)
        instant: false
        interval: ""
        intervalFactor: 1
        legendFormat: '{{pod}}-disk-write'
        refId: A
      - exemplar: true
        expr: sum(rate(container_fs_reads_total{namespace="$namespace", pod=~"$app-\\d+$"}[5m]))by(pod)
        hide: false
        instant: false
        interval: ""
        legendFormat: '{{pod}}-disk-read'
        refId: B
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Disk R/W Info
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: none
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: short
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 62
      hiddenSeries: false
      id: 126
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
        legend:
          calcs: []
          displayMode: list
          placement: bottom
        tooltip:
          mode: single
        tooltipOptions:
          mode: single
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: ceil(sum by(pod) (rate(container_fs_reads_total{container!="", namespace=~"$namespace",
          pod=~"$app-\\d+$"}[5m]) + rate(container_fs_writes_total{container!="" ,namespace=~"$namespace",
          pod=~"$app-\\d+$"}[5m])))
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: IOPS (Reads+Writes)
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: Bps
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 62
      hiddenSeries: false
      id: 128
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
        legend:
          calcs: []
          displayMode: list
          placement: bottom
        tooltip:
          mode: single
        tooltipOptions:
          mode: single
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_bytes_total{container!="", namespace=~"$namespace",
          pod=~"$app-\\d+$"}[5m]) + rate(container_fs_writes_bytes_total{container!=""
          ,namespace=~"$namespace", pod=~"$app-\\d+$"}[5m]))
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: ThroughPut (Read+Write)
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: Bps
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - datasource: ${datasource}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: null
            displayMode: auto
            filterable: false
          decimals: 2
          displayName: ""
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: Time
          properties:
          - id: displayName
            value: Time
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #A'
          properties:
          - id: displayName
            value: IOPS(Reads)
          - id: unit
            value: short
          - id: decimals
            value: -1
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #B'
          properties:
          - id: displayName
            value: IOPS(Writes)
          - id: unit
            value: short
          - id: decimals
            value: -1
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #C'
          properties:
          - id: displayName
            value: IOPS(Reads + Writes)
          - id: unit
            value: short
          - id: decimals
            value: -1
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #D'
          properties:
          - id: displayName
            value: Throughput(Read)
          - id: unit
            value: Bps
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #E'
          properties:
          - id: displayName
            value: Throughput(Write)
          - id: unit
            value: Bps
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: 'Value #F'
          properties:
          - id: displayName
            value: Throughput(Read + Write)
          - id: unit
            value: Bps
          - id: decimals
            value: 2
          - id: custom.align
            value: null
        - matcher:
            id: byName
            options: pod
          properties:
          - id: displayName
            value: Pod
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: links
            value:
            - targetBlank: false
              title: Drill down to pods
              url: ./d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=demo&var-pod=$__cell
          - id: custom.align
            value: null
      gridPos:
        h: 7
        w: 24
        x: 0
        "y": 69
      id: 130
      links: []
      options:
        showHeader: true
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_total{container!="", pod=~"$app-.+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: A
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_writes_total{container!="", pod=~"$app-.+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: B
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_total{container!="", pod=~"$app-.+$",namespace=~"$namespace"}[5m])
          + rate(container_fs_writes_total{container!="",pod=~"$app-.+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: C
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_bytes_total{container!="", pod=~"$app-.+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: D
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_writes_bytes_total{container!="", pod=~"$app-.+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: E
        step: 10
      - exemplar: true
        expr: sum by(pod) (rate(container_fs_reads_bytes_total{container!="", pod=~"$app-.+$",namespace=~"$namespace"}[5m])
          + rate(container_fs_writes_bytes_total{container!="",pod=~"$app-.+$",namespace=~"$namespace"}[5m]))
        format: table
        instant: true
        interval: ""
        intervalFactor: 2
        legendFormat: ""
        refId: F
        step: 10
      timeFrom: null
      timeShift: null
      title: Current Storage IO
      transformations:
      - id: merge
        options:
          reducers: []
      type: table
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 76
      id: 153
      panels: []
      title: Persistent Storage Insight
      type: row
    - datasource: ${datasource}
      description: |
        This panel describes allocated persistent storage in a table format
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: center
            displayMode: color-text
            filterable: false
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: light-blue
              value: null
          unit: decbytes
        overrides: []
      gridPos:
        h: 6
        w: 12
        x: 0
        "y": 77
      id: 157
      options:
        showHeader: true
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: kubelet_volume_stats_capacity_bytes + on(persistentvolumeclaim) group_left(pod)
          kube_pod_spec_volumes_persistentvolumeclaims_info{pod=~"$app-\\d+$",namespace=~"$namespace"}
        format: table
        instant: true
        interval: ""
        legendFormat: ""
        refId: A
      title: Allocated Storage
      transformations:
      - id: organize
        options:
          excludeByName:
            Time: true
            endpoint: true
            instance: true
            job: true
            metrics_path: true
            namespace: true
            node: true
            persistentvolumeclaim: true
            service: true
          indexByName: {}
          renameByName:
            Value: Volume
            pod: Pod
      type: table
    - datasource: ${datasource}
      description: 'This panel shows the persistent volume usage in percentage. '
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          mappings: []
          max: 100
          min: 0
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: percent
        overrides: []
      gridPos:
        h: 6
        w: 12
        x: 12
        "y": 77
      id: 159
      options:
        displayMode: gradient
        orientation: horizontal
        reduceOptions:
          calcs:
          - lastNotNull
          fields: ""
          values: false
        showUnfilled: true
        text: {}
      pluginVersion: 8.0.7
      targets:
      - exemplar: true
        expr: (kubelet_volume_stats_used_bytes / on(persistentvolumeclaim) group_left(pod)
          (kubelet_volume_stats_capacity_bytes + on(persistentvolumeclaim) group_left(pod)
          kube_pod_spec_volumes_persistentvolumeclaims_info{pod=~"$app-\\d+$",namespace=~"$namespace"})
          )* 100
        instant: true
        interval: ""
        legendFormat: '{{pod}}'
        refId: A
      title: Persistent Volume Usage
      transformations: []
      type: bargauge
    - datasource: ${datasource}
      description: 'This panel describes the persistent volume usage in a time series. '
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisLabel: ""
            axisPlacement: auto
            axisSoftMax: 5000
            axisSoftMin: 0
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: opacity
            hideFrom:
              graph: false
              legend: false
              tooltip: false
              viz: false
            lineInterpolation: linear
            lineStyle:
              fill: solid
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: true
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
          unit: decbytes
        overrides: []
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 83
      id: 155
      options:
        graph: {}
        legend:
          calcs:
          - max
          - lastNotNull
          displayMode: table
          placement: right
        tooltip:
          mode: single
        tooltipOptions:
          mode: single
      pluginVersion: 7.5.5
      targets:
      - exemplar: true
        expr: '(kubelet_volume_stats_used_bytes + on(persistentvolumeclaim) group_left(pod)
          kube_pod_spec_volumes_persistentvolumeclaims_info{pod=~"$app-\\d+$",namespace=~"$namespace"}) '
        interval: ""
        intervalFactor: 1
        legendFormat: '{{pod}}'
        refId: A
      title: Persistent Volume Usage History
      type: timeseries
    - collapsed: false
      datasource: ${datasource}
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 100
      id: 144
      panels: []
      title: Network Info
      type: row
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: Bps
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 101
      hiddenSeries: false
      id: 132
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
        legend:
          calcs: []
          displayMode: list
          placement: bottom
        tooltip:
          mode: single
        tooltipOptions:
          mode: single
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(irate(container_network_receive_bytes_total{namespace=~"$namespace",
          pod=~"$app-.+$"}[$__rate_interval])) by (pod)
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Receive Bandwidth
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: Bps
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    - aliasColors: {}
      bars: false
      dashLength: 10
      dashes: false
      datasource: ${datasource}
      fieldConfig:
        defaults:
          unit: Bps
        overrides: []
      fill: 1
      fillGradient: 0
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 101
      hiddenSeries: false
      id: 134
      legend:
        avg: false
        current: false
        max: false
        min: false
        show: true
        total: false
        values: false
      lines: true
      linewidth: 1
      links: []
      nullPointMode: "null"
      options:
        alertThreshold: true
        legend:
          calcs: []
          displayMode: list
          placement: bottom
        tooltip:
          mode: single
        tooltipOptions:
          mode: single
      percentage: false
      pluginVersion: 8.0.7
      pointradius: 2
      points: false
      renderer: flot
      seriesOverrides: []
      spaceLength: 10
      stack: false
      steppedLine: false
      targets:
      - exemplar: true
        expr: sum(irate(container_network_transmit_bytes_total{namespace=~"$namespace",
          pod=~"$app-.+$"}[$__rate_interval])) by (pod)
        format: time_series
        interval: ""
        intervalFactor: 2
        legendFormat: '{{pod}}'
        legendLink: null
        refId: A
        step: 10
      thresholds: []
      timeFrom: null
      timeRegions: []
      timeShift: null
      title: Transmit Bandwidth
      tooltip:
        shared: true
        sort: 0
        value_type: individual
      type: graph
      xaxis:
        buckets: null
        mode: time
        name: null
        show: true
        values: []
      yaxes:
      - format: Bps
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      - format: short
        label: null
        logBase: 1
        max: null
        min: null
        show: true
      yaxis:
        align: false
        alignLevel: null
    refresh: 10s
    schemaVersion: 27
    style: dark
    tags:
    - db
    - stats
    - zookeeper
    - kubedb
    templating:
      list:
      - current:
          selected: false
          text: Prometheus
          value: Prometheus
        description: null
        error: null
        hide: 0
        includeAll: false
        label: null
        multi: false
        name: datasource
        options: []
        query: prometheus
        queryValue: ""
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: '".+"'
        current:
          selected: false
          text: demo
          value: demo
        datasource: ${datasource}
        definition: label_values(kube_namespace_created,namespace)
        description: null
        error: null
        hide: 0
        includeAll: false
        label: Namespace
        multi: false
        name: namespace
        options: []
        query:
          query: label_values(kube_namespace_created,namespace)
          refId: Prometheus-namespace-Variable-Query
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: null
        current:
          selected: false
          text: zk-cluster
          value: zk-cluster
        datasource: ${datasource}
        definition: label_values(kubedb_com_zookeeper_status_phase{namespace=~"$namespace"},app)
        description: null
        error: null
        hide: 0
        includeAll: false
        label: ""
        multi: false
        name: app
        options: []
        query:
          query: label_values(kubedb_com_zookeeper_status_phase{namespace=~"$namespace"},app)
          refId: Prometheus-app-Variable-Query
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tags: []
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-6h
      to: now
    timepicker:
      refresh_intervals:
      - 5s
      - 10s
      - 30s
      - 1m
      - 5m
      - 15m
      - 30m
      - 1h
      - 2h
      - 1d
      time_options:
      - 5m
      - 15m
      - 1h
      - 6h
      - 12h
      - 24h
      - 2d
      - 7d
      - 30d
    timezone: ""
    title: KubeDB / ZooKeeper / Summary
    version: 3
  overwrite: true
  templatize:
    title: false
    datasource: false
