---
# Source: oada/templates/service-account.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  namespace: default
  name: service-account-my-release
  labels:
    helm.sh/chart: oada-3.4.0
    app.kubernetes.io/name: oada
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "3.10.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/part-of: oada
---
# Source: oada/templates/users.yaml
apiVersion: v1
kind: Secret
metadata:
  namespace: default
  name: user-admin-my-release
  labels:
    app.kubernetes.io/component: users
    helm.sh/chart: oada-3.4.0
    app.kubernetes.io/name: oada
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "3.10.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/part-of: oada
stringData:
  token: 7f097cd8-ddc5-4062-a64b-b6e5db2c0bdd
  header: >
    Authorization: Bearer 7f097cd8-ddc5-4062-a64b-b6e5db2c0bdd
---
# Source: oada/templates/configmap.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  namespace: default
  name: oada-configmap-my-release
  labels:
    app.kubernetes.io/component: oada-configmap
    helm.sh/chart: oada-3.4.0
    app.kubernetes.io/name: oada
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "3.10.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/part-of: oada
#immutable: true
data:
  #CONFIG: /oada.config.mjs
  DEBUG: "*"
  PINO_LEVEL: info
  PINO_LOKI: ""
  PROM_HOST: '::'
  DOMAIN: localhost
  # Have OADA http handle rate-limit until we can get k8s to do it
  RATE_LIMIT_ENABLED: "true"
  RATE_LIMIT_DRAFT_SPEC: "false"
  MAX_READ_REQUESTS: "20"
  MAX_WRITE_REQUESTS: "5"
  RATE_TIME_WINDOW: "1 second"
  NODE_OPTIONS: "$$INSPECT --enable-source-maps --unhandled-rejections=strict"
  
  ARANGODB_DATABASE: oada
  PROFILE_AQL: "0"
  
  WELLKNOWN_SUBSERVICES: http://auth-my-release
  NODE_ENV: production
---
# Source: oada/templates/grafana.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  namespace: default
  name: oada-arangodb-dashboard.json-my-release
  labels:
    app.kubernetes.io/component: oada-arangodb-dashboard.json
    # This ConfigMap is a grafana dashboard
    grafana_dashboard: "1"
    helm.sh/chart: oada-3.4.0
    app.kubernetes.io/name: oada
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "3.10.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/part-of: oada
  annotations:
    k8s-sidecar-target-directory: my-release
data:
  arangodb-dashboard.json: |-
    {
      "annotations": {
        "list": [
          {
            "builtIn": 1,
            "datasource": "-- Grafana --",
            "enable": true,
            "hide": true,
            "iconColor": "rgba(0, 211, 255, 1)",
            "name": "Annotations \u0026 Alerts",
            "type": "dashboard"
          }
        ]
      },
      "description": "ArangoDB kubernetes dashboard",
      "editable": false,
      "gnetId": null,
      "graphTooltip": 0,
      "links": [],
      "panels": [
        {
          "datasource": null,
          "gridPos": {
            "h": 6,
            "w": 24,
            "x": 0,
            "y": 0
          },
          "id": 16,
          "links": [],
          "options": {
            "fieldOptions": {
              "calcs": [
                "last"
              ],
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "max": 100,
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "orange",
                      "value": 50
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": [],
              "thresholds": [
                {
                  "color": "green",
                  "index": 0,
                  "value": null
                },
                {
                  "color": "red",
                  "index": 1,
                  "value": 80
                }
              ],
              "values": false
            },
            "orientation": "auto",
            "showThresholdLabels": true,
            "showThresholdMarkers": true
          },
          "pluginVersion": "6.6.2",
          "targets": [
            {
              "expr": "rate(arangodb_process_statistics_user_time[15s])*22",
              "format": "time_series",
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "refId": "A"
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "CPU Rate",
          "type": "gauge"
        },
        {
          "alert": {
            "alertRuleTags": {},
            "conditions": [
              {
                "evaluator": {
                  "params": [
                    12884901888
                  ],
                  "type": "gt"
                },
                "operator": {
                  "type": "and"
                },
                "query": {
                  "params": [
                    "A",
                    "5m",
                    "now"
                  ]
                },
                "reducer": {
                  "params": [],
                  "type": "avg"
                },
                "type": "query"
              }
            ],
            "executionErrorState": "alerting",
            "for": "5m",
            "frequency": "1m",
            "handler": 1,
            "message": "Virtual memory threshold reached!",
            "name": "Virtual Memory alert",
            "noDataState": "no_data",
            "notifications": []
          },
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "dashLength": 10,
          "dashes": false,
          "datasource": null,
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 5,
            "w": 12,
            "x": 0,
            "y": 6
          },
          "hiddenSeries": false,
          "id": 2,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "options": {
            "dataLinks": []
          },
          "percentage": false,
          "pluginVersion": "6.2.2",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "arangodb_process_statistics_virtual_memory_size",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "refId": "A"
            }
          ],
          "thresholds": [
            {
              "colorMode": "critical",
              "fill": true,
              "line": true,
              "op": "gt",
              "value": 12884901888
            }
          ],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Virtual Memory",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "alert": {
            "alertRuleTags": {},
            "conditions": [
              {
                "evaluator": {
                  "params": [
                    128
                  ],
                  "type": "gt"
                },
                "operator": {
                  "type": "and"
                },
                "query": {
                  "params": [
                    "A",
                    "5m",
                    "now"
                  ]
                },
                "reducer": {
                  "params": [],
                  "type": "avg"
                },
                "type": "query"
              }
            ],
            "executionErrorState": "alerting",
            "for": "5m",
            "frequency": "1m",
            "handler": 1,
            "message": "This is getting out of control",
            "name": "Threads alert",
            "noDataState": "no_data",
            "notifications": []
          },
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": null,
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 5,
            "w": 12,
            "x": 12,
            "y": 6
          },
          "hiddenSeries": false,
          "id": 12,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "options": {
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "arangodb_process_statistics_number_of_threads",
              "format": "time_series",
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "refId": "A"
            }
          ],
          "thresholds": [
            {
              "colorMode": "critical",
              "fill": true,
              "line": true,
              "op": "gt",
              "value": 128
            }
          ],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Threads",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "short",
              "label": "nproc",
              "logBase": 1,
              "max": "192",
              "min": "0",
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": "auto",
              "min": "0",
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": null,
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 5,
            "w": 12,
            "x": 0,
            "y": 11
          },
          "hiddenSeries": false,
          "id": 4,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "options": {
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "arangodb_process_statistics_number_of_threads",
              "format": "time_series",
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Requests",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": null,
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 5,
            "w": 12,
            "x": 12,
            "y": 11
          },
          "hiddenSeries": false,
          "id": 14,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "options": {
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "arangodb_client_connection_statistics_client_connections",
              "format": "time_series",
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Client connections",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": null,
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 5,
            "w": 12,
            "x": 0,
            "y": 16
          },
          "hiddenSeries": false,
          "id": 10,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "options": {
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "arangodb_process_statistics_resident_set_size",
              "format": "time_series",
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Resident Set size",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": null,
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 5,
            "w": 12,
            "x": 12,
            "y": 16
          },
          "hiddenSeries": false,
          "id": 18,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "nullPointMode": "null",
          "options": {
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "rate(arangodb_agent_write_ok[15s])",
              "legendFormat": "{{instance}}",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Agency write",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": null,
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 5,
            "w": 12,
            "x": 0,
            "y": 21
          },
          "hiddenSeries": false,
          "id": 22,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "nullPointMode": "null",
          "options": {
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "rocksdb_live_sst_files_size",
              "legendFormat": "{{instance}}",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "RocksDB sst file size",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": null,
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 5,
            "w": 12,
            "x": 12,
            "y": 21
          },
          "hiddenSeries": false,
          "id": 20,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "nullPointMode": "null",
          "options": {
            "dataLinks": []
          },
          "percentage": false,
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "rate(rocksdb_block_cache_usage[15s])",
              "legendFormat": "{{instance}}",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "RocksDB cache access rate",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        }
      ],
      "refresh": "10s",
      "schemaVersion": 22,
      "style": "dark",
      "tags": [
        "oada"
      ],
      "templating": {
        "list": []
      },
      "time": {
        "from": "now-1h",
        "to": "now"
      },
      "timepicker": {
        "refresh_intervals": [
          "5s",
          "10s",
          "30s",
          "1m",
          "5m",
          "15m",
          "30m",
          "1h",
          "2h",
          "1d"
        ],
        "time_options": [
          "5m",
          "15m",
          "1h",
          "6h",
          "12h",
          "24h",
          "2d",
          "7d",
          "30d"
        ]
      },
      "timezone": "browser",
      "title": "ArangoDB",
      "uid": "MEWD4r4Zz",
      "version": 19
    }
---
# Source: oada/templates/grafana.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  namespace: default
  name: oada-nodejs-dashboard.json-my-release
  labels:
    app.kubernetes.io/component: oada-nodejs-dashboard.json
    # This ConfigMap is a grafana dashboard
    grafana_dashboard: "1"
    helm.sh/chart: oada-3.4.0
    app.kubernetes.io/name: oada
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "3.10.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/part-of: oada
  annotations:
    k8s-sidecar-target-directory: my-release
data:
  nodejs-dashboard.json: |-
    {
      "__inputs": [],
      "__requires": [
        {
          "id": "grafana",
          "name": "Grafana",
          "type": "grafana",
          "version": "6.0.1"
        },
        {
          "id": "graph",
          "name": "Graph",
          "type": "panel",
          "version": "5.0.0"
        },
        {
          "id": "prometheus",
          "name": "Prometheus",
          "type": "datasource",
          "version": "5.0.0"
        },
        {
          "id": "singlestat",
          "name": "Singlestat",
          "type": "panel",
          "version": "5.0.0"
        }
      ],
      "annotations": {
        "list": [
          {
            "builtIn": 1,
            "datasource": "-- Grafana --",
            "enable": true,
            "hide": true,
            "iconColor": "rgba(0, 211, 255, 1)",
            "name": "Annotations \u0026 Alerts",
            "type": "dashboard"
          }
        ]
      },
      "description": "node.js prometheus client basic metrics",
      "editable": false,
      "gnetId": 11159,
      "graphTooltip": 0,
      "iteration": 1573392431370,
      "links": [],
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "fill": 1,
          "gridPos": {
            "h": 7,
            "w": 10,
            "x": 0,
            "y": 0
          },
          "id": 6,
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": true,
            "max": true,
            "min": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "irate(process_cpu_user_seconds_total{instance=~\"$instance\"}[2m]) * 100",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "User CPU - {{instance}}",
              "refId": "A"
            },
            {
              "expr": "irate(process_cpu_system_seconds_total{instance=~\"$instance\"}[2m]) * 100",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "Sys CPU - {{instance}}",
              "refId": "B"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Process CPU Usage",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "percent",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "fill": 1,
          "gridPos": {
            "h": 7,
            "w": 9,
            "x": 10,
            "y": 0
          },
          "id": 8,
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": true,
            "max": true,
            "min": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "nodejs_eventloop_lag_seconds{instance=~\"$instance\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Event Loop Lag",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "cacheTimeout": null,
          "colorBackground": false,
          "colorValue": false,
          "colors": [
            "#299c46",
            "rgba(237, 129, 40, 0.89)",
            "#d44a3a"
          ],
          "format": "none",
          "gauge": {
            "maxValue": 100,
            "minValue": 0,
            "show": false,
            "thresholdLabels": false,
            "thresholdMarkers": true
          },
          "gridPos": {
            "h": 3,
            "w": 5,
            "x": 19,
            "y": 0
          },
          "id": 2,
          "interval": "",
          "links": [],
          "mappingType": 1,
          "mappingTypes": [
            {
              "name": "value to text",
              "value": 1
            },
            {
              "name": "range to text",
              "value": 2
            }
          ],
          "maxDataPoints": 100,
          "nullPointMode": "connected",
          "nullText": null,
          "postfix": "",
          "postfixFontSize": "50%",
          "prefix": "",
          "prefixFontSize": "50%",
          "rangeMaps": [
            {
              "from": "null",
              "text": "N/A",
              "to": "null"
            }
          ],
          "sparkline": {
            "fillColor": "rgba(31, 118, 189, 0.18)",
            "full": false,
            "lineColor": "rgb(31, 120, 193)",
            "show": false
          },
          "tableColumn": "__name__",
          "targets": [
            {
              "expr": "sum(nodejs_version_info{instance=~\"$instance\"}) by (version)",
              "format": "time_series",
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{version}}",
              "refId": "A"
            }
          ],
          "thresholds": "",
          "timeFrom": null,
          "timeShift": null,
          "title": "Node.js Version",
          "type": "singlestat",
          "valueFontSize": "80%",
          "valueMaps": [
            {
              "op": "=",
              "text": "N/A",
              "value": "null"
            }
          ],
          "valueName": "name"
        },
        {
          "cacheTimeout": null,
          "colorBackground": false,
          "colorValue": false,
          "colors": [
            "#299c46",
            "rgba(237, 129, 40, 0.89)",
            "#d44a3a"
          ],
          "format": "none",
          "gauge": {
            "maxValue": 100,
            "minValue": 0,
            "show": false,
            "thresholdLabels": false,
            "thresholdMarkers": true
          },
          "gridPos": {
            "h": 4,
            "w": 5,
            "x": 19,
            "y": 3
          },
          "id": 4,
          "interval": null,
          "links": [],
          "mappingType": 1,
          "mappingTypes": [
            {
              "name": "value to text",
              "value": 1
            },
            {
              "name": "range to text",
              "value": 2
            }
          ],
          "maxDataPoints": 100,
          "nullPointMode": "connected",
          "nullText": null,
          "postfix": "",
          "postfixFontSize": "50%",
          "prefix": "",
          "prefixFontSize": "50%",
          "rangeMaps": [
            {
              "from": "null",
              "text": "N/A",
              "to": "null"
            }
          ],
          "sparkline": {
            "fillColor": "rgba(31, 118, 189, 0.18)",
            "full": false,
            "lineColor": "#F2495C",
            "show": true
          },
          "tableColumn": "",
          "targets": [
            {
              "expr": "sum(changes(process_start_time_seconds{instance=~\"$instance\"}[1m]))",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "refId": "A"
            }
          ],
          "thresholds": "",
          "timeFrom": null,
          "timeShift": null,
          "title": "Process Restart Times",
          "type": "singlestat",
          "valueFontSize": "80%",
          "valueMaps": [
            {
              "op": "=",
              "text": "N/A",
              "value": "null"
            }
          ],
          "valueName": "current"
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "fill": 1,
          "gridPos": {
            "h": 7,
            "w": 16,
            "x": 0,
            "y": 7
          },
          "id": 7,
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": true,
            "max": true,
            "min": true,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "process_resident_memory_bytes{instance=~\"$instance\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "Process Memory - {{instance}}",
              "refId": "A"
            },
            {
              "expr": "nodejs_heap_size_total_bytes{instance=~\"$instance\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "Heap Total - {{instance}}",
              "refId": "B"
            },
            {
              "expr": "nodejs_heap_size_used_bytes{instance=~\"$instance\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "Heap Used - {{instance}}",
              "refId": "C"
            },
            {
              "expr": "nodejs_external_memory_bytes{instance=~\"$instance\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "External Memory - {{instance}}",
              "refId": "D"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Process Memory Usage",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "fill": 1,
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 16,
            "y": 7
          },
          "id": 9,
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": true,
            "max": true,
            "min": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "nodejs_active_handles_total{instance=~\"$instance\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "Active Handler - {{instance}}",
              "refId": "A"
            },
            {
              "expr": "nodejs_active_requests_total{instance=~\"$instance\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "Active Request - {{instance}}",
              "refId": "B"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Active Handlers/Requests Total",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "fill": 1,
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 0,
            "y": 14
          },
          "id": 10,
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": true,
            "max": true,
            "min": true,
            "rightSide": false,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "nodejs_heap_space_size_total_bytes{instance=~\"$instance\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "Heap Total - {{instance}} - {{space}}",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Heap Total Detail",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "fill": 1,
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 8,
            "y": 14
          },
          "id": 11,
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": true,
            "max": true,
            "min": true,
            "rightSide": false,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "nodejs_heap_space_size_used_bytes{instance=~\"$instance\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "Heap Used - {{instance}} - {{space}}",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Heap Used Detail",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "fill": 1,
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 16,
            "y": 14
          },
          "id": 12,
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": true,
            "max": true,
            "min": true,
            "rightSide": false,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "nodejs_heap_space_size_available_bytes{instance=~\"$instance\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "Heap Used - {{instance}} - {{space}}",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Heap Available Detail",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        }
      ],
      "schemaVersion": 18,
      "style": "dark",
      "tags": [
        "nodejs",
        "oada"
      ],
      "templating": {
        "list": [
          {
            "allValue": null,
            "current": {},
            "definition": "label_values(nodejs_version_info, instance)",
            "hide": 0,
            "includeAll": true,
            "label": "instance",
            "multi": true,
            "name": "instance",
            "options": [],
            "query": "label_values(nodejs_version_info, instance)",
            "refresh": 1,
            "regex": "",
            "skipUrlSync": false,
            "sort": 1,
            "tagValuesQuery": "",
            "tags": [],
            "tagsQuery": "",
            "type": "query",
            "useTags": false
          }
        ]
      },
      "time": {
        "from": "now-1h",
        "to": "now"
      },
      "timepicker": {
        "refresh_intervals": [
          "5s",
          "10s",
          "30s",
          "1m",
          "5m",
          "15m",
          "30m",
          "1h",
          "2h",
          "1d"
        ],
        "time_options": [
          "5m",
          "15m",
          "1h",
          "6h",
          "12h",
          "24h",
          "2d",
          "7d",
          "30d"
        ]
      },
      "timezone": "",
      "title": "NodeJS Application Dashboard",
      "uid": "PTSqcpJWk",
      "version": 4
    }
---
# Source: oada/templates/grafana.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  namespace: default
  name: oada-redpanda-dashboard.json-my-release
  labels:
    app.kubernetes.io/component: oada-redpanda-dashboard.json
    # This ConfigMap is a grafana dashboard
    grafana_dashboard: "1"
    helm.sh/chart: oada-3.4.0
    app.kubernetes.io/name: oada
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "3.10.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/part-of: oada
  annotations:
    k8s-sidecar-target-directory: my-release
data:
  redpanda-dashboard.json: |-
    {
      "annotations": {
        "list": null
      },
      "editable": false,
      "links": null,
      "panels": [
        {
          "content": "\u003ch1 style=\"color:#87CEEB; border-bottom: 3px solid #87CEEB;\"\u003eRedpanda Summary\u003c/h1\u003e",
          "error": false,
          "gridPos": {
            "h": 2,
            "w": 24,
            "x": 0,
            "y": 0
          },
          "id": 1,
          "links": null,
          "mode": "html",
          "span": 1,
          "title": "",
          "transparent": true,
          "type": "text"
        },
        {
          "cacheTimeout": null,
          "colorBackground": false,
          "colorValue": true,
          "colors": [
            "#299c46",
            "rgba(237, 129, 40, 0.89)",
            "#d44a3a"
          ],
          "error": false,
          "format": "none",
          "gauge": {
            "maxValue": 100,
            "minValue": 0,
            "show": false,
            "thresholdLabels": false,
            "thresholdMarkers": true
          },
          "gridPos": {
            "h": 6,
            "w": 2,
            "x": 0,
            "y": 2
          },
          "id": 2,
          "interval": null,
          "links": [],
          "mappingType": 1,
          "mappingTypes": [
            {
              "name": "value to text",
              "value": 1
            },
            {
              "name": "range to text",
              "value": 2
            }
          ],
          "maxDataPoints": 100,
          "nullPointMode": "connected",
          "nullText": null,
          "postfix": "",
          "postfixFontSize": "50%",
          "prefix": "",
          "prefixFontSize": "50%",
          "rangeMaps": [
            {
              "from": "null",
              "text": "N/A",
              "to": "null"
            }
          ],
          "span": 1,
          "sparkline": {
            "fillColor": "rgba(31, 118, 189, 0.18)",
            "full": false,
            "lineColor": "rgb(31, 120, 193)",
            "show": false,
            "ymax": null,
            "ymin": null
          },
          "tableColumn": "",
          "targets": [
            {
              "expr": "count by (app) (vectorized_application_uptime)",
              "intervalFactor": 1,
              "legendFormat": "Nodes Up",
              "refId": "",
              "step": 40
            }
          ],
          "thresholds": "",
          "timeFrom": null,
          "timeShift": null,
          "title": "Nodes Up",
          "transparent": true,
          "type": "singlestat",
          "valueFontSize": "200%",
          "valueMaps": [
            {
              "op": "=",
              "text": "N/A",
              "value": "null"
            }
          ],
          "valueName": "current"
        },
        {
          "cacheTimeout": null,
          "colorBackground": false,
          "colorValue": true,
          "colors": [
            "#299c46",
            "rgba(237, 129, 40, 0.89)",
            "#d44a3a"
          ],
          "error": false,
          "format": "none",
          "gauge": {
            "maxValue": 100,
            "minValue": 0,
            "show": false,
            "thresholdLabels": false,
            "thresholdMarkers": true
          },
          "gridPos": {
            "h": 6,
            "w": 2,
            "x": 2,
            "y": 8
          },
          "id": 3,
          "interval": null,
          "links": [],
          "mappingType": 1,
          "mappingTypes": [
            {
              "name": "value to text",
              "value": 1
            },
            {
              "name": "range to text",
              "value": 2
            }
          ],
          "maxDataPoints": 100,
          "nullPointMode": "connected",
          "nullText": null,
          "postfix": "",
          "postfixFontSize": "50%",
          "prefix": "",
          "prefixFontSize": "50%",
          "rangeMaps": [
            {
              "from": "null",
              "text": "N/A",
              "to": "null"
            }
          ],
          "span": 1,
          "sparkline": {
            "fillColor": "rgba(31, 118, 189, 0.18)",
            "full": false,
            "lineColor": "rgb(31, 120, 193)",
            "show": false,
            "ymax": null,
            "ymin": null
          },
          "tableColumn": "",
          "targets": [
            {
              "expr": "count(count by (topic,partition) (vectorized_storage_log_partition_size{namespace=\"kafka\"}))",
              "legendFormat": "Partition count",
              "refId": ""
            }
          ],
          "thresholds": "",
          "timeFrom": null,
          "timeShift": null,
          "title": "Partitions",
          "transparent": true,
          "type": "singlestat",
          "valueFontSize": "200%",
          "valueMaps": [
            {
              "op": "=",
              "text": "N/A",
              "value": "null"
            }
          ],
          "valueName": "current"
        },
        {
          "aliasColors": {},
          "bars": false,
          "error": false,
          "fill": 1,
          "gridPos": {
            "h": 6,
            "w": 10,
            "x": 4,
            "y": 14
          },
          "id": 4,
          "interval": "1m",
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 2,
          "links": null,
          "nullPointMode": "null as zero",
          "renderer": "flot",
          "span": 4,
          "steppedLine": true,
          "targets": [
            {
              "expr": "histogram_quantile(0.95, sum(rate(vectorized_kafka_rpc_dispatch_handler_latency_bucket{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by (le, $aggr_criteria))",
              "format": "time_series",
              "intervalFactor": 2,
              "legendFormat": "node: {{instance}}, shard: {{shard}}",
              "refId": "A",
              "step": 10
            }
          ],
          "thresholds": null,
          "title": "kafka_rpc: Latency  (p95)",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "value_type": "individual"
          },
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "format": "",
            "logBase": 0,
            "mode": "time",
            "show": true
          },
          "yaxes": [
            {
              "format": "s",
              "label": null,
              "logBase": 1,
              "min": 0,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "min": 0,
              "show": true
            }
          ]
        },
        {
          "aliasColors": {},
          "bars": false,
          "error": false,
          "fill": 1,
          "gridPos": {
            "h": 6,
            "w": 10,
            "x": 14,
            "y": 14
          },
          "id": 5,
          "interval": "1m",
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 2,
          "links": null,
          "nullPointMode": "null as zero",
          "renderer": "flot",
          "span": 4,
          "steppedLine": true,
          "targets": [
            {
              "expr": "histogram_quantile(0.99, sum(rate(vectorized_kafka_rpc_dispatch_handler_latency_bucket{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by (le, $aggr_criteria))",
              "format": "time_series",
              "intervalFactor": 2,
              "legendFormat": "node: {{instance}}, shard: {{shard}}",
              "refId": "A",
              "step": 10
            }
          ],
          "thresholds": null,
          "title": "kafka_rpc: Latency  (p99)",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "value_type": "individual"
          },
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "format": "",
            "logBase": 0,
            "mode": "time",
            "show": true
          },
          "yaxes": [
            {
              "format": "s",
              "label": null,
              "logBase": 1,
              "min": 0,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "min": 0,
              "show": true
            }
          ]
        },
        {
          "content": "\u003ch1 style=\"color:#87CEEB; border-bottom: 3px solid #87CEEB;\"\u003eInternal RPC Latency\u003c/h1\u003e",
          "error": false,
          "gridPos": {
            "h": 2,
            "w": 12,
            "x": 0,
            "y": 20
          },
          "id": 6,
          "links": null,
          "mode": "html",
          "span": 1,
          "title": "",
          "transparent": true,
          "type": "text"
        },
        {
          "aliasColors": {},
          "bars": false,
          "error": false,
          "fill": 1,
          "gridPos": {
            "h": 6,
            "w": 6,
            "x": 0,
            "y": 22
          },
          "id": 7,
          "interval": "1m",
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 2,
          "links": null,
          "nullPointMode": "null as zero",
          "renderer": "flot",
          "span": 4,
          "steppedLine": true,
          "targets": [
            {
              "expr": "histogram_quantile(0.95, sum(rate(vectorized_internal_rpc_dispatch_handler_latency_bucket{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by (le, $aggr_criteria))",
              "format": "time_series",
              "intervalFactor": 2,
              "legendFormat": "node: {{instance}}, shard: {{shard}}",
              "refId": "A",
              "step": 10
            }
          ],
          "thresholds": null,
          "title": "internal_rpc: Latency  (p95)",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "value_type": "individual"
          },
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "format": "",
            "logBase": 0,
            "mode": "time",
            "show": true
          },
          "yaxes": [
            {
              "format": "s",
              "label": null,
              "logBase": 1,
              "min": 0,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "min": 0,
              "show": true
            }
          ]
        },
        {
          "aliasColors": {},
          "bars": false,
          "error": false,
          "fill": 1,
          "gridPos": {
            "h": 6,
            "w": 6,
            "x": 6,
            "y": 22
          },
          "id": 8,
          "interval": "1m",
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 2,
          "links": null,
          "nullPointMode": "null as zero",
          "renderer": "flot",
          "span": 4,
          "steppedLine": true,
          "targets": [
            {
              "expr": "histogram_quantile(0.99, sum(rate(vectorized_internal_rpc_dispatch_handler_latency_bucket{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by (le, $aggr_criteria))",
              "format": "time_series",
              "intervalFactor": 2,
              "legendFormat": "node: {{instance}}, shard: {{shard}}",
              "refId": "A",
              "step": 10
            }
          ],
          "thresholds": null,
          "title": "internal_rpc: Latency  (p99)",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "value_type": "individual"
          },
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "format": "",
            "logBase": 0,
            "mode": "time",
            "show": true
          },
          "yaxes": [
            {
              "format": "s",
              "label": null,
              "logBase": 1,
              "min": 0,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "min": 0,
              "show": true
            }
          ]
        },
        {
          "content": "\u003ch1 style=\"color:#87CEEB; border-bottom: 3px solid #87CEEB;\"\u003eThroughput\u003c/h1\u003e",
          "error": false,
          "gridPos": {
            "h": 2,
            "w": 12,
            "x": 12,
            "y": 20
          },
          "id": 9,
          "links": null,
          "mode": "html",
          "span": 1,
          "title": "",
          "transparent": true,
          "type": "text"
        },
        {
          "aliasColors": {},
          "bars": false,
          "error": false,
          "fill": 1,
          "gridPos": {
            "h": 6,
            "w": 6,
            "x": 12,
            "y": 22
          },
          "id": 10,
          "interval": "1m",
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 2,
          "links": null,
          "nullPointMode": "null",
          "renderer": "flot",
          "span": 4,
          "steppedLine": false,
          "targets": [
            {
              "expr": "sum(irate(vectorized_storage_log_read_bytes{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
              "format": "time_series",
              "intervalFactor": 2,
              "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
              "refId": "",
              "step": 10
            }
          ],
          "thresholds": null,
          "title": "Rate - Total number of bytes read",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "value_type": "cumulative"
          },
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "format": "",
            "logBase": 0,
            "mode": "time",
            "show": true
          },
          "yaxes": [
            {
              "format": "Bps",
              "label": null,
              "logBase": 1,
              "min": 0,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "min": 0,
              "show": true
            }
          ]
        },
        {
          "aliasColors": {},
          "bars": false,
          "error": false,
          "fill": 1,
          "gridPos": {
            "h": 6,
            "w": 6,
            "x": 18,
            "y": 22
          },
          "id": 11,
          "interval": "1m",
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 2,
          "links": null,
          "nullPointMode": "null",
          "renderer": "flot",
          "span": 4,
          "steppedLine": false,
          "targets": [
            {
              "expr": "sum(irate(vectorized_storage_log_written_bytes{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
              "format": "time_series",
              "intervalFactor": 2,
              "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
              "refId": "",
              "step": 10
            }
          ],
          "thresholds": null,
          "title": "Rate - Total number of bytes written",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "value_type": "cumulative"
          },
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "format": "",
            "logBase": 0,
            "mode": "time",
            "show": true
          },
          "yaxes": [
            {
              "format": "Bps",
              "label": null,
              "logBase": 1,
              "min": 0,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "min": 0,
              "show": true
            }
          ]
        },
        {
          "collapsed": true,
          "error": false,
          "gridPos": {
            "h": 6,
            "w": 24,
            "x": 0,
            "y": 28
          },
          "id": 34,
          "links": null,
          "panels": [
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 28
              },
              "id": 33,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_httpd_read_errors{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, service: {{service}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - The total number of errors while reading http requests",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 28
              },
              "id": 35,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_httpd_reply_errors{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, service: {{service}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - The total number of errors while replying to http",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 28
              },
              "id": 39,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_internal_rpc_connection_close_errors{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - internal_rpc: Number of errors when shutting down the connection",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 28
              },
              "id": 48,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_internal_rpc_method_not_found_errors{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - internal_rpc: Number of requests with not available RPC method",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 28
              },
              "id": 54,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_internal_rpc_service_errors{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - internal_rpc: Number of service errors",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 28
              },
              "id": 76,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_kafka_rpc_connection_close_errors{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - kafka_rpc: Number of errors when shutting down the connection",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 28
              },
              "id": 84,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_kafka_rpc_method_not_found_errors{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - kafka_rpc: Number of requests with not available RPC method",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 28
              },
              "id": 90,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_kafka_rpc_service_errors{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - kafka_rpc: Number of service errors",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 28
              },
              "id": 109,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_raft_heartbeat_requests_errors{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Number of failed heartbeat requests",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 28
              },
              "id": 116,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_raft_recovery_requests_errors{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Number of failed recovery requests",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 28
              },
              "id": 120,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_raft_replicate_request_errors{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Number of failed replicate requests",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 28
              },
              "id": 126,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_reactor_aio_errors{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Total aio errors",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 28
              },
              "id": 168,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_storage_log_batch_parse_errors{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Number of batch parsing (reading) errors",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 28
              },
              "id": 169,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_storage_log_batch_write_errors{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Number of batch write errors",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            }
          ],
          "span": 0,
          "title": "errors",
          "transparent": false,
          "type": "row"
        },
        {
          "collapsed": true,
          "error": false,
          "gridPos": {
            "h": 6,
            "w": 24,
            "x": 0,
            "y": 29
          },
          "id": 56,
          "links": null,
          "panels": [
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 29
              },
              "id": 55,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(vectorized_io_queue_delay{instance=~\"$node\",shard=~\"$node_shard\"}) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, class: {{class}}, ioshard: {{ioshard}}, mountpoint: {{mountpoint}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "random delay time in the queue",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 29
              },
              "id": 57,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(vectorized_io_queue_disk_queue_length{instance=~\"$node\",shard=~\"$node_shard\"}) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, class: {{class}}, ioshard: {{ioshard}}, mountpoint: {{mountpoint}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Number of requests in the disk",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 29
              },
              "id": 58,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(vectorized_io_queue_queue_length{instance=~\"$node\",shard=~\"$node_shard\"}) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, class: {{class}}, ioshard: {{ioshard}}, mountpoint: {{mountpoint}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Number of requests in the queue",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 29
              },
              "id": 59,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(vectorized_io_queue_shares{instance=~\"$node\",shard=~\"$node_shard\"}) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, class: {{class}}, ioshard: {{ioshard}}, mountpoint: {{mountpoint}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "current amount of shares",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 29
              },
              "id": 60,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_io_queue_starvation_time_sec{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, class: {{class}}, ioshard: {{ioshard}}, mountpoint: {{mountpoint}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Total time spent starving for disk",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 29
              },
              "id": 61,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_io_queue_total_bytes{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, class: {{class}}, ioshard: {{ioshard}}, mountpoint: {{mountpoint}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Total bytes passed in the queue",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "Bps",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 29
              },
              "id": 62,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_io_queue_total_delay_sec{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, class: {{class}}, ioshard: {{ioshard}}, mountpoint: {{mountpoint}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Total time spent in the queue",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 29
              },
              "id": 63,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_io_queue_total_exec_sec{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, class: {{class}}, ioshard: {{ioshard}}, mountpoint: {{mountpoint}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Total time spent in disk",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 29
              },
              "id": 64,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_io_queue_total_operations{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, class: {{class}}, ioshard: {{ioshard}}, mountpoint: {{mountpoint}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Total operations passed in the queue",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 29
              },
              "id": 65,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_io_queue_total_read_bytes{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, class: {{class}}, ioshard: {{ioshard}}, mountpoint: {{mountpoint}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Total read bytes passed in the queue",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "Bps",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 29
              },
              "id": 66,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_io_queue_total_read_ops{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, class: {{class}}, ioshard: {{ioshard}}, mountpoint: {{mountpoint}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Total read operations passed in the queue",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 29
              },
              "id": 67,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_io_queue_total_write_bytes{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, class: {{class}}, ioshard: {{ioshard}}, mountpoint: {{mountpoint}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Total write bytes passed in the queue",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "Bps",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 29
              },
              "id": 68,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_io_queue_total_write_ops{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, class: {{class}}, ioshard: {{ioshard}}, mountpoint: {{mountpoint}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Total write operations passed in the queue",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            }
          ],
          "span": 0,
          "title": "io_queue",
          "transparent": false,
          "type": "row"
        },
        {
          "collapsed": true,
          "error": false,
          "gridPos": {
            "h": 6,
            "w": 24,
            "x": 0,
            "y": 30
          },
          "id": 75,
          "links": null,
          "panels": [
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 30
              },
              "id": 74,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(vectorized_kafka_rpc_active_connections{instance=~\"$node\",shard=~\"$node_shard\"}) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "kafka_rpc: Currently active connections",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 30
              },
              "id": 77,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_kafka_rpc_connections_rejected{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - kafka_rpc: Number of connections rejected for hitting connection limits",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 30
              },
              "id": 78,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_kafka_rpc_connections_wait_rate{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - kafka_rpc: Number of connections are blocked by connection rate",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 30
              },
              "id": 79,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_kafka_rpc_connects{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - kafka_rpc: Number of accepted connections",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 30
              },
              "id": 80,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_kafka_rpc_consumed_mem_bytes{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - kafka_rpc: Memory consumed by request processing",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "Bps",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 30
              },
              "id": 81,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_kafka_rpc_corrupted_headers{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - kafka_rpc: Number of requests with corrupted headers",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 30
              },
              "id": 82,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(vectorized_kafka_rpc_dispatch_handler_latency{instance=~\"$node\",shard=~\"$node_shard\"}) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "kafka_rpc: Latency ",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 30
              },
              "id": 83,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_kafka_rpc_max_service_mem_bytes{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - kafka_rpc: Maximum memory allowed for RPC",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "Bps",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 30
              },
              "id": 85,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_kafka_rpc_received_bytes{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - kafka_rpc: Number of bytes received from the clients in valid requests",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "Bps",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 30
              },
              "id": 86,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_kafka_rpc_requests_blocked_memory{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - kafka_rpc: Number of requests blocked in memory backpressure",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 30
              },
              "id": 87,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_kafka_rpc_requests_completed{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - kafka_rpc: Number of successful requests",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 30
              },
              "id": 88,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(vectorized_kafka_rpc_requests_pending{instance=~\"$node\",shard=~\"$node_shard\"}) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "kafka_rpc: Number of requests being processed by server",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 30
              },
              "id": 89,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_kafka_rpc_sent_bytes{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - kafka_rpc: Number of bytes sent to clients",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "Bps",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            }
          ],
          "span": 0,
          "title": "kafka_rpc",
          "transparent": false,
          "type": "row"
        },
        {
          "collapsed": true,
          "error": false,
          "gridPos": {
            "h": 6,
            "w": 24,
            "x": 0,
            "y": 31
          },
          "id": 96,
          "links": null,
          "panels": [
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 31
              },
              "id": 95,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_memory_allocated_memory{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Allocated memory size in bytes",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 31
              },
              "id": 97,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_memory_cross_cpu_free_operations{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Total number of cross cpu free",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 31
              },
              "id": 98,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_memory_free_memory{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Free memeory size in bytes",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 31
              },
              "id": 99,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_memory_free_operations{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Total number of free operations",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 31
              },
              "id": 100,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(vectorized_memory_malloc_live_objects{instance=~\"$node\",shard=~\"$node_shard\"}) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Number of live objects",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 31
              },
              "id": 101,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_memory_malloc_operations{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Total number of malloc operations",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 31
              },
              "id": 102,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_memory_reclaims_operations{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Total reclaims operations",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 31
              },
              "id": 103,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_memory_total_memory{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Total memory size in bytes",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            }
          ],
          "span": 0,
          "title": "memory",
          "transparent": false,
          "type": "row"
        },
        {
          "collapsed": true,
          "error": false,
          "gridPos": {
            "h": 6,
            "w": 24,
            "x": 0,
            "y": 32
          },
          "id": 13,
          "links": null,
          "panels": [
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 32
              },
              "id": 12,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(vectorized_alien_receive_batch_queue_length{instance=~\"$node\",shard=~\"$node_shard\"}) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Current receive batch queue length",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 32
              },
              "id": 14,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_alien_total_received_messages{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Total number of received messages",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 32
              },
              "id": 15,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_alien_total_sent_messages{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Total number of sent messages",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 32
              },
              "id": 16,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(vectorized_application_build{instance=~\"$node\",shard=~\"$node_shard\"}) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, revision: {{revision}}, shard: {{shard}}, version: {{version}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Redpanda build information",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 32
              },
              "id": 17,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(vectorized_application_uptime{instance=~\"$node\",shard=~\"$node_shard\"}) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Redpanda uptime in milliseconds",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 32
              },
              "id": 18,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(vectorized_cluster_controller_pending_partition_operations{instance=~\"$node\",shard=~\"$node_shard\"}) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Number of partitions with ongoing/requested operations",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 32
              },
              "id": 19,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(vectorized_cluster_members_backend_queued_node_operations{instance=~\"$node\",shard=~\"$node_shard\"}) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Number of queued node operations",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 32
              },
              "id": 20,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_cluster_partition_bytes_fetched_total{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Total number of bytes fetched",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "Bps",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 32
              },
              "id": 21,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_cluster_partition_bytes_produced_total{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Total number of bytes produced",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "Bps",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 32
              },
              "id": 22,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(vectorized_cluster_partition_committed_offset{instance=~\"$node\",shard=~\"$node_shard\"}) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Partition committed offset. i.e. safely persisted on majority of replicas",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 32
              },
              "id": 23,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(vectorized_cluster_partition_end_offset{instance=~\"$node\",shard=~\"$node_shard\"}) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Last offset stored by current partition on this node",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 32
              },
              "id": 24,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(vectorized_cluster_partition_high_watermark{instance=~\"$node\",shard=~\"$node_shard\"}) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Partion high watermark i.e. highest consumable offset",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 32
              },
              "id": 25,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(vectorized_cluster_partition_last_stable_offset{instance=~\"$node\",shard=~\"$node_shard\"}) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Last stable offset",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 32
              },
              "id": 26,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(vectorized_cluster_partition_leader{instance=~\"$node\",shard=~\"$node_shard\"}) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Flag indicating if this partition instance is a leader",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 32
              },
              "id": 27,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(vectorized_cluster_partition_leader_id{instance=~\"$node\",shard=~\"$node_shard\"}) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Id of current partition leader",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 32
              },
              "id": 28,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_cluster_partition_records_fetched{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Total number of records fetched",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 32
              },
              "id": 29,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_cluster_partition_records_produced{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Total number of records produced",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 32
              },
              "id": 30,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(vectorized_cluster_partition_under_replicated_replicas{instance=~\"$node\",shard=~\"$node_shard\"}) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Number of under replicated replicas",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 32
              },
              "id": 31,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(vectorized_httpd_connections_current{instance=~\"$node\",shard=~\"$node_shard\"}) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, service: {{service}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "The current number of open  connections",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 32
              },
              "id": 32,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_httpd_connections_total{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, service: {{service}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - The total number of connections opened",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 32
              },
              "id": 36,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_httpd_requests_served{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, service: {{service}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - The total number of http requests served",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 32
              },
              "id": 69,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(vectorized_kafka_fetch_sessions_cache_mem_usage_bytes{instance=~\"$node\",shard=~\"$node_shard\"}) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Fetch sessions cache memory usage in bytes",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 32
              },
              "id": 70,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(vectorized_kafka_fetch_sessions_cache_sessions_count{instance=~\"$node\",shard=~\"$node_shard\"}) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Total number of fetch sessions",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 32
              },
              "id": 71,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(vectorized_kafka_group_offset{instance=~\"$node\",shard=~\"$node_shard\"}) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, group: {{group}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Group topic partition offset",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 32
              },
              "id": 72,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(vectorized_kafka_latency_fetch_latency_us{instance=~\"$node\",shard=~\"$node_shard\"}) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, latency_metric: {{latency_metric}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Fetch Latency",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 32
              },
              "id": 73,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(vectorized_kafka_latency_produce_latency_us{instance=~\"$node\",shard=~\"$node_shard\"}) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, latency_metric: {{latency_metric}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Produce Latency",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 32
              },
              "id": 91,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_leader_balancer_leader_transfer_error{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Number of errors attempting to transfer leader",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 32
              },
              "id": 92,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_leader_balancer_leader_transfer_no_improvement{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Number of times no balance improvement was found",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 32
              },
              "id": 93,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_leader_balancer_leader_transfer_succeeded{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Number of successful leader transfers",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 32
              },
              "id": 94,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_leader_balancer_leader_transfer_timeout{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Number of timeouts attempting to transfer leader",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 32
              },
              "id": 104,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(vectorized_pandaproxy_request_latency{instance=~\"$node\",shard=~\"$node_shard\"}) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, operation: {{operation}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Request latency",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 32
              },
              "id": 154,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_stall_detector_reported{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Total number of reported stalls, look in the traces for the exact reason",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            }
          ],
          "span": 0,
          "title": "others",
          "transparent": false,
          "type": "row"
        },
        {
          "collapsed": true,
          "error": false,
          "gridPos": {
            "h": 6,
            "w": 24,
            "x": 0,
            "y": 33
          },
          "id": 106,
          "links": null,
          "panels": [
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 33
              },
              "id": 105,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(vectorized_raft_configuration_change_in_progress{instance=~\"$node\",shard=~\"$node_shard\"}) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Indicates if current raft group configuration is in joint state i.e. configuration is being changed",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 33
              },
              "id": 107,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_raft_done_replicate_requests{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Number of finished replicate requests",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 33
              },
              "id": 108,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(vectorized_raft_group_count{instance=~\"$node\",shard=~\"$node_shard\"}) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Number of raft groups",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 33
              },
              "id": 110,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(vectorized_raft_leader_for{instance=~\"$node\",shard=~\"$node_shard\"}) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Number of groups for which node is a leader",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 33
              },
              "id": 111,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_raft_leadership_changes{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Number of leadership changes",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 33
              },
              "id": 112,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_raft_log_flushes{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Number of log flushes",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 33
              },
              "id": 113,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_raft_log_truncations{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Number of log truncations",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 33
              },
              "id": 114,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_raft_received_append_requests{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Number of append requests received",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 33
              },
              "id": 115,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_raft_received_vote_requests{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Number of vote requests received",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 33
              },
              "id": 117,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_raft_replicate_ack_all_requests{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Number of replicate requests with quorum ack consistency",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 33
              },
              "id": 118,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_raft_replicate_ack_leader_requests{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Number of replicate requests with leader ack consistency",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 33
              },
              "id": 119,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_raft_replicate_ack_none_requests{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Number of replicate requests with no ack consistency",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 33
              },
              "id": 121,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_raft_sent_vote_requests{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Number of vote requests sent",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            }
          ],
          "span": 0,
          "title": "raft",
          "transparent": false,
          "type": "row"
        },
        {
          "collapsed": true,
          "error": false,
          "gridPos": {
            "h": 6,
            "w": 24,
            "x": 0,
            "y": 34
          },
          "id": 123,
          "links": null,
          "panels": [
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 34
              },
              "id": 122,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_reactor_abandoned_failed_futures{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Total number of abandoned failed futures, futures destroyed while still containing an exception",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 34
              },
              "id": 124,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_reactor_aio_bytes_read{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Total aio-reads bytes",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "Bps",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 34
              },
              "id": 125,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_reactor_aio_bytes_write{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Total aio-writes bytes",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "Bps",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 34
              },
              "id": 127,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_reactor_aio_reads{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Total aio-reads operations",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 34
              },
              "id": 128,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_reactor_aio_writes{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Total aio-writes operations",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 34
              },
              "id": 129,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_reactor_cpp_exceptions{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Total number of C++ exceptions",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 34
              },
              "id": 130,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_reactor_cpu_busy_ms{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Total cpu busy time in milliseconds",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 34
              },
              "id": 131,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_reactor_cpu_steal_time_ms{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Total steal time, the time in which some other process was running while Seastar was not trying to run (not sleeping).Because this is in userspace, some time that could be legitimally thought as steal time is not accounted as such. For example, if we are sleeping and can wake up but the kernel hasn't woken us up yet.",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 34
              },
              "id": 132,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_reactor_fstream_read_bytes{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Counts bytes read from disk file streams.  A high rate indicates high disk activity. Divide by fstream_reads to determine average read size.",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "Bps",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 34
              },
              "id": 133,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_reactor_fstream_read_bytes_blocked{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Counts the number of bytes read from disk that could not be satisfied from read-ahead buffers, and had to block. Indicates short streams, or incorrect read ahead configuration.",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "Bps",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 34
              },
              "id": 134,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_reactor_fstream_reads{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Counts reads from disk file streams.  A high rate indicates high disk activity. Contrast with other fstream_read* counters to locate bottlenecks.",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 34
              },
              "id": 135,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_reactor_fstream_reads_ahead_bytes_discarded{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Counts the number of buffered bytes that were read ahead of time and were discarded because they were not needed, wasting disk bandwidth. Indicates over-eager read ahead configuration.",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "Bps",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 34
              },
              "id": 136,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_reactor_fstream_reads_aheads_discarded{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Counts the number of times a buffer that was read ahead of time and was discarded because it was not needed, wasting disk bandwidth. Indicates over-eager read ahead configuration.",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 34
              },
              "id": 137,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_reactor_fstream_reads_blocked{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Counts the number of times a disk read could not be satisfied from read-ahead buffers, and had to block. Indicates short streams, or incorrect read ahead configuration.",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 34
              },
              "id": 138,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_reactor_fsyncs{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Total number of fsync operations",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 34
              },
              "id": 139,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_reactor_io_threaded_fallbacks{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Total number of io-threaded-fallbacks operations",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 34
              },
              "id": 140,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_reactor_logging_failures{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Total number of logging failures",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 34
              },
              "id": 141,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_reactor_polls{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Number of times pollers were executed",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 34
              },
              "id": 142,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(vectorized_reactor_tasks_pending{instance=~\"$node\",shard=~\"$node_shard\"}) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Number of pending tasks in the queue",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 34
              },
              "id": 143,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_reactor_tasks_processed{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Total tasks processed",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 34
              },
              "id": 144,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_reactor_timers_pending{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Number of tasks in the timer-pending queue",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 34
              },
              "id": 145,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(vectorized_reactor_utilization{instance=~\"$node\",shard=~\"$node_shard\"}) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "CPU utilization",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            }
          ],
          "span": 0,
          "title": "reactor",
          "transparent": false,
          "type": "row"
        },
        {
          "collapsed": true,
          "error": false,
          "gridPos": {
            "h": 6,
            "w": 24,
            "x": 0,
            "y": 35
          },
          "id": 147,
          "links": null,
          "panels": [
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 35
              },
              "id": 146,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(vectorized_scheduler_queue_length{instance=~\"$node\",shard=~\"$node_shard\"}) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, group: {{group}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Size of backlog on this queue, in tasks; indicates whether the queue is busy and/or contended",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 35
              },
              "id": 148,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_scheduler_runtime_ms{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, group: {{group}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Accumulated runtime of this task queue; an increment rate of 1000ms per second indicates full utilization",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 35
              },
              "id": 149,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(vectorized_scheduler_shares{instance=~\"$node\",shard=~\"$node_shard\"}) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, group: {{group}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Shares allocated to this queue",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 35
              },
              "id": 150,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_scheduler_starvetime_ms{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, group: {{group}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Accumulated starvation time of this task queue; an increment rate of 1000ms per second indicates the scheduler feels really bad",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 35
              },
              "id": 151,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_scheduler_tasks_processed{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, group: {{group}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Count of tasks executing on this queue; indicates together with runtime_ms indicates length of tasks",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 35
              },
              "id": 152,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_scheduler_time_spent_on_task_quota_violations_ms{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, group: {{group}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Total amount in milliseconds we were in violation of the task quota",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 35
              },
              "id": 153,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_scheduler_waittime_ms{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, group: {{group}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Accumulated waittime of this task queue; an increment rate of 1000ms per second indicates queue is waiting for something (e.g. IO)",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            }
          ],
          "span": 0,
          "title": "scheduler",
          "transparent": false,
          "type": "row"
        },
        {
          "collapsed": true,
          "error": false,
          "gridPos": {
            "h": 6,
            "w": 24,
            "x": 0,
            "y": 36
          },
          "id": 156,
          "links": null,
          "panels": [
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 36
              },
              "id": 155,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(vectorized_storage_compaction_backlog_controller_backlog_size{instance=~\"$node\",shard=~\"$node_shard\"}) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "controller backlog",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 36
              },
              "id": 157,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(vectorized_storage_compaction_backlog_controller_error{instance=~\"$node\",shard=~\"$node_shard\"}) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "current controller error, i.e difference between set point and backlog size",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 36
              },
              "id": 158,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(vectorized_storage_compaction_backlog_controller_shares{instance=~\"$node\",shard=~\"$node_shard\"}) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "controller output, i.e. number of shares",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 36
              },
              "id": 159,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_storage_disk_free_bytes{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Disk storage bytes free.",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "Bps",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 36
              },
              "id": 160,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(vectorized_storage_disk_free_space_alert{instance=~\"$node\",shard=~\"$node_shard\"}) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Status of low storage space alert. 0-OK, 1-Low Space 2-Degraded",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 36
              },
              "id": 161,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_storage_disk_total_bytes{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Total size of attached storage, in bytes.",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "Bps",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 36
              },
              "id": 162,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_storage_kvstore_cached_bytes{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Size of the database in memory",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "Bps",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 36
              },
              "id": 163,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_storage_kvstore_entries_fetched{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Number of entries fetched",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 36
              },
              "id": 164,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_storage_kvstore_entries_removed{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Number of entries removaled",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 36
              },
              "id": 165,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_storage_kvstore_entries_written{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Number of entries written",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 36
              },
              "id": 166,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_storage_kvstore_key_count{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Number of keys in the database",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 36
              },
              "id": 167,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_storage_kvstore_segments_rolled{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Number of segments rolled",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 36
              },
              "id": 170,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_storage_log_batches_read{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Total number of batches read",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 36
              },
              "id": 171,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_storage_log_batches_written{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Total number of batches written",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 36
              },
              "id": 172,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_storage_log_cache_hits{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Reader cache hits",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 36
              },
              "id": 173,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_storage_log_cache_misses{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Reader cache misses",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 36
              },
              "id": 174,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_storage_log_cached_batches_read{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Total number of cached batches read",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 36
              },
              "id": 175,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_storage_log_cached_read_bytes{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Total number of cached bytes read",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "Bps",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 36
              },
              "id": 176,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_storage_log_compacted_segment{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Number of compacted segments",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 36
              },
              "id": 177,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_storage_log_compaction_ratio{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Average segment compaction ratio",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 36
              },
              "id": 178,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_storage_log_corrupted_compaction_indices{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Number of times we had to re-construct the .compaction index on a segment",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 36
              },
              "id": 179,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_storage_log_log_segments_active{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Number of active log segments",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 36
              },
              "id": 180,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_storage_log_log_segments_created{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Number of created log segments",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 36
              },
              "id": 181,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_storage_log_log_segments_removed{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Number of removed log segments",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 36
              },
              "id": 182,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(vectorized_storage_log_partition_size{instance=~\"$node\",shard=~\"$node_shard\"}) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Current size of partition in bytes",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 36
              },
              "id": 183,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_storage_log_read_bytes{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Total number of bytes read",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "Bps",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 36
              },
              "id": 184,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_storage_log_readers_added{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Number of readers added to cache",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 36
              },
              "id": 185,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_storage_log_readers_evicted{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Number of readers evicted from cache",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 36
              },
              "id": 186,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_storage_log_written_bytes{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - Total number of bytes written",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "Bps",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 36
              },
              "id": 187,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_storage_log_cached_batches_read{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria) / sum(irate(vectorized_storage_log_batches_read{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Batch cache hit ratio - batches",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 36
              },
              "id": 188,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_storage_log_cached_read_bytes{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria) / sum(irate(vectorized_storage_log_read_bytes{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Batch cache hit ratio - bytes",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            }
          ],
          "span": 0,
          "title": "storage",
          "transparent": false,
          "type": "row"
        },
        {
          "collapsed": true,
          "error": false,
          "gridPos": {
            "h": 6,
            "w": 24,
            "x": 0,
            "y": 37
          },
          "id": 38,
          "links": null,
          "panels": [
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 37
              },
              "id": 37,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(vectorized_internal_rpc_active_connections{instance=~\"$node\",shard=~\"$node_shard\"}) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "internal_rpc: Currently active connections",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 37
              },
              "id": 40,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_internal_rpc_connections_rejected{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - internal_rpc: Number of connections rejected for hitting connection limits",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 37
              },
              "id": 41,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_internal_rpc_connections_wait_rate{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - internal_rpc: Number of connections are blocked by connection rate",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 37
              },
              "id": 42,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_internal_rpc_connects{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - internal_rpc: Number of accepted connections",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 37
              },
              "id": 43,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_internal_rpc_consumed_mem_bytes{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - internal_rpc: Memory consumed by request processing",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "Bps",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 37
              },
              "id": 44,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_internal_rpc_corrupted_headers{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - internal_rpc: Number of requests with corrupted headers",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 37
              },
              "id": 45,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(vectorized_internal_rpc_dispatch_handler_latency{instance=~\"$node\",shard=~\"$node_shard\"}) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "internal_rpc: Latency ",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 37
              },
              "id": 46,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(vectorized_internal_rpc_latency{instance=~\"$node\",shard=~\"$node_shard\"}) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, method: {{method}}, service: {{service}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Internal RPC service latency",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 37
              },
              "id": 47,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_internal_rpc_max_service_mem_bytes{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - internal_rpc: Maximum memory allowed for RPC",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "Bps",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 37
              },
              "id": 49,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_internal_rpc_received_bytes{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - internal_rpc: Number of bytes received from the clients in valid requests",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "Bps",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 37
              },
              "id": 50,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_internal_rpc_requests_blocked_memory{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - internal_rpc: Number of requests blocked in memory backpressure",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 16,
                "y": 37
              },
              "id": 51,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_internal_rpc_requests_completed{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - internal_rpc: Number of successful requests",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "ops",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 37
              },
              "id": 52,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": true,
              "targets": [
                {
                  "expr": "sum(vectorized_internal_rpc_requests_pending{instance=~\"$node\",shard=~\"$node_shard\"}) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "internal_rpc: Number of requests being processed by server",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            },
            {
              "aliasColors": {},
              "bars": false,
              "error": false,
              "fill": 1,
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 8,
                "y": 37
              },
              "id": 53,
              "interval": "1m",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 2,
              "links": null,
              "nullPointMode": "null",
              "renderer": "flot",
              "span": 4,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(irate(vectorized_internal_rpc_sent_bytes{instance=~\"$node\",shard=~\"$node_shard\"}[2m])) by ($aggr_criteria)",
                  "format": "time_series",
                  "intervalFactor": 2,
                  "legendFormat": "node: {{instance}}, shard: {{shard}}",
                  "refId": "",
                  "step": 10
                }
              ],
              "thresholds": null,
              "title": "Rate - internal_rpc: Number of bytes sent to clients",
              "tooltip": {
                "msResolution": true,
                "shared": true,
                "value_type": "cumulative"
              },
              "transparent": false,
              "type": "graph",
              "xaxis": {
                "format": "",
                "logBase": 0,
                "mode": "time",
                "show": true
              },
              "yaxes": [
                {
                  "format": "Bps",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "min": 0,
                  "show": true
                }
              ]
            }
          ],
          "span": 0,
          "title": "vectorized_internal_rpc",
          "transparent": false,
          "type": "row"
        }
      ],
      "refresh": "10s",
      "schemaVersion": 12,
      "tags": [
        "oada"
      ],
      "templating": {
        "list": [
          {
            "allFormat": "",
            "allValue": ".*",
            "current": {
              "text": "",
              "value": null
            },
            "hide": 0,
            "includeAll": true,
            "label": "Node",
            "multi": true,
            "multiFormat": "",
            "name": "node",
            "options": [],
            "query": "label_values(instance)",
            "refresh": 1,
            "sort": 1,
            "type": "query"
          },
          {
            "allFormat": "",
            "allValue": ".*",
            "current": {
              "text": "",
              "value": null
            },
            "hide": 0,
            "includeAll": true,
            "label": "Shard",
            "multi": true,
            "multiFormat": "",
            "name": "node_shard",
            "options": [],
            "query": "label_values(shard)",
            "refresh": 1,
            "sort": 1,
            "type": "query"
          },
          {
            "allFormat": "",
            "allValue": "",
            "current": {
              "text": "Cluster",
              "value": ""
            },
            "hide": 0,
            "includeAll": false,
            "label": "Aggregate by",
            "multi": false,
            "multiFormat": "",
            "name": "aggr_criteria",
            "options": [
              {
                "selected": false,
                "text": "Cluster",
                "value": ""
              },
              {
                "selected": false,
                "text": "Instance",
                "value": "instance,"
              },
              {
                "selected": false,
                "text": "Instance, Shard",
                "value": "instance,shard,"
              }
            ],
            "query": "Cluster : cluster,Instance : instance,Instance\\,Shard : instance\\,shard",
            "refresh": 1,
            "sort": 1,
            "type": "custom"
          }
        ]
      },
      "time": {
        "from": "now-1h",
        "to": "now"
      },
      "timepicker": {
        "refresh_intervals": [
          "5s",
          "10s",
          "30s",
          "1m",
          "5m",
          "15m",
          "30m",
          "1h",
          "2h",
          "1d"
        ],
        "time_options": [
          "5m",
          "15m",
          "1h",
          "6h",
          "12h",
          "24h",
          "2d",
          "7d",
          "30d"
        ]
      },
      "timezone": "utc",
      "title": "Redpanda"
    }
---
# Source: oada/templates/binary-data.yaml
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  namespace: default
  name: binary-data-my-release
  labels:
    app.kubernetes.io/component: binary-data
    helm.sh/chart: oada-3.4.0
    app.kubernetes.io/name: oada
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "3.10.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/part-of: oada
spec:
  accessModes:
    - ReadWriteOnce
  resources:
    requests:
      storage: 100Mi
---
# Source: oada/templates/service-account.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
  namespace: default
  name: role-my-release
  labels:
    helm.sh/chart: oada-3.4.0
    app.kubernetes.io/name: oada
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "3.10.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/part-of: oada
rules:
  - apiGroups: [""]
    resources:
      - pods
      - services
    verbs:
      - get
      - list
      - watch
  - apiGroups: ["batch"]
    resources:
      - jobs
    verbs:
      - get
      - list
      - watch
---
# Source: oada/templates/service-account.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  namespace: default
  name: role-binding-my-release
  labels:
    helm.sh/chart: oada-3.4.0
    app.kubernetes.io/name: oada
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "3.10.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/part-of: oada
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: Role
  name: role-my-release
subjects:
 - kind: ServiceAccount
   name: service-account-my-release
---
# Source: oada/templates/auth.yaml
apiVersion: v1
kind: Service
metadata:
  namespace: default
  name: auth-my-release
  labels:
    app.kubernetes.io/component: auth
    helm.sh/chart: oada-3.4.0
    app.kubernetes.io/name: oada
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "3.10.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/part-of: oada
spec:
  ports:
    - name: http
      port: 80
      targetPort: http
  selector:
    app.kubernetes.io/component: auth
---
# Source: oada/templates/http.yaml
apiVersion: v1
kind: Service
metadata:
  namespace: default
  name: http-handler-my-release
  labels:
    app.kubernetes.io/component: http-handler
    helm.sh/chart: oada-3.4.0
    app.kubernetes.io/name: oada
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "3.10.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/part-of: oada
spec:
  ports:
    - name: http
      port: 80
      targetPort: http
  selector:
    app.kubernetes.io/component: http-handler
    app.kubernetes.io/name: oada
    app.kubernetes.io/instance: my-release
---
# Source: oada/templates/well-known.yaml
apiVersion: v1
kind: Service
metadata:
  namespace: default
  name: well-known-my-release
  labels:
    app.kubernetes.io/component: well-known
    helm.sh/chart: oada-3.4.0
    app.kubernetes.io/name: oada
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "3.10.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/part-of: oada
spec:
  ports:
    - name: http
      port: 80
      targetPort: http
  selector:
    app.kubernetes.io/component: well-known
---
# Source: oada/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  namespace: default
  name: auth-my-release
  labels:
    app.kubernetes.io/component: auth
    helm.sh/chart: oada-3.4.0
    app.kubernetes.io/name: oada
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "3.10.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/part-of: oada
spec:
  replicas: 1
  selector:
    matchLabels:
      app.kubernetes.io/component: auth
      app.kubernetes.io/name: oada
      app.kubernetes.io/instance: my-release
  strategy:
    type: Recreate
  template:
    metadata:
      labels:
        app.kubernetes.io/component: auth
        app.kubernetes.io/name: oada
        app.kubernetes.io/instance: my-release
    spec:
      serviceAccountName: service-account-my-release
      initContainers:
        - name: wait-for-init
          image: groundnuty/k8s-wait-for:no-root-v2.0
          args:
            - job
            - init-my-release
          resources:
            limits:
              cpu: 10m
              memory: 128Mi
            requests:
              cpu: 10m
              memory: 128Mi
      containers:
        - envFrom:
            - configMapRef:
                name: oada-configmap-my-release
          env:
            - name: CONFIG
              value: /oada.config.mjs
            - name: ARANGODB_USERNAME
              valueFrom:
                secretKeyRef:
                  name: arangodb-root-password-my-release
                  key: username
                  optional: false
            - name: ARANGODB_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: arangodb-root-password-my-release
                  key: password
                  optional: false
          image: oada/auth:3.10.0
          imagePullPolicy: IfNotPresent
          command: ["/usr/bin/dumb-init", "--rewrite", "15:2", "--", "/bin/sh"]
          args: ["-c", "yarn workspace @oada/auth run start"]
          # TODO: Better liveness checks
          livenessProbe:
            httpGet:
              port: prometheus
            initialDelaySeconds: 10
            periodSeconds: 10
          securityContext:
            runAsNonRoot: true
            runAsUser: 1000 # run as user node (uid 1000)
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
          name: auth-my-release
          resources:
            limits:
              ephemeral-storage: 512Mi
            requests:
              cpu: 20m
              memory: 128Mi
          ports:
            - name: http
              containerPort: 8080
            
            - name: prometheus
              containerPort: 3000
          volumeMounts:
            - mountPath: /tmp
              name: tmp
      volumes:
        - name: tmp
          emptyDir:
            sizeLimit: 1Gi
            #medium: Memory
      restartPolicy: Always
---
# Source: oada/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  namespace: default
  name: http-handler-my-release
  labels:
    app.kubernetes.io/component: http-handler
    helm.sh/chart: oada-3.4.0
    app.kubernetes.io/name: oada
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "3.10.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/part-of: oada
spec:
  replicas: 1
  selector:
    matchLabels:
      app.kubernetes.io/component: http-handler
      app.kubernetes.io/name: oada
      app.kubernetes.io/instance: my-release
  strategy:
    type: Recreate
  template:
    metadata:
      labels:
        app.kubernetes.io/component: http-handler
        app.kubernetes.io/name: oada
        app.kubernetes.io/instance: my-release
    spec:
      serviceAccountName: service-account-my-release
      initContainers:
        - name: wait-for-init
          image: groundnuty/k8s-wait-for:no-root-v2.0
          args:
            - job
            - init-my-release
          resources:
            limits:
              cpu: 10m
              memory: 128Mi
            requests:
              cpu: 10m
              memory: 128Mi
      containers:
        - envFrom:
            - configMapRef:
                name: oada-configmap-my-release
          env:
            - name: CONFIG
              value: /oada.config.mjs
            - name: ARANGODB_USERNAME
              valueFrom:
                secretKeyRef:
                  name: arangodb-root-password-my-release
                  key: username
                  optional: false
            - name: ARANGODB_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: arangodb-root-password-my-release
                  key: password
                  optional: false
          image: oada/http-handler:3.10.0
          imagePullPolicy: IfNotPresent
          command: ["/usr/bin/dumb-init", "--rewrite", "15:2", "--", "/bin/sh"]
          args: ["-c", "yarn workspace @oada/http-handler run start"]
          # TODO: Better liveness checks
          livenessProbe:
            httpGet:
              port: prometheus
            initialDelaySeconds: 10
            periodSeconds: 10
          securityContext:
            runAsNonRoot: true
            runAsUser: 1000 # run as user node (uid 1000)
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
          name: http-handler-my-release
          resources:
            limits:
              ephemeral-storage: 512Mi
            requests:
              cpu: 20m
              memory: 128Mi
          ports:
            - name: http
              containerPort: 8080
            
            - name: prometheus
              containerPort: 3000
          volumeMounts:
            - mountPath: /oada/binary
              name: binary-data
            - mountPath: /tmp
              name: tmp
      volumes:
        - name: binary-data
          persistentVolumeClaim:
            claimName: binary-data-my-release
        - name: tmp
          emptyDir:
            sizeLimit: 1Gi
            #medium: Memory
      restartPolicy: Always
---
# Source: oada/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  namespace: default
  name: rev-graph-update-my-release
  labels:
    app.kubernetes.io/component: rev-graph-update
    helm.sh/chart: oada-3.4.0
    app.kubernetes.io/name: oada
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "3.10.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/part-of: oada
spec:
  replicas: 1
  selector:
    matchLabels:
      app.kubernetes.io/component: rev-graph-update
      app.kubernetes.io/name: oada
      app.kubernetes.io/instance: my-release
  strategy:
    type: Recreate
  template:
    metadata:
      labels:
        app.kubernetes.io/component: rev-graph-update
        app.kubernetes.io/name: oada
        app.kubernetes.io/instance: my-release
    spec:
      serviceAccountName: service-account-my-release
      initContainers:
        - name: wait-for-init
          image: groundnuty/k8s-wait-for:no-root-v2.0
          args:
            - job
            - init-my-release
          resources:
            limits:
              cpu: 10m
              memory: 128Mi
            requests:
              cpu: 10m
              memory: 128Mi
      containers:
        - envFrom:
            - configMapRef:
                name: oada-configmap-my-release
          env:
            - name: CONFIG
              value: /oada.config.mjs
            - name: ARANGODB_USERNAME
              valueFrom:
                secretKeyRef:
                  name: arangodb-root-password-my-release
                  key: username
                  optional: false
            - name: ARANGODB_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: arangodb-root-password-my-release
                  key: password
                  optional: false
          image: oada/rev-graph-update:3.10.0
          imagePullPolicy: IfNotPresent
          command: ["/usr/bin/dumb-init", "--rewrite", "15:2", "--", "/bin/sh"]
          args: ["-c", "yarn workspace @oada/rev-graph-update run start"]
          # TODO: Better liveness checks
          livenessProbe:
            httpGet:
              port: prometheus
            initialDelaySeconds: 10
            periodSeconds: 10
          securityContext:
            runAsNonRoot: true
            runAsUser: 1000 # run as user node (uid 1000)
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
          name: rev-graph-update-my-release
          resources:
            limits:
              ephemeral-storage: 512Mi
            requests:
              cpu: 20m
              memory: 128Mi
          ports:
            
            
            - name: prometheus
              containerPort: 3000
          volumeMounts:
            - mountPath: /tmp
              name: tmp
      volumes:
        - name: tmp
          emptyDir:
            sizeLimit: 1Gi
            #medium: Memory
      restartPolicy: Always
---
# Source: oada/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  namespace: default
  name: shares-my-release
  labels:
    app.kubernetes.io/component: shares
    helm.sh/chart: oada-3.4.0
    app.kubernetes.io/name: oada
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "3.10.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/part-of: oada
spec:
  replicas: 1
  selector:
    matchLabels:
      app.kubernetes.io/component: shares
      app.kubernetes.io/name: oada
      app.kubernetes.io/instance: my-release
  strategy:
    type: Recreate
  template:
    metadata:
      labels:
        app.kubernetes.io/component: shares
        app.kubernetes.io/name: oada
        app.kubernetes.io/instance: my-release
    spec:
      serviceAccountName: service-account-my-release
      initContainers:
        - name: wait-for-init
          image: groundnuty/k8s-wait-for:no-root-v2.0
          args:
            - job
            - init-my-release
          resources:
            limits:
              cpu: 10m
              memory: 128Mi
            requests:
              cpu: 10m
              memory: 128Mi
      containers:
        - envFrom:
            - configMapRef:
                name: oada-configmap-my-release
          env:
            - name: CONFIG
              value: /oada.config.mjs
            - name: ARANGODB_USERNAME
              valueFrom:
                secretKeyRef:
                  name: arangodb-root-password-my-release
                  key: username
                  optional: false
            - name: ARANGODB_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: arangodb-root-password-my-release
                  key: password
                  optional: false
          image: oada/shares:3.10.0
          imagePullPolicy: IfNotPresent
          command: ["/usr/bin/dumb-init", "--rewrite", "15:2", "--", "/bin/sh"]
          args: ["-c", "yarn workspace @oada/shares run start"]
          # TODO: Better liveness checks
          livenessProbe:
            httpGet:
              port: prometheus
            initialDelaySeconds: 10
            periodSeconds: 10
          securityContext:
            runAsNonRoot: true
            runAsUser: 1000 # run as user node (uid 1000)
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
          name: shares-my-release
          resources:
            limits:
              ephemeral-storage: 512Mi
            requests:
              cpu: 20m
              memory: 128Mi
          ports:
            
            
            - name: prometheus
              containerPort: 3000
          volumeMounts:
            - mountPath: /tmp
              name: tmp
      volumes:
        - name: tmp
          emptyDir:
            sizeLimit: 1Gi
            #medium: Memory
      restartPolicy: Always
---
# Source: oada/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  namespace: default
  name: sync-handler-my-release
  labels:
    app.kubernetes.io/component: sync-handler
    helm.sh/chart: oada-3.4.0
    app.kubernetes.io/name: oada
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "3.10.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/part-of: oada
spec:
  replicas: 1
  selector:
    matchLabels:
      app.kubernetes.io/component: sync-handler
      app.kubernetes.io/name: oada
      app.kubernetes.io/instance: my-release
  strategy:
    type: Recreate
  template:
    metadata:
      labels:
        app.kubernetes.io/component: sync-handler
        app.kubernetes.io/name: oada
        app.kubernetes.io/instance: my-release
    spec:
      serviceAccountName: service-account-my-release
      initContainers:
        - name: wait-for-init
          image: groundnuty/k8s-wait-for:no-root-v2.0
          args:
            - job
            - init-my-release
          resources:
            limits:
              cpu: 10m
              memory: 128Mi
            requests:
              cpu: 10m
              memory: 128Mi
      containers:
        - envFrom:
            - configMapRef:
                name: oada-configmap-my-release
          env:
            - name: CONFIG
              value: /oada.config.mjs
            - name: ARANGODB_USERNAME
              valueFrom:
                secretKeyRef:
                  name: arangodb-root-password-my-release
                  key: username
                  optional: false
            - name: ARANGODB_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: arangodb-root-password-my-release
                  key: password
                  optional: false
          image: oada/sync-handler:3.10.0
          imagePullPolicy: IfNotPresent
          command: ["/usr/bin/dumb-init", "--rewrite", "15:2", "--", "/bin/sh"]
          args: ["-c", "yarn workspace @oada/sync-handler run start"]
          # TODO: Better liveness checks
          livenessProbe:
            httpGet:
              port: prometheus
            initialDelaySeconds: 10
            periodSeconds: 10
          securityContext:
            runAsNonRoot: true
            runAsUser: 1000 # run as user node (uid 1000)
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
          name: sync-handler-my-release
          resources:
            limits:
              ephemeral-storage: 512Mi
            requests:
              cpu: 20m
              memory: 128Mi
          ports:
            
            
            - name: prometheus
              containerPort: 3000
          volumeMounts:
            - mountPath: /tmp
              name: tmp
      volumes:
        - name: tmp
          emptyDir:
            sizeLimit: 1Gi
            #medium: Memory
      restartPolicy: Always
---
# Source: oada/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  namespace: default
  name: users-my-release
  labels:
    app.kubernetes.io/component: users
    helm.sh/chart: oada-3.4.0
    app.kubernetes.io/name: oada
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "3.10.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/part-of: oada
spec:
  replicas: 1
  selector:
    matchLabels:
      app.kubernetes.io/component: users
      app.kubernetes.io/name: oada
      app.kubernetes.io/instance: my-release
  strategy:
    type: Recreate
  template:
    metadata:
      labels:
        app.kubernetes.io/component: users
        app.kubernetes.io/name: oada
        app.kubernetes.io/instance: my-release
    spec:
      serviceAccountName: service-account-my-release
      initContainers:
        - name: wait-for-init
          image: groundnuty/k8s-wait-for:no-root-v2.0
          args:
            - job
            - init-my-release
          resources:
            limits:
              cpu: 10m
              memory: 128Mi
            requests:
              cpu: 10m
              memory: 128Mi
      containers:
        - envFrom:
            - configMapRef:
                name: oada-configmap-my-release
          env:
            - name: CONFIG
              value: /oada.config.mjs
            - name: ARANGODB_USERNAME
              valueFrom:
                secretKeyRef:
                  name: arangodb-root-password-my-release
                  key: username
                  optional: false
            - name: ARANGODB_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: arangodb-root-password-my-release
                  key: password
                  optional: false
          image: oada/users:3.10.0
          imagePullPolicy: IfNotPresent
          command: ["/usr/bin/dumb-init", "--rewrite", "15:2", "--", "/bin/sh"]
          args: ["-c", "yarn workspace @oada/users run start"]
          # TODO: Better liveness checks
          livenessProbe:
            httpGet:
              port: prometheus
            initialDelaySeconds: 10
            periodSeconds: 10
          securityContext:
            runAsNonRoot: true
            runAsUser: 1000 # run as user node (uid 1000)
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
          name: users-my-release
          resources:
            limits:
              ephemeral-storage: 512Mi
            requests:
              cpu: 20m
              memory: 128Mi
          ports:
            
            
            - name: prometheus
              containerPort: 3000
          volumeMounts:
            - mountPath: /tmp
              name: tmp
      volumes:
        - name: tmp
          emptyDir:
            sizeLimit: 1Gi
            #medium: Memory
      restartPolicy: Always
---
# Source: oada/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  namespace: default
  name: webhooks-my-release
  labels:
    app.kubernetes.io/component: webhooks
    helm.sh/chart: oada-3.4.0
    app.kubernetes.io/name: oada
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "3.10.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/part-of: oada
spec:
  replicas: 1
  selector:
    matchLabels:
      app.kubernetes.io/component: webhooks
      app.kubernetes.io/name: oada
      app.kubernetes.io/instance: my-release
  strategy:
    type: Recreate
  template:
    metadata:
      labels:
        app.kubernetes.io/component: webhooks
        app.kubernetes.io/name: oada
        app.kubernetes.io/instance: my-release
    spec:
      serviceAccountName: service-account-my-release
      initContainers:
        - name: wait-for-init
          image: groundnuty/k8s-wait-for:no-root-v2.0
          args:
            - job
            - init-my-release
          resources:
            limits:
              cpu: 10m
              memory: 128Mi
            requests:
              cpu: 10m
              memory: 128Mi
      containers:
        - envFrom:
            - configMapRef:
                name: oada-configmap-my-release
          env:
            - name: CONFIG
              value: /oada.config.mjs
            - name: ARANGODB_USERNAME
              valueFrom:
                secretKeyRef:
                  name: arangodb-root-password-my-release
                  key: username
                  optional: false
            - name: ARANGODB_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: arangodb-root-password-my-release
                  key: password
                  optional: false
          image: oada/webhooks:3.10.0
          imagePullPolicy: IfNotPresent
          command: ["/usr/bin/dumb-init", "--rewrite", "15:2", "--", "/bin/sh"]
          args: ["-c", "yarn workspace @oada/webhooks run start"]
          # TODO: Better liveness checks
          livenessProbe:
            httpGet:
              port: prometheus
            initialDelaySeconds: 10
            periodSeconds: 10
          securityContext:
            runAsNonRoot: true
            runAsUser: 1000 # run as user node (uid 1000)
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
          name: webhooks-my-release
          resources:
            limits:
              ephemeral-storage: 512Mi
            requests:
              cpu: 20m
              memory: 128Mi
          ports:
            
            
            - name: prometheus
              containerPort: 3000
          volumeMounts:
            - mountPath: /tmp
              name: tmp
      volumes:
        - name: tmp
          emptyDir:
            sizeLimit: 1Gi
            #medium: Memory
      restartPolicy: Always
---
# Source: oada/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  namespace: default
  name: well-known-my-release
  labels:
    app.kubernetes.io/component: well-known
    helm.sh/chart: oada-3.4.0
    app.kubernetes.io/name: oada
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "3.10.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/part-of: oada
spec:
  replicas: 1
  selector:
    matchLabels:
      app.kubernetes.io/component: well-known
      app.kubernetes.io/name: oada
      app.kubernetes.io/instance: my-release
  strategy:
    type: Recreate
  template:
    metadata:
      labels:
        app.kubernetes.io/component: well-known
        app.kubernetes.io/name: oada
        app.kubernetes.io/instance: my-release
    spec:
      serviceAccountName: service-account-my-release
      initContainers:
        - name: wait-for-init
          image: groundnuty/k8s-wait-for:no-root-v2.0
          args:
            - job
            - init-my-release
          resources:
            limits:
              cpu: 10m
              memory: 128Mi
            requests:
              cpu: 10m
              memory: 128Mi
      containers:
        - envFrom:
            - configMapRef:
                name: oada-configmap-my-release
          env:
            - name: CONFIG
              value: /oada.config.mjs
            - name: ARANGODB_USERNAME
              valueFrom:
                secretKeyRef:
                  name: arangodb-root-password-my-release
                  key: username
                  optional: false
            - name: ARANGODB_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: arangodb-root-password-my-release
                  key: password
                  optional: false
          image: oada/well-known:3.10.0
          imagePullPolicy: IfNotPresent
          command: ["/usr/bin/dumb-init", "--rewrite", "15:2", "--", "/bin/sh"]
          args: ["-c", "yarn workspace @oada/well-known run start"]
          # TODO: Better liveness checks
          livenessProbe:
            httpGet:
              port: prometheus
            initialDelaySeconds: 10
            periodSeconds: 10
          securityContext:
            runAsNonRoot: true
            runAsUser: 1000 # run as user node (uid 1000)
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
          name: well-known-my-release
          resources:
            limits:
              ephemeral-storage: 512Mi
            requests:
              cpu: 20m
              memory: 128Mi
          ports:
            - name: http
              containerPort: 8080
            
            - name: prometheus
              containerPort: 3000
          volumeMounts:
            - mountPath: /tmp
              name: tmp
      volumes:
        - name: tmp
          emptyDir:
            sizeLimit: 1Gi
            #medium: Memory
      restartPolicy: Always
---
# Source: oada/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  namespace: default
  name: write-handler-my-release
  labels:
    app.kubernetes.io/component: write-handler
    helm.sh/chart: oada-3.4.0
    app.kubernetes.io/name: oada
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "3.10.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/part-of: oada
spec:
  replicas: 1
  selector:
    matchLabels:
      app.kubernetes.io/component: write-handler
      app.kubernetes.io/name: oada
      app.kubernetes.io/instance: my-release
  strategy:
    type: Recreate
  template:
    metadata:
      labels:
        app.kubernetes.io/component: write-handler
        app.kubernetes.io/name: oada
        app.kubernetes.io/instance: my-release
    spec:
      serviceAccountName: service-account-my-release
      initContainers:
        - name: wait-for-init
          image: groundnuty/k8s-wait-for:no-root-v2.0
          args:
            - job
            - init-my-release
          resources:
            limits:
              cpu: 10m
              memory: 128Mi
            requests:
              cpu: 10m
              memory: 128Mi
      containers:
        - envFrom:
            - configMapRef:
                name: oada-configmap-my-release
          env:
            - name: CONFIG
              value: /oada.config.mjs
            - name: ARANGODB_USERNAME
              valueFrom:
                secretKeyRef:
                  name: arangodb-root-password-my-release
                  key: username
                  optional: false
            - name: ARANGODB_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: arangodb-root-password-my-release
                  key: password
                  optional: false
          image: oada/write-handler:3.10.0
          imagePullPolicy: IfNotPresent
          command: ["/usr/bin/dumb-init", "--rewrite", "15:2", "--", "/bin/sh"]
          args: ["-c", "yarn workspace @oada/write-handler run start"]
          # TODO: Better liveness checks
          livenessProbe:
            httpGet:
              port: prometheus
            initialDelaySeconds: 10
            periodSeconds: 10
          securityContext:
            runAsNonRoot: true
            runAsUser: 1000 # run as user node (uid 1000)
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
          name: write-handler-my-release
          resources:
            limits:
              ephemeral-storage: 512Mi
            requests:
              cpu: 20m
              memory: 128Mi
          ports:
            
            
            - name: prometheus
              containerPort: 3000
          volumeMounts:
            - mountPath: /tmp
              name: tmp
      volumes:
        - name: tmp
          emptyDir:
            sizeLimit: 1Gi
            #medium: Memory
      restartPolicy: Always
---
# Source: oada/templates/init.yaml
apiVersion: batch/v1
kind: Job
metadata:
  namespace: default
  name: init-my-release
  labels:
    app.kubernetes.io/component: init
    helm.sh/chart: oada-3.4.0
    app.kubernetes.io/name: oada
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "3.10.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/part-of: oada
spec:
  backoffLimit: 10
  template:
    spec:
      restartPolicy: OnFailure
      serviceAccountName: service-account-my-release
      initContainers:
        
        
      containers:
        - name: init
          envFrom:
            - configMapRef:
                name: oada-configmap-my-release
          env:
            - name: ARANGODB_USERNAME
              valueFrom:
                secretKeyRef:
                  name: arangodb-root-password-my-release
                  key: username
                  optional: false
            - name: ARANGODB_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: arangodb-root-password-my-release
                  key: password
                  optional: false
            - name: EXIT
              value: 'true'
          
          image: oada/startup:3.10.0
          imagePullPolicy: IfNotPresent
          resources:
            limits:
              ephemeral-storage: 512Mi
            requests:
              ephemeral-storage: 512Mi
---
# Source: oada/templates/users.yaml
apiVersion: batch/v1
kind: Job
metadata:
  namespace: default
  name: user-add-admin-my-release
  labels:
    app.kubernetes.io/component: init
    helm.sh/chart: oada-3.4.0
    app.kubernetes.io/name: oada
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "3.10.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/part-of: oada
spec:
  backoffLimit: 10
  template:
    spec:
      restartPolicy: OnFailure
      serviceAccountName: service-account-my-release
      initContainers:
        - name: wait-for-init
          image: groundnuty/k8s-wait-for:no-root-v2.0
          args:
            - job
            - init-my-release
          resources:
            limits:
              cpu: 10m
              memory: 128Mi
            requests:
              cpu: 10m
              memory: 128Mi
        - name: wait-for-users
          image: groundnuty/k8s-wait-for:no-root-v2.0
          args:
            - pod
            - '-l app.kubernetes.io/component=users,app.kubernetes.io/instance=my-release'
          resources:
            limits:
              cpu: 10m
              memory: 128Mi
            requests:
              cpu: 10m
              memory: 128Mi
        - name: user-add
          envFrom:
            - configMapRef:
                name: oada-configmap-my-release
          env:
            - name: ARANGODB_USERNAME
              valueFrom:
                secretKeyRef:
                  name: arangodb-root-password-my-release
                  key: username
                  optional: false
            - name: ARANGODB_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: arangodb-root-password-my-release
                  key: password
                  optional: false
          
          image: oada/users:3.10.0
          #imagePullPolicy: IfNotPresent
          command: ["/usr/bin/dumb-init", "--rewrite", "15:2", "--", "/bin/sh"]
          args: ["-c", "yarn workspace @oada/users run add -u admin -a true "]
          resources:
            limits:
              ephemeral-storage: 512Mi
            requests:
              ephemeral-storage: 512Mi
      containers:
        - name: token-create
          envFrom:
            - configMapRef:
                name: oada-configmap-my-release
          env:
            - name: TOKEN
              valueFrom:
                secretKeyRef:
                  name: user-admin-my-release
                  key: token
            - name: ARANGODB_USERNAME
              valueFrom:
                secretKeyRef:
                  name: arangodb-root-password-my-release
                  key: username
                  optional: false
            - name: ARANGODB_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: arangodb-root-password-my-release
                  key: password
                  optional: false
          
          image: oada/auth:3.10.0
          imagePullPolicy: IfNotPresent
          command: ["/usr/bin/dumb-init", "--rewrite", "15:2", "--", "/bin/sh"]
          args: ["-c", "yarn workspace @oada/auth run token create -u admin -s all:all,oada.admin.user:all ${TOKEN} "]
          resources:
            limits:
              ephemeral-storage: 512Mi
            requests:
              ephemeral-storage: 512Mi
---
# Source: oada/templates/auth.yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  namespace: default
  name: auth-ingress-my-release
  labels:
    app.kubernetes.io/component: auth
    
    helm.sh/chart: oada-3.4.0
    app.kubernetes.io/name: oada
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "3.10.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/part-of: oada
  annotations:
    #nginx.ingress.kubernetes.io/rewrite-target: /
    cert-manager.io/issuer: issuer-oada-my-release
spec:
  
  tls:
    - hosts: ["localhost"]
      secretName: tls-my-release
  rules:
    - http:
        paths:
          - path: /oadaauth/
            pathType: Prefix
            backend:
              service:
                name: auth-my-release
                port:
                  name: http
---
# Source: oada/templates/http.yaml
# TODO: Why do I get an error with just `path: /`?
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  namespace: default
  name: websocket-ingress-my-release
  labels:
    app.kubernetes.io/component: http-handler
    
    helm.sh/chart: oada-3.4.0
    app.kubernetes.io/name: oada
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "3.10.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/part-of: oada
  annotations:
    nginx.ingress.kubernetes.io/rewrite-target: /
    cert-manager.io/issuer: issuer-oada-my-release
spec:
  
  tls:
    - hosts: ["localhost"]
      secretName: tls-my-release
  rules:
    - http:
        paths:
          - pathType: Exact
            backend:
              service:
                name: http-handler-my-release
                port:
                  name: http
            path: /$
---
# Source: oada/templates/http.yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  namespace: default
  name: http-ingress-my-release
  labels:
    app.kubernetes.io/component: http-handler
    
    helm.sh/chart: oada-3.4.0
    app.kubernetes.io/name: oada
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "3.10.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/part-of: oada
  annotations:
    cert-manager.io/issuer: issuer-oada-my-release
spec:
  
  tls:
    - hosts: ["localhost"]
      secretName: tls-my-release
  rules:
    - http:
        paths:
          
          - path: /resources
            pathType: Prefix
            backend:
              service:
                name: http-handler-my-release
                port:
                  name: http
          - path: /bookmarks
            pathType: Prefix
            backend:
              service:
                name: http-handler-my-release
                port:
                  name: http
          - path: /shares
            pathType: Prefix
            backend:
              service:
                name: http-handler-my-release
                port:
                  name: http
          - path: /users
            pathType: Prefix
            backend:
              service:
                name: http-handler-my-release
                port:
                  name: http
          - path: /authorizations
            pathType: Prefix
            backend:
              service:
                name: http-handler-my-release
                port:
                  name: http
---
# Source: oada/templates/well-known.yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  namespace: default
  name: well-known-ingress-my-release
  labels:
    app.kubernetes.io/component: well-known
    
    helm.sh/chart: oada-3.4.0
    app.kubernetes.io/name: oada
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "3.10.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/part-of: oada
  annotations:
    #nginx.ingress.kubernetes.io/rewrite-target: /
    cert-manager.io/issuer: issuer-oada-my-release
spec:
  
  tls:
    - hosts: ["localhost"]
      secretName: tls-my-release
  rules:
    - http:
        paths:
          - path: /.well-known/
            pathType: Prefix
            backend:
              service:
                name: well-known-my-release
                port:
                  name: http
---
# Source: oada/templates/issuer.yaml
apiVersion: cert-manager.io/v1
kind: Issuer
metadata:
  namespace: default
  name: letsencrypt-my-release
  labels:
    app.kubernetes.io/component: letsencrypt
    helm.sh/chart: oada-3.4.0
    app.kubernetes.io/name: oada
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "3.10.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/part-of: oada
spec:
  
  selfSigned: {}
---
# Source: oada/templates/tests/bookmarks.yaml
apiVersion: v1
kind: Pod
metadata:
  name: test-bookmarks-my-release
  labels:
    app.kubernetes.io/component: test-bookmarks
    helm.sh/chart: oada-3.4.0
    app.kubernetes.io/name: oada
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "3.10.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/part-of: oada
  annotations:
    "helm.sh/hook": test
spec:
  volumes:
    - name: header-volume
      secret:
        secretName: user-admin-my-release
        items:
          - key: header
            path: header
  containers:
    - name: bookmarks
      image: curlimages/curl
      volumeMounts:
        - name: header-volume
          mountPath: /secrets
          readOnly: true
      args:
        - --header
        - '@/secrets/header'
        - http://http-handler-my-release/bookmarks/
  restartPolicy: Never
---
# Source: oada/templates/tests/well-known.yaml
apiVersion: v1
kind: Pod
metadata:
  name: test-oada-configuration-my-release
  labels:
    app.kubernetes.io/component: test-oada-configuration
    helm.sh/chart: oada-3.4.0
    app.kubernetes.io/name: oada
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "3.10.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/part-of: oada
  annotations:
    "helm.sh/hook": test
spec:
  containers:
    - name: oada-configuration
      image: curlimages/curl
      args:
        - http://well-known-my-release/.well-known/oada-configuration
  restartPolicy: Never---
apiVersion: v1
kind: Pod
metadata:
  name: test-openid-configuration-my-release
  labels:
    app.kubernetes.io/component: test-openid-configuration
    helm.sh/chart: oada-3.4.0
    app.kubernetes.io/name: oada
    app.kubernetes.io/instance: my-release
    app.kubernetes.io/version: "3.10.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/part-of: oada
  annotations:
    "helm.sh/hook": test
spec:
  containers:
    - name: openid-configuration
      image: curlimages/curl
      args:
        - http://well-known-my-release/.well-known/openid-configuration
  restartPolicy: Never
